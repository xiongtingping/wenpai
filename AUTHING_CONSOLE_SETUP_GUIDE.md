# Authing控制台配置指南

## 🎯 问题分析

根据诊断结果，新应用配置（App ID: `687bc631c105de597b993202`）的网络连接正常，但登录页面显示异常。问题很可能出现在Authing控制台的应用配置中。

## 📋 配置步骤

### 步骤1: 登录Authing控制台

1. 访问 https://console.authing.cn/
2. 使用您的账号登录

### 步骤2: 找到应用

1. 在左侧菜单中找到 **"应用"**
2. 找到应用ID为 `687bc631c105de597b993202` 的应用
3. 点击进入应用详情

### 步骤3: 检查应用状态

1. **启用应用**：
   - 确保应用状态为"已启用"
   - 如果未启用，点击"启用"按钮

2. **检查应用类型**：
   - 确保应用类型为"单页应用(SPA)"或"Web应用"
   - 不要选择"原生应用"或"小程序"

### 步骤4: 配置回调地址

1. 在应用详情页面找到 **"登录回调地址"** 或 **"Redirect URIs"**
2. 添加以下回调地址：
   ```
   http://localhost:5173/callback
   https://www.wenpai.xyz/callback
   ```

### 步骤5: 配置安全设置

1. **CORS设置**：
   - 找到 **"安全设置"** 或 **"CORS"**
   - 添加以下域名：
   ```
   http://localhost:5173
   https://www.wenpai.xyz
   ```

2. **Web起源**：
   - 添加以下Web起源：
   ```
   http://localhost:5173
   https://www.wenpai.xyz
   ```

### 步骤6: 配置用户池

1. **检查用户池关联**：
   - 确保应用已关联到正确的用户池
   - 如果没有关联，选择或创建用户池

2. **用户池设置**：
   - 确保用户池状态为"正常"
   - 检查用户池的域名配置

### 步骤7: 配置登录方式

1. **启用登录方式**：
   - 找到 **"登录方式"** 或 **"认证方式"**
   - 确保启用了以下登录方式：
     - 用户名密码登录
     - 邮箱登录
     - 手机号登录

2. **注册设置**：
   - 确保启用了用户注册功能
   - 设置注册验证方式（邮箱验证或手机验证）

### 步骤8: 配置权限

1. **应用权限**：
   - 确保应用有登录和注册权限
   - 检查是否有IP白名单限制

2. **用户权限**：
   - 确保允许所有用户登录和注册
   - 检查是否有用户组限制

### 步骤9: 保存配置

1. 点击 **"保存"** 按钮
2. 等待配置生效（通常需要1-2分钟）

## 🔧 常见问题解决

### 问题1: 登录页面显示异常

**解决方案**：
1. 检查应用类型是否正确设置为"单页应用(SPA)"
2. 确保回调地址配置正确
3. 检查CORS设置是否包含本地开发域名

### 问题2: 没有注册页面

**解决方案**：
1. 确保启用了用户注册功能
2. 检查注册验证方式配置
3. 确保没有用户组限制

### 问题3: 权限错误

**解决方案**：
1. 检查应用是否已启用
2. 确保用户池配置正确
3. 检查IP白名单设置

### 问题4: 回调地址错误

**解决方案**：
1. 确保回调地址格式正确
2. 检查是否包含协议（http/https）
3. 确保端口号正确

## 🧪 测试步骤

配置完成后，按以下步骤测试：

1. **重启开发服务器**：
   ```bash
   npm run dev
   ```

2. **访问应用**：
   - 打开 http://localhost:5173

3. **测试登录**：
   - 点击登录按钮
   - 检查是否正常跳转到Authing登录页面
   - 检查登录页面是否显示正常

4. **测试注册**：
   - 点击注册按钮
   - 检查是否正常跳转到Authing注册页面
   - 检查注册页面是否显示正常

5. **测试回调**：
   - 完成登录/注册后
   - 检查是否正常跳转回应用
   - 检查用户状态是否正确

## 📞 技术支持

如果按照上述步骤配置后仍有问题：

1. **检查Authing文档**：https://docs.authing.cn/
2. **联系Authing支持**：通过控制台提交工单
3. **查看应用日志**：在控制台查看应用访问日志

## ✅ 配置检查清单

- [ ] 应用已启用
- [ ] 应用类型正确（SPA/Web应用）
- [ ] 回调地址已配置
- [ ] CORS设置正确
- [ ] Web起源已添加
- [ ] 用户池已关联
- [ ] 登录方式已启用
- [ ] 注册功能已启用
- [ ] 权限配置正确
- [ ] 配置已保存

完成所有配置后，重新测试登录功能！ 