<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®å¤éªŒè¯æµ‹è¯•</title>
</head>
<body>
    <h1>ğŸ”§ ä¿®å¤éªŒè¯æµ‹è¯•</h1>
    
    <div id="results">
        <h2>æµ‹è¯•ç»“æœï¼š</h2>
        <div id="env-test"></div>
        <div id="authing-test"></div>
        <div id="module-test"></div>
    </div>

    <script>
        // æµ‹è¯•ç¯å¢ƒå˜é‡æ³¨å…¥
        function testEnvVars() {
            const envDiv = document.getElementById('env-test');
            const env = window.__ENV__;
            
            if (env) {
                envDiv.innerHTML = `
                    <h3>âœ… ç¯å¢ƒå˜é‡æ³¨å…¥æµ‹è¯•</h3>
                    <p><strong>VITE_AUTHING_APP_ID:</strong> ${env.VITE_AUTHING_APP_ID ? 'âœ… å·²è®¾ç½®' : 'âŒ æœªè®¾ç½®'}</p>
                    <p><strong>VITE_AUTHING_HOST:</strong> ${env.VITE_AUTHING_HOST ? 'âœ… å·²è®¾ç½®' : 'âŒ æœªè®¾ç½®'}</p>
                    <p><strong>VITE_OPENAI_API_KEY:</strong> ${env.VITE_OPENAI_API_KEY ? 'âœ… å·²è®¾ç½®' : 'âŒ æœªè®¾ç½®'}</p>
                `;
            } else {
                envDiv.innerHTML = '<h3>âŒ ç¯å¢ƒå˜é‡æ³¨å…¥å¤±è´¥</h3>';
            }
        }

        // æµ‹è¯•æ¨¡å—åŠ è½½
        function testModuleLoading() {
            const moduleDiv = document.getElementById('module-test');
            
            // æµ‹è¯•åŠ¨æ€å¯¼å…¥
            import('/src/lib/utils.ts')
                .then(() => {
                    moduleDiv.innerHTML = '<h3>âœ… æ¨¡å—åŠ è½½æµ‹è¯•é€šè¿‡</h3>';
                })
                .catch(error => {
                    moduleDiv.innerHTML = `<h3>âŒ æ¨¡å—åŠ è½½å¤±è´¥</h3><p>é”™è¯¯: ${error.message}</p>`;
                });
        }

        // é¡µé¢åŠ è½½å®Œæˆåè¿è¡Œæµ‹è¯•
        window.addEventListener('load', () => {
            testEnvVars();
            testModuleLoading();
        });
    </script>
</body>
</html> 