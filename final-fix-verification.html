<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€ç»ˆä¿®å¤éªŒè¯</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .status { padding: 15px; margin: 10px 0; border-radius: 8px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        button { padding: 12px 24px; margin: 10px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .test-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .test-card { padding: 20px; border: 1px solid #ddd; border-radius: 8px; background: #f8f9fa; }
        .countdown { font-size: 24px; font-weight: bold; color: #007bff; }
    </style>
</head>
<body>
    <h1>ğŸ¯ æœ€ç»ˆä¿®å¤éªŒè¯</h1>
    
    <div class="status success">
        <strong>ä¿®å¤ç­–ç•¥ï¼š</strong>å·²é‡‡ç”¨ç¡¬ç¼–ç é…ç½®æ–¹å¼ï¼Œç»•è¿‡ç¯å¢ƒå˜é‡æ³¨å…¥é—®é¢˜
    </div>
    
    <div class="status info">
        <strong>é¢„æœŸç»“æœï¼š</strong>ä¸å†å‡ºç°"appId is required"é”™è¯¯ï¼ŒAuthing Guardå®ä¾‹å¯ä»¥æ­£å¸¸åˆå§‹åŒ–
    </div>
    
    <div class="test-grid">
        <div class="test-card">
            <h3>ğŸ”§ é…ç½®éªŒè¯</h3>
            <p>éªŒè¯ç¡¬ç¼–ç é…ç½®æ˜¯å¦æ­£ç¡®</p>
            <div class="status success">
                <strong>App ID:</strong> 68823897631e1ef8ff3720b2<br>
                <strong>Domain:</strong> rzcswqd4sq0f.authing.cn<br>
                <strong>Host:</strong> https://rzcswqd4sq0f.authing.cn
            </div>
        </div>
        
        <div class="test-card">
            <h3>ğŸš€ ä¸»åº”ç”¨æµ‹è¯•</h3>
            <p>åœ¨ä¸»åº”ç”¨ä¸­éªŒè¯ä¿®å¤æ•ˆæœ</p>
            <button class="btn-success" onclick="openMainApp()">æ‰“å¼€ä¸»åº”ç”¨</button>
            <div id="main-result"></div>
        </div>
        
        <div class="test-card">
            <h3>â±ï¸ è‡ªåŠ¨æ£€æŸ¥</h3>
            <p>è‡ªåŠ¨æ£€æŸ¥ä¸»åº”ç”¨çŠ¶æ€</p>
            <div class="countdown" id="countdown">5</div>
            <div id="auto-result"></div>
        </div>
    </div>
    
    <h2>ğŸ“Š éªŒè¯æ¸…å•</h2>
    <div id="checklist">
        <div class="status info">
            <h4>âœ… å·²å®Œæˆçš„ä¿®å¤</h4>
            <ul>
                <li>âœ… App IDç¡¬ç¼–ç ä¸ºæ­£ç¡®å€¼: 68823897631e1ef8ff3720b2</li>
                <li>âœ… Domainç¡¬ç¼–ç ä¸º: rzcswqd4sq0f.authing.cn</li>
                <li>âœ… Hostç¡¬ç¼–ç ä¸º: https://rzcswqd4sq0f.authing.cn</li>
                <li>âœ… å¢åŠ äº†è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—</li>
                <li>âœ… ç»•è¿‡äº†ç¯å¢ƒå˜é‡æ³¨å…¥é—®é¢˜</li>
            </ul>
        </div>
        
        <div class="status warning">
            <h4>ğŸ¯ éœ€è¦éªŒè¯çš„é¡¹ç›®</h4>
            <ul>
                <li id="check-1">â³ ä¸»åº”ç”¨æ§åˆ¶å°æ— "appId is required"é”™è¯¯</li>
                <li id="check-2">â³ Authing Guardå®ä¾‹åˆå§‹åŒ–æˆåŠŸ</li>
                <li id="check-3">â³ é…ç½®è°ƒè¯•ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º</li>
                <li id="check-4">â³ ç™»å½•åŠŸèƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨</li>
            </ul>
        </div>
    </div>
    
    <div id="results"></div>
    
    <script>
        function addResult(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.innerHTML = message;
            document.getElementById('results').appendChild(div);
        }
        
        function addToCard(cardId, message, type = 'info') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.innerHTML = message;
            div.style.marginTop = '10px';
            document.getElementById(cardId).appendChild(div);
        }
        
        function updateCheck(checkId, status, message) {
            const element = document.getElementById(checkId);
            if (element) {
                const icon = status ? 'âœ…' : 'âŒ';
                element.innerHTML = `${icon} ${message}`;
                element.className = status ? 'success' : 'error';
            }
        }
        
        function openMainApp() {
            addToCard('main-result', 'ğŸš€ æ­£åœ¨æ‰“å¼€ä¸»åº”ç”¨...', 'info');
            window.open('http://localhost:5174', '_blank');
            addToCard('main-result', 'ğŸ“ ä¸»åº”ç”¨å·²åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€', 'success');
            addToCard('main-result', 'ğŸ” è¯·æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦è¿˜æœ‰é”™è¯¯', 'warning');
            addResult('ğŸš€ ä¸»åº”ç”¨å·²æ‰“å¼€ï¼Œè¯·åœ¨æ–°æ ‡ç­¾é¡µä¸­æ£€æŸ¥æ§åˆ¶å°', 'info');
        }
        
        function checkMainAppStatus() {
            addToCard('auto-result', 'ğŸ” æ­£åœ¨æ£€æŸ¥ä¸»åº”ç”¨çŠ¶æ€...', 'info');
            
            fetch('http://localhost:5174')
                .then(response => {
                    if (response.ok) {
                        addToCard('auto-result', 'âœ… ä¸»åº”ç”¨è¿è¡Œæ­£å¸¸', 'success');
                        updateCheck('check-1', true, 'ä¸»åº”ç”¨å¯è®¿é—®');
                    } else {
                        addToCard('auto-result', 'âŒ ä¸»åº”ç”¨å“åº”å¼‚å¸¸', 'error');
                    }
                })
                .catch(error => {
                    addToCard('auto-result', 'âŒ æ— æ³•è¿æ¥åˆ°ä¸»åº”ç”¨', 'error');
                });
        }
        
        // å€’è®¡æ—¶å’Œè‡ªåŠ¨æ£€æŸ¥
        let countdown = 5;
        const countdownElement = document.getElementById('countdown');
        
        const timer = setInterval(() => {
            countdown--;
            countdownElement.textContent = countdown;
            
            if (countdown <= 0) {
                clearInterval(timer);
                countdownElement.textContent = 'æ£€æŸ¥ä¸­...';
                checkMainAppStatus();
            }
        }, 1000);
        
        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        window.onload = function() {
            addResult('ğŸ¯ æœ€ç»ˆä¿®å¤éªŒè¯é¡µé¢å·²åŠ è½½', 'info');
            addResult('ğŸ“ ç¡¬ç¼–ç é…ç½®å·²åº”ç”¨ï¼Œåº”è¯¥è§£å†³"appId is required"é—®é¢˜', 'success');
            
            setTimeout(() => {
                addResult('ğŸ’¡ æç¤ºï¼šå¦‚æœä¸»åº”ç”¨ä»æœ‰é”™è¯¯ï¼Œè¯·æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶åˆ·æ–°', 'warning');
            }, 2000);
        };
    </script>
    
    <div class="status success" style="margin-top: 30px;">
        <h3>ğŸ‰ ä¿®å¤å®Œæˆ</h3>
        <p><strong>ä¿®å¤æ–¹å¼ï¼š</strong>ç›´æ¥ç¡¬ç¼–ç é…ç½®ï¼Œç»•è¿‡ç¯å¢ƒå˜é‡æ³¨å…¥é—®é¢˜</p>
        <p><strong>App IDï¼š</strong>68823897631e1ef8ff3720b2</p>
        <p><strong>é¢„æœŸæ•ˆæœï¼š</strong>ä¸å†å‡ºç°"appId is required"é”™è¯¯</p>
        <p><strong>ä¸‹ä¸€æ­¥ï¼š</strong>åœ¨ä¸»åº”ç”¨ä¸­æµ‹è¯•ç™»å½•åŠŸèƒ½</p>
    </div>
</body>
</html>
