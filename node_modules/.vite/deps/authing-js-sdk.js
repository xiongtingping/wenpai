import {
  require_crypto_js,
  require_sha256
} from "./chunk-MALKMKEG.js";
import {
  __assign,
  __awaiter,
  __generator,
  __spreadArray
} from "./chunk-TXSTDNAA.js";
import {
  __commonJS,
  __toESM
} from "./chunk-OL46QLBJ.js";

// node_modules/jsbn/index.js
var require_jsbn = __commonJS({
  "node_modules/jsbn/index.js"(exports, module) {
    (function() {
      var dbits2;
      var canary2 = 244837814094590;
      var j_lm2 = (canary2 & 16777215) == 15715070;
      function BigInteger6(a, b, c) {
        if (a != null)
          if ("number" == typeof a) this.fromNumber(a, b, c);
          else if (b == null && "string" != typeof a) this.fromString(a, 256);
          else this.fromString(a, b);
      }
      function nbi2() {
        return new BigInteger6(null);
      }
      function am12(i, x, w, j, c, n3) {
        while (--n3 >= 0) {
          var v = x * this[i++] + w[j] + c;
          c = Math.floor(v / 67108864);
          w[j++] = v & 67108863;
        }
        return c;
      }
      function am22(i, x, w, j, c, n3) {
        var xl = x & 32767, xh = x >> 15;
        while (--n3 >= 0) {
          var l = this[i] & 32767;
          var h = this[i++] >> 15;
          var m = xh * l + h * xl;
          l = xl * l + ((m & 32767) << 15) + w[j] + (c & 1073741823);
          c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);
          w[j++] = l & 1073741823;
        }
        return c;
      }
      function am32(i, x, w, j, c, n3) {
        var xl = x & 16383, xh = x >> 14;
        while (--n3 >= 0) {
          var l = this[i] & 16383;
          var h = this[i++] >> 14;
          var m = xh * l + h * xl;
          l = xl * l + ((m & 16383) << 14) + w[j] + c;
          c = (l >> 28) + (m >> 14) + xh * h;
          w[j++] = l & 268435455;
        }
        return c;
      }
      var inBrowser = typeof navigator !== "undefined";
      if (inBrowser && j_lm2 && navigator.appName == "Microsoft Internet Explorer") {
        BigInteger6.prototype.am = am22;
        dbits2 = 30;
      } else if (inBrowser && j_lm2 && navigator.appName != "Netscape") {
        BigInteger6.prototype.am = am12;
        dbits2 = 26;
      } else {
        BigInteger6.prototype.am = am32;
        dbits2 = 28;
      }
      BigInteger6.prototype.DB = dbits2;
      BigInteger6.prototype.DM = (1 << dbits2) - 1;
      BigInteger6.prototype.DV = 1 << dbits2;
      var BI_FP2 = 52;
      BigInteger6.prototype.FV = Math.pow(2, BI_FP2);
      BigInteger6.prototype.F1 = BI_FP2 - dbits2;
      BigInteger6.prototype.F2 = 2 * dbits2 - BI_FP2;
      var BI_RM2 = "0123456789abcdefghijklmnopqrstuvwxyz";
      var BI_RC2 = new Array();
      var rr2, vv2;
      rr2 = "0".charCodeAt(0);
      for (vv2 = 0; vv2 <= 9; ++vv2) BI_RC2[rr2++] = vv2;
      rr2 = "a".charCodeAt(0);
      for (vv2 = 10; vv2 < 36; ++vv2) BI_RC2[rr2++] = vv2;
      rr2 = "A".charCodeAt(0);
      for (vv2 = 10; vv2 < 36; ++vv2) BI_RC2[rr2++] = vv2;
      function int2char2(n3) {
        return BI_RM2.charAt(n3);
      }
      function intAt2(s, i) {
        var c = BI_RC2[s.charCodeAt(i)];
        return c == null ? -1 : c;
      }
      function bnpCopyTo(r) {
        for (var i = this.t - 1; i >= 0; --i) r[i] = this[i];
        r.t = this.t;
        r.s = this.s;
      }
      function bnpFromInt(x) {
        this.t = 1;
        this.s = x < 0 ? -1 : 0;
        if (x > 0) this[0] = x;
        else if (x < -1) this[0] = x + this.DV;
        else this.t = 0;
      }
      function nbv2(i) {
        var r = nbi2();
        r.fromInt(i);
        return r;
      }
      function bnpFromString(s, b) {
        var k;
        if (b == 16) k = 4;
        else if (b == 8) k = 3;
        else if (b == 256) k = 8;
        else if (b == 2) k = 1;
        else if (b == 32) k = 5;
        else if (b == 4) k = 2;
        else {
          this.fromRadix(s, b);
          return;
        }
        this.t = 0;
        this.s = 0;
        var i = s.length, mi = false, sh = 0;
        while (--i >= 0) {
          var x = k == 8 ? s[i] & 255 : intAt2(s, i);
          if (x < 0) {
            if (s.charAt(i) == "-") mi = true;
            continue;
          }
          mi = false;
          if (sh == 0)
            this[this.t++] = x;
          else if (sh + k > this.DB) {
            this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;
            this[this.t++] = x >> this.DB - sh;
          } else
            this[this.t - 1] |= x << sh;
          sh += k;
          if (sh >= this.DB) sh -= this.DB;
        }
        if (k == 8 && (s[0] & 128) != 0) {
          this.s = -1;
          if (sh > 0) this[this.t - 1] |= (1 << this.DB - sh) - 1 << sh;
        }
        this.clamp();
        if (mi) BigInteger6.ZERO.subTo(this, this);
      }
      function bnpClamp() {
        var c = this.s & this.DM;
        while (this.t > 0 && this[this.t - 1] == c) --this.t;
      }
      function bnToString(b) {
        if (this.s < 0) return "-" + this.negate().toString(b);
        var k;
        if (b == 16) k = 4;
        else if (b == 8) k = 3;
        else if (b == 2) k = 1;
        else if (b == 32) k = 5;
        else if (b == 4) k = 2;
        else return this.toRadix(b);
        var km = (1 << k) - 1, d, m = false, r = "", i = this.t;
        var p = this.DB - i * this.DB % k;
        if (i-- > 0) {
          if (p < this.DB && (d = this[i] >> p) > 0) {
            m = true;
            r = int2char2(d);
          }
          while (i >= 0) {
            if (p < k) {
              d = (this[i] & (1 << p) - 1) << k - p;
              d |= this[--i] >> (p += this.DB - k);
            } else {
              d = this[i] >> (p -= k) & km;
              if (p <= 0) {
                p += this.DB;
                --i;
              }
            }
            if (d > 0) m = true;
            if (m) r += int2char2(d);
          }
        }
        return m ? r : "0";
      }
      function bnNegate() {
        var r = nbi2();
        BigInteger6.ZERO.subTo(this, r);
        return r;
      }
      function bnAbs() {
        return this.s < 0 ? this.negate() : this;
      }
      function bnCompareTo(a) {
        var r = this.s - a.s;
        if (r != 0) return r;
        var i = this.t;
        r = i - a.t;
        if (r != 0) return this.s < 0 ? -r : r;
        while (--i >= 0) if ((r = this[i] - a[i]) != 0) return r;
        return 0;
      }
      function nbits2(x) {
        var r = 1, t2;
        if ((t2 = x >>> 16) != 0) {
          x = t2;
          r += 16;
        }
        if ((t2 = x >> 8) != 0) {
          x = t2;
          r += 8;
        }
        if ((t2 = x >> 4) != 0) {
          x = t2;
          r += 4;
        }
        if ((t2 = x >> 2) != 0) {
          x = t2;
          r += 2;
        }
        if ((t2 = x >> 1) != 0) {
          x = t2;
          r += 1;
        }
        return r;
      }
      function bnBitLength() {
        if (this.t <= 0) return 0;
        return this.DB * (this.t - 1) + nbits2(this[this.t - 1] ^ this.s & this.DM);
      }
      function bnpDLShiftTo(n3, r) {
        var i;
        for (i = this.t - 1; i >= 0; --i) r[i + n3] = this[i];
        for (i = n3 - 1; i >= 0; --i) r[i] = 0;
        r.t = this.t + n3;
        r.s = this.s;
      }
      function bnpDRShiftTo(n3, r) {
        for (var i = n3; i < this.t; ++i) r[i - n3] = this[i];
        r.t = Math.max(this.t - n3, 0);
        r.s = this.s;
      }
      function bnpLShiftTo(n3, r) {
        var bs = n3 % this.DB;
        var cbs = this.DB - bs;
        var bm = (1 << cbs) - 1;
        var ds = Math.floor(n3 / this.DB), c = this.s << bs & this.DM, i;
        for (i = this.t - 1; i >= 0; --i) {
          r[i + ds + 1] = this[i] >> cbs | c;
          c = (this[i] & bm) << bs;
        }
        for (i = ds - 1; i >= 0; --i) r[i] = 0;
        r[ds] = c;
        r.t = this.t + ds + 1;
        r.s = this.s;
        r.clamp();
      }
      function bnpRShiftTo(n3, r) {
        r.s = this.s;
        var ds = Math.floor(n3 / this.DB);
        if (ds >= this.t) {
          r.t = 0;
          return;
        }
        var bs = n3 % this.DB;
        var cbs = this.DB - bs;
        var bm = (1 << bs) - 1;
        r[0] = this[ds] >> bs;
        for (var i = ds + 1; i < this.t; ++i) {
          r[i - ds - 1] |= (this[i] & bm) << cbs;
          r[i - ds] = this[i] >> bs;
        }
        if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;
        r.t = this.t - ds;
        r.clamp();
      }
      function bnpSubTo(a, r) {
        var i = 0, c = 0, m = Math.min(a.t, this.t);
        while (i < m) {
          c += this[i] - a[i];
          r[i++] = c & this.DM;
          c >>= this.DB;
        }
        if (a.t < this.t) {
          c -= a.s;
          while (i < this.t) {
            c += this[i];
            r[i++] = c & this.DM;
            c >>= this.DB;
          }
          c += this.s;
        } else {
          c += this.s;
          while (i < a.t) {
            c -= a[i];
            r[i++] = c & this.DM;
            c >>= this.DB;
          }
          c -= a.s;
        }
        r.s = c < 0 ? -1 : 0;
        if (c < -1) r[i++] = this.DV + c;
        else if (c > 0) r[i++] = c;
        r.t = i;
        r.clamp();
      }
      function bnpMultiplyTo(a, r) {
        var x = this.abs(), y = a.abs();
        var i = x.t;
        r.t = i + y.t;
        while (--i >= 0) r[i] = 0;
        for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);
        r.s = 0;
        r.clamp();
        if (this.s != a.s) BigInteger6.ZERO.subTo(r, r);
      }
      function bnpSquareTo(r) {
        var x = this.abs();
        var i = r.t = 2 * x.t;
        while (--i >= 0) r[i] = 0;
        for (i = 0; i < x.t - 1; ++i) {
          var c = x.am(i, x[i], r, 2 * i, 0, 1);
          if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {
            r[i + x.t] -= x.DV;
            r[i + x.t + 1] = 1;
          }
        }
        if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);
        r.s = 0;
        r.clamp();
      }
      function bnpDivRemTo(m, q, r) {
        var pm = m.abs();
        if (pm.t <= 0) return;
        var pt = this.abs();
        if (pt.t < pm.t) {
          if (q != null) q.fromInt(0);
          if (r != null) this.copyTo(r);
          return;
        }
        if (r == null) r = nbi2();
        var y = nbi2(), ts = this.s, ms = m.s;
        var nsh = this.DB - nbits2(pm[pm.t - 1]);
        if (nsh > 0) {
          pm.lShiftTo(nsh, y);
          pt.lShiftTo(nsh, r);
        } else {
          pm.copyTo(y);
          pt.copyTo(r);
        }
        var ys = y.t;
        var y0 = y[ys - 1];
        if (y0 == 0) return;
        var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);
        var d1 = this.FV / yt, d2 = (1 << this.F1) / yt, e = 1 << this.F2;
        var i = r.t, j = i - ys, t2 = q == null ? nbi2() : q;
        y.dlShiftTo(j, t2);
        if (r.compareTo(t2) >= 0) {
          r[r.t++] = 1;
          r.subTo(t2, r);
        }
        BigInteger6.ONE.dlShiftTo(ys, t2);
        t2.subTo(y, y);
        while (y.t < ys) y[y.t++] = 0;
        while (--j >= 0) {
          var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);
          if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {
            y.dlShiftTo(j, t2);
            r.subTo(t2, r);
            while (r[i] < --qd) r.subTo(t2, r);
          }
        }
        if (q != null) {
          r.drShiftTo(ys, q);
          if (ts != ms) BigInteger6.ZERO.subTo(q, q);
        }
        r.t = ys;
        r.clamp();
        if (nsh > 0) r.rShiftTo(nsh, r);
        if (ts < 0) BigInteger6.ZERO.subTo(r, r);
      }
      function bnMod(a) {
        var r = nbi2();
        this.abs().divRemTo(a, null, r);
        if (this.s < 0 && r.compareTo(BigInteger6.ZERO) > 0) a.subTo(r, r);
        return r;
      }
      function Classic2(m) {
        this.m = m;
      }
      function cConvert(x) {
        if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);
        else return x;
      }
      function cRevert(x) {
        return x;
      }
      function cReduce(x) {
        x.divRemTo(this.m, null, x);
      }
      function cMulTo(x, y, r) {
        x.multiplyTo(y, r);
        this.reduce(r);
      }
      function cSqrTo(x, r) {
        x.squareTo(r);
        this.reduce(r);
      }
      Classic2.prototype.convert = cConvert;
      Classic2.prototype.revert = cRevert;
      Classic2.prototype.reduce = cReduce;
      Classic2.prototype.mulTo = cMulTo;
      Classic2.prototype.sqrTo = cSqrTo;
      function bnpInvDigit() {
        if (this.t < 1) return 0;
        var x = this[0];
        if ((x & 1) == 0) return 0;
        var y = x & 3;
        y = y * (2 - (x & 15) * y) & 15;
        y = y * (2 - (x & 255) * y) & 255;
        y = y * (2 - ((x & 65535) * y & 65535)) & 65535;
        y = y * (2 - x * y % this.DV) % this.DV;
        return y > 0 ? this.DV - y : -y;
      }
      function Montgomery2(m) {
        this.m = m;
        this.mp = m.invDigit();
        this.mpl = this.mp & 32767;
        this.mph = this.mp >> 15;
        this.um = (1 << m.DB - 15) - 1;
        this.mt2 = 2 * m.t;
      }
      function montConvert(x) {
        var r = nbi2();
        x.abs().dlShiftTo(this.m.t, r);
        r.divRemTo(this.m, null, r);
        if (x.s < 0 && r.compareTo(BigInteger6.ZERO) > 0) this.m.subTo(r, r);
        return r;
      }
      function montRevert(x) {
        var r = nbi2();
        x.copyTo(r);
        this.reduce(r);
        return r;
      }
      function montReduce(x) {
        while (x.t <= this.mt2)
          x[x.t++] = 0;
        for (var i = 0; i < this.m.t; ++i) {
          var j = x[i] & 32767;
          var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;
          j = i + this.m.t;
          x[j] += this.m.am(0, u0, x, i, 0, this.m.t);
          while (x[j] >= x.DV) {
            x[j] -= x.DV;
            x[++j]++;
          }
        }
        x.clamp();
        x.drShiftTo(this.m.t, x);
        if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);
      }
      function montSqrTo(x, r) {
        x.squareTo(r);
        this.reduce(r);
      }
      function montMulTo(x, y, r) {
        x.multiplyTo(y, r);
        this.reduce(r);
      }
      Montgomery2.prototype.convert = montConvert;
      Montgomery2.prototype.revert = montRevert;
      Montgomery2.prototype.reduce = montReduce;
      Montgomery2.prototype.mulTo = montMulTo;
      Montgomery2.prototype.sqrTo = montSqrTo;
      function bnpIsEven() {
        return (this.t > 0 ? this[0] & 1 : this.s) == 0;
      }
      function bnpExp(e, z2) {
        if (e > 4294967295 || e < 1) return BigInteger6.ONE;
        var r = nbi2(), r2 = nbi2(), g = z2.convert(this), i = nbits2(e) - 1;
        g.copyTo(r);
        while (--i >= 0) {
          z2.sqrTo(r, r2);
          if ((e & 1 << i) > 0) z2.mulTo(r2, g, r);
          else {
            var t2 = r;
            r = r2;
            r2 = t2;
          }
        }
        return z2.revert(r);
      }
      function bnModPowInt(e, m) {
        var z2;
        if (e < 256 || m.isEven()) z2 = new Classic2(m);
        else z2 = new Montgomery2(m);
        return this.exp(e, z2);
      }
      BigInteger6.prototype.copyTo = bnpCopyTo;
      BigInteger6.prototype.fromInt = bnpFromInt;
      BigInteger6.prototype.fromString = bnpFromString;
      BigInteger6.prototype.clamp = bnpClamp;
      BigInteger6.prototype.dlShiftTo = bnpDLShiftTo;
      BigInteger6.prototype.drShiftTo = bnpDRShiftTo;
      BigInteger6.prototype.lShiftTo = bnpLShiftTo;
      BigInteger6.prototype.rShiftTo = bnpRShiftTo;
      BigInteger6.prototype.subTo = bnpSubTo;
      BigInteger6.prototype.multiplyTo = bnpMultiplyTo;
      BigInteger6.prototype.squareTo = bnpSquareTo;
      BigInteger6.prototype.divRemTo = bnpDivRemTo;
      BigInteger6.prototype.invDigit = bnpInvDigit;
      BigInteger6.prototype.isEven = bnpIsEven;
      BigInteger6.prototype.exp = bnpExp;
      BigInteger6.prototype.toString = bnToString;
      BigInteger6.prototype.negate = bnNegate;
      BigInteger6.prototype.abs = bnAbs;
      BigInteger6.prototype.compareTo = bnCompareTo;
      BigInteger6.prototype.bitLength = bnBitLength;
      BigInteger6.prototype.mod = bnMod;
      BigInteger6.prototype.modPowInt = bnModPowInt;
      BigInteger6.ZERO = nbv2(0);
      BigInteger6.ONE = nbv2(1);
      function bnClone() {
        var r = nbi2();
        this.copyTo(r);
        return r;
      }
      function bnIntValue() {
        if (this.s < 0) {
          if (this.t == 1) return this[0] - this.DV;
          else if (this.t == 0) return -1;
        } else if (this.t == 1) return this[0];
        else if (this.t == 0) return 0;
        return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
      }
      function bnByteValue() {
        return this.t == 0 ? this.s : this[0] << 24 >> 24;
      }
      function bnShortValue() {
        return this.t == 0 ? this.s : this[0] << 16 >> 16;
      }
      function bnpChunkSize(r) {
        return Math.floor(Math.LN2 * this.DB / Math.log(r));
      }
      function bnSigNum() {
        if (this.s < 0) return -1;
        else if (this.t <= 0 || this.t == 1 && this[0] <= 0) return 0;
        else return 1;
      }
      function bnpToRadix(b) {
        if (b == null) b = 10;
        if (this.signum() == 0 || b < 2 || b > 36) return "0";
        var cs = this.chunkSize(b);
        var a = Math.pow(b, cs);
        var d = nbv2(a), y = nbi2(), z2 = nbi2(), r = "";
        this.divRemTo(d, y, z2);
        while (y.signum() > 0) {
          r = (a + z2.intValue()).toString(b).substr(1) + r;
          y.divRemTo(d, y, z2);
        }
        return z2.intValue().toString(b) + r;
      }
      function bnpFromRadix(s, b) {
        this.fromInt(0);
        if (b == null) b = 10;
        var cs = this.chunkSize(b);
        var d = Math.pow(b, cs), mi = false, j = 0, w = 0;
        for (var i = 0; i < s.length; ++i) {
          var x = intAt2(s, i);
          if (x < 0) {
            if (s.charAt(i) == "-" && this.signum() == 0) mi = true;
            continue;
          }
          w = b * w + x;
          if (++j >= cs) {
            this.dMultiply(d);
            this.dAddOffset(w, 0);
            j = 0;
            w = 0;
          }
        }
        if (j > 0) {
          this.dMultiply(Math.pow(b, j));
          this.dAddOffset(w, 0);
        }
        if (mi) BigInteger6.ZERO.subTo(this, this);
      }
      function bnpFromNumber(a, b, c) {
        if ("number" == typeof b) {
          if (a < 2) this.fromInt(1);
          else {
            this.fromNumber(a, c);
            if (!this.testBit(a - 1))
              this.bitwiseTo(BigInteger6.ONE.shiftLeft(a - 1), op_or2, this);
            if (this.isEven()) this.dAddOffset(1, 0);
            while (!this.isProbablePrime(b)) {
              this.dAddOffset(2, 0);
              if (this.bitLength() > a) this.subTo(BigInteger6.ONE.shiftLeft(a - 1), this);
            }
          }
        } else {
          var x = new Array(), t2 = a & 7;
          x.length = (a >> 3) + 1;
          b.nextBytes(x);
          if (t2 > 0) x[0] &= (1 << t2) - 1;
          else x[0] = 0;
          this.fromString(x, 256);
        }
      }
      function bnToByteArray() {
        var i = this.t, r = new Array();
        r[0] = this.s;
        var p = this.DB - i * this.DB % 8, d, k = 0;
        if (i-- > 0) {
          if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p)
            r[k++] = d | this.s << this.DB - p;
          while (i >= 0) {
            if (p < 8) {
              d = (this[i] & (1 << p) - 1) << 8 - p;
              d |= this[--i] >> (p += this.DB - 8);
            } else {
              d = this[i] >> (p -= 8) & 255;
              if (p <= 0) {
                p += this.DB;
                --i;
              }
            }
            if ((d & 128) != 0) d |= -256;
            if (k == 0 && (this.s & 128) != (d & 128)) ++k;
            if (k > 0 || d != this.s) r[k++] = d;
          }
        }
        return r;
      }
      function bnEquals(a) {
        return this.compareTo(a) == 0;
      }
      function bnMin(a) {
        return this.compareTo(a) < 0 ? this : a;
      }
      function bnMax(a) {
        return this.compareTo(a) > 0 ? this : a;
      }
      function bnpBitwiseTo(a, op, r) {
        var i, f, m = Math.min(a.t, this.t);
        for (i = 0; i < m; ++i) r[i] = op(this[i], a[i]);
        if (a.t < this.t) {
          f = a.s & this.DM;
          for (i = m; i < this.t; ++i) r[i] = op(this[i], f);
          r.t = this.t;
        } else {
          f = this.s & this.DM;
          for (i = m; i < a.t; ++i) r[i] = op(f, a[i]);
          r.t = a.t;
        }
        r.s = op(this.s, a.s);
        r.clamp();
      }
      function op_and2(x, y) {
        return x & y;
      }
      function bnAnd(a) {
        var r = nbi2();
        this.bitwiseTo(a, op_and2, r);
        return r;
      }
      function op_or2(x, y) {
        return x | y;
      }
      function bnOr(a) {
        var r = nbi2();
        this.bitwiseTo(a, op_or2, r);
        return r;
      }
      function op_xor2(x, y) {
        return x ^ y;
      }
      function bnXor(a) {
        var r = nbi2();
        this.bitwiseTo(a, op_xor2, r);
        return r;
      }
      function op_andnot2(x, y) {
        return x & ~y;
      }
      function bnAndNot(a) {
        var r = nbi2();
        this.bitwiseTo(a, op_andnot2, r);
        return r;
      }
      function bnNot() {
        var r = nbi2();
        for (var i = 0; i < this.t; ++i) r[i] = this.DM & ~this[i];
        r.t = this.t;
        r.s = ~this.s;
        return r;
      }
      function bnShiftLeft(n3) {
        var r = nbi2();
        if (n3 < 0) this.rShiftTo(-n3, r);
        else this.lShiftTo(n3, r);
        return r;
      }
      function bnShiftRight(n3) {
        var r = nbi2();
        if (n3 < 0) this.lShiftTo(-n3, r);
        else this.rShiftTo(n3, r);
        return r;
      }
      function lbit2(x) {
        if (x == 0) return -1;
        var r = 0;
        if ((x & 65535) == 0) {
          x >>= 16;
          r += 16;
        }
        if ((x & 255) == 0) {
          x >>= 8;
          r += 8;
        }
        if ((x & 15) == 0) {
          x >>= 4;
          r += 4;
        }
        if ((x & 3) == 0) {
          x >>= 2;
          r += 2;
        }
        if ((x & 1) == 0) ++r;
        return r;
      }
      function bnGetLowestSetBit() {
        for (var i = 0; i < this.t; ++i)
          if (this[i] != 0) return i * this.DB + lbit2(this[i]);
        if (this.s < 0) return this.t * this.DB;
        return -1;
      }
      function cbit2(x) {
        var r = 0;
        while (x != 0) {
          x &= x - 1;
          ++r;
        }
        return r;
      }
      function bnBitCount() {
        var r = 0, x = this.s & this.DM;
        for (var i = 0; i < this.t; ++i) r += cbit2(this[i] ^ x);
        return r;
      }
      function bnTestBit(n3) {
        var j = Math.floor(n3 / this.DB);
        if (j >= this.t) return this.s != 0;
        return (this[j] & 1 << n3 % this.DB) != 0;
      }
      function bnpChangeBit(n3, op) {
        var r = BigInteger6.ONE.shiftLeft(n3);
        this.bitwiseTo(r, op, r);
        return r;
      }
      function bnSetBit(n3) {
        return this.changeBit(n3, op_or2);
      }
      function bnClearBit(n3) {
        return this.changeBit(n3, op_andnot2);
      }
      function bnFlipBit(n3) {
        return this.changeBit(n3, op_xor2);
      }
      function bnpAddTo(a, r) {
        var i = 0, c = 0, m = Math.min(a.t, this.t);
        while (i < m) {
          c += this[i] + a[i];
          r[i++] = c & this.DM;
          c >>= this.DB;
        }
        if (a.t < this.t) {
          c += a.s;
          while (i < this.t) {
            c += this[i];
            r[i++] = c & this.DM;
            c >>= this.DB;
          }
          c += this.s;
        } else {
          c += this.s;
          while (i < a.t) {
            c += a[i];
            r[i++] = c & this.DM;
            c >>= this.DB;
          }
          c += a.s;
        }
        r.s = c < 0 ? -1 : 0;
        if (c > 0) r[i++] = c;
        else if (c < -1) r[i++] = this.DV + c;
        r.t = i;
        r.clamp();
      }
      function bnAdd(a) {
        var r = nbi2();
        this.addTo(a, r);
        return r;
      }
      function bnSubtract(a) {
        var r = nbi2();
        this.subTo(a, r);
        return r;
      }
      function bnMultiply(a) {
        var r = nbi2();
        this.multiplyTo(a, r);
        return r;
      }
      function bnSquare() {
        var r = nbi2();
        this.squareTo(r);
        return r;
      }
      function bnDivide(a) {
        var r = nbi2();
        this.divRemTo(a, r, null);
        return r;
      }
      function bnRemainder(a) {
        var r = nbi2();
        this.divRemTo(a, null, r);
        return r;
      }
      function bnDivideAndRemainder(a) {
        var q = nbi2(), r = nbi2();
        this.divRemTo(a, q, r);
        return new Array(q, r);
      }
      function bnpDMultiply(n3) {
        this[this.t] = this.am(0, n3 - 1, this, 0, 0, this.t);
        ++this.t;
        this.clamp();
      }
      function bnpDAddOffset(n3, w) {
        if (n3 == 0) return;
        while (this.t <= w) this[this.t++] = 0;
        this[w] += n3;
        while (this[w] >= this.DV) {
          this[w] -= this.DV;
          if (++w >= this.t) this[this.t++] = 0;
          ++this[w];
        }
      }
      function NullExp2() {
      }
      function nNop(x) {
        return x;
      }
      function nMulTo(x, y, r) {
        x.multiplyTo(y, r);
      }
      function nSqrTo(x, r) {
        x.squareTo(r);
      }
      NullExp2.prototype.convert = nNop;
      NullExp2.prototype.revert = nNop;
      NullExp2.prototype.mulTo = nMulTo;
      NullExp2.prototype.sqrTo = nSqrTo;
      function bnPow(e) {
        return this.exp(e, new NullExp2());
      }
      function bnpMultiplyLowerTo(a, n3, r) {
        var i = Math.min(this.t + a.t, n3);
        r.s = 0;
        r.t = i;
        while (i > 0) r[--i] = 0;
        var j;
        for (j = r.t - this.t; i < j; ++i) r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);
        for (j = Math.min(a.t, n3); i < j; ++i) this.am(0, a[i], r, i, 0, n3 - i);
        r.clamp();
      }
      function bnpMultiplyUpperTo(a, n3, r) {
        --n3;
        var i = r.t = this.t + a.t - n3;
        r.s = 0;
        while (--i >= 0) r[i] = 0;
        for (i = Math.max(n3 - this.t, 0); i < a.t; ++i)
          r[this.t + i - n3] = this.am(n3 - i, a[i], r, 0, 0, this.t + i - n3);
        r.clamp();
        r.drShiftTo(1, r);
      }
      function Barrett2(m) {
        this.r2 = nbi2();
        this.q3 = nbi2();
        BigInteger6.ONE.dlShiftTo(2 * m.t, this.r2);
        this.mu = this.r2.divide(m);
        this.m = m;
      }
      function barrettConvert(x) {
        if (x.s < 0 || x.t > 2 * this.m.t) return x.mod(this.m);
        else if (x.compareTo(this.m) < 0) return x;
        else {
          var r = nbi2();
          x.copyTo(r);
          this.reduce(r);
          return r;
        }
      }
      function barrettRevert(x) {
        return x;
      }
      function barrettReduce(x) {
        x.drShiftTo(this.m.t - 1, this.r2);
        if (x.t > this.m.t + 1) {
          x.t = this.m.t + 1;
          x.clamp();
        }
        this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);
        this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);
        while (x.compareTo(this.r2) < 0) x.dAddOffset(1, this.m.t + 1);
        x.subTo(this.r2, x);
        while (x.compareTo(this.m) >= 0) x.subTo(this.m, x);
      }
      function barrettSqrTo(x, r) {
        x.squareTo(r);
        this.reduce(r);
      }
      function barrettMulTo(x, y, r) {
        x.multiplyTo(y, r);
        this.reduce(r);
      }
      Barrett2.prototype.convert = barrettConvert;
      Barrett2.prototype.revert = barrettRevert;
      Barrett2.prototype.reduce = barrettReduce;
      Barrett2.prototype.mulTo = barrettMulTo;
      Barrett2.prototype.sqrTo = barrettSqrTo;
      function bnModPow(e, m) {
        var i = e.bitLength(), k, r = nbv2(1), z2;
        if (i <= 0) return r;
        else if (i < 18) k = 1;
        else if (i < 48) k = 3;
        else if (i < 144) k = 4;
        else if (i < 768) k = 5;
        else k = 6;
        if (i < 8)
          z2 = new Classic2(m);
        else if (m.isEven())
          z2 = new Barrett2(m);
        else
          z2 = new Montgomery2(m);
        var g = new Array(), n3 = 3, k1 = k - 1, km = (1 << k) - 1;
        g[1] = z2.convert(this);
        if (k > 1) {
          var g2 = nbi2();
          z2.sqrTo(g[1], g2);
          while (n3 <= km) {
            g[n3] = nbi2();
            z2.mulTo(g2, g[n3 - 2], g[n3]);
            n3 += 2;
          }
        }
        var j = e.t - 1, w, is1 = true, r2 = nbi2(), t2;
        i = nbits2(e[j]) - 1;
        while (j >= 0) {
          if (i >= k1) w = e[j] >> i - k1 & km;
          else {
            w = (e[j] & (1 << i + 1) - 1) << k1 - i;
            if (j > 0) w |= e[j - 1] >> this.DB + i - k1;
          }
          n3 = k;
          while ((w & 1) == 0) {
            w >>= 1;
            --n3;
          }
          if ((i -= n3) < 0) {
            i += this.DB;
            --j;
          }
          if (is1) {
            g[w].copyTo(r);
            is1 = false;
          } else {
            while (n3 > 1) {
              z2.sqrTo(r, r2);
              z2.sqrTo(r2, r);
              n3 -= 2;
            }
            if (n3 > 0) z2.sqrTo(r, r2);
            else {
              t2 = r;
              r = r2;
              r2 = t2;
            }
            z2.mulTo(r2, g[w], r);
          }
          while (j >= 0 && (e[j] & 1 << i) == 0) {
            z2.sqrTo(r, r2);
            t2 = r;
            r = r2;
            r2 = t2;
            if (--i < 0) {
              i = this.DB - 1;
              --j;
            }
          }
        }
        return z2.revert(r);
      }
      function bnGCD(a) {
        var x = this.s < 0 ? this.negate() : this.clone();
        var y = a.s < 0 ? a.negate() : a.clone();
        if (x.compareTo(y) < 0) {
          var t2 = x;
          x = y;
          y = t2;
        }
        var i = x.getLowestSetBit(), g = y.getLowestSetBit();
        if (g < 0) return x;
        if (i < g) g = i;
        if (g > 0) {
          x.rShiftTo(g, x);
          y.rShiftTo(g, y);
        }
        while (x.signum() > 0) {
          if ((i = x.getLowestSetBit()) > 0) x.rShiftTo(i, x);
          if ((i = y.getLowestSetBit()) > 0) y.rShiftTo(i, y);
          if (x.compareTo(y) >= 0) {
            x.subTo(y, x);
            x.rShiftTo(1, x);
          } else {
            y.subTo(x, y);
            y.rShiftTo(1, y);
          }
        }
        if (g > 0) y.lShiftTo(g, y);
        return y;
      }
      function bnpModInt(n3) {
        if (n3 <= 0) return 0;
        var d = this.DV % n3, r = this.s < 0 ? n3 - 1 : 0;
        if (this.t > 0)
          if (d == 0) r = this[0] % n3;
          else for (var i = this.t - 1; i >= 0; --i) r = (d * r + this[i]) % n3;
        return r;
      }
      function bnModInverse(m) {
        var ac = m.isEven();
        if (this.isEven() && ac || m.signum() == 0) return BigInteger6.ZERO;
        var u = m.clone(), v = this.clone();
        var a = nbv2(1), b = nbv2(0), c = nbv2(0), d = nbv2(1);
        while (u.signum() != 0) {
          while (u.isEven()) {
            u.rShiftTo(1, u);
            if (ac) {
              if (!a.isEven() || !b.isEven()) {
                a.addTo(this, a);
                b.subTo(m, b);
              }
              a.rShiftTo(1, a);
            } else if (!b.isEven()) b.subTo(m, b);
            b.rShiftTo(1, b);
          }
          while (v.isEven()) {
            v.rShiftTo(1, v);
            if (ac) {
              if (!c.isEven() || !d.isEven()) {
                c.addTo(this, c);
                d.subTo(m, d);
              }
              c.rShiftTo(1, c);
            } else if (!d.isEven()) d.subTo(m, d);
            d.rShiftTo(1, d);
          }
          if (u.compareTo(v) >= 0) {
            u.subTo(v, u);
            if (ac) a.subTo(c, a);
            b.subTo(d, b);
          } else {
            v.subTo(u, v);
            if (ac) c.subTo(a, c);
            d.subTo(b, d);
          }
        }
        if (v.compareTo(BigInteger6.ONE) != 0) return BigInteger6.ZERO;
        if (d.compareTo(m) >= 0) return d.subtract(m);
        if (d.signum() < 0) d.addTo(m, d);
        else return d;
        if (d.signum() < 0) return d.add(m);
        else return d;
      }
      var lowprimes2 = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];
      var lplim2 = (1 << 26) / lowprimes2[lowprimes2.length - 1];
      function bnIsProbablePrime(t2) {
        var i, x = this.abs();
        if (x.t == 1 && x[0] <= lowprimes2[lowprimes2.length - 1]) {
          for (i = 0; i < lowprimes2.length; ++i)
            if (x[0] == lowprimes2[i]) return true;
          return false;
        }
        if (x.isEven()) return false;
        i = 1;
        while (i < lowprimes2.length) {
          var m = lowprimes2[i], j = i + 1;
          while (j < lowprimes2.length && m < lplim2) m *= lowprimes2[j++];
          m = x.modInt(m);
          while (i < j) if (m % lowprimes2[i++] == 0) return false;
        }
        return x.millerRabin(t2);
      }
      function bnpMillerRabin(t2) {
        var n1 = this.subtract(BigInteger6.ONE);
        var k = n1.getLowestSetBit();
        if (k <= 0) return false;
        var r = n1.shiftRight(k);
        t2 = t2 + 1 >> 1;
        if (t2 > lowprimes2.length) t2 = lowprimes2.length;
        var a = nbi2();
        for (var i = 0; i < t2; ++i) {
          a.fromInt(lowprimes2[Math.floor(Math.random() * lowprimes2.length)]);
          var y = a.modPow(r, this);
          if (y.compareTo(BigInteger6.ONE) != 0 && y.compareTo(n1) != 0) {
            var j = 1;
            while (j++ < k && y.compareTo(n1) != 0) {
              y = y.modPowInt(2, this);
              if (y.compareTo(BigInteger6.ONE) == 0) return false;
            }
            if (y.compareTo(n1) != 0) return false;
          }
        }
        return true;
      }
      BigInteger6.prototype.chunkSize = bnpChunkSize;
      BigInteger6.prototype.toRadix = bnpToRadix;
      BigInteger6.prototype.fromRadix = bnpFromRadix;
      BigInteger6.prototype.fromNumber = bnpFromNumber;
      BigInteger6.prototype.bitwiseTo = bnpBitwiseTo;
      BigInteger6.prototype.changeBit = bnpChangeBit;
      BigInteger6.prototype.addTo = bnpAddTo;
      BigInteger6.prototype.dMultiply = bnpDMultiply;
      BigInteger6.prototype.dAddOffset = bnpDAddOffset;
      BigInteger6.prototype.multiplyLowerTo = bnpMultiplyLowerTo;
      BigInteger6.prototype.multiplyUpperTo = bnpMultiplyUpperTo;
      BigInteger6.prototype.modInt = bnpModInt;
      BigInteger6.prototype.millerRabin = bnpMillerRabin;
      BigInteger6.prototype.clone = bnClone;
      BigInteger6.prototype.intValue = bnIntValue;
      BigInteger6.prototype.byteValue = bnByteValue;
      BigInteger6.prototype.shortValue = bnShortValue;
      BigInteger6.prototype.signum = bnSigNum;
      BigInteger6.prototype.toByteArray = bnToByteArray;
      BigInteger6.prototype.equals = bnEquals;
      BigInteger6.prototype.min = bnMin;
      BigInteger6.prototype.max = bnMax;
      BigInteger6.prototype.and = bnAnd;
      BigInteger6.prototype.or = bnOr;
      BigInteger6.prototype.xor = bnXor;
      BigInteger6.prototype.andNot = bnAndNot;
      BigInteger6.prototype.not = bnNot;
      BigInteger6.prototype.shiftLeft = bnShiftLeft;
      BigInteger6.prototype.shiftRight = bnShiftRight;
      BigInteger6.prototype.getLowestSetBit = bnGetLowestSetBit;
      BigInteger6.prototype.bitCount = bnBitCount;
      BigInteger6.prototype.testBit = bnTestBit;
      BigInteger6.prototype.setBit = bnSetBit;
      BigInteger6.prototype.clearBit = bnClearBit;
      BigInteger6.prototype.flipBit = bnFlipBit;
      BigInteger6.prototype.add = bnAdd;
      BigInteger6.prototype.subtract = bnSubtract;
      BigInteger6.prototype.multiply = bnMultiply;
      BigInteger6.prototype.divide = bnDivide;
      BigInteger6.prototype.remainder = bnRemainder;
      BigInteger6.prototype.divideAndRemainder = bnDivideAndRemainder;
      BigInteger6.prototype.modPow = bnModPow;
      BigInteger6.prototype.modInverse = bnModInverse;
      BigInteger6.prototype.pow = bnPow;
      BigInteger6.prototype.gcd = bnGCD;
      BigInteger6.prototype.isProbablePrime = bnIsProbablePrime;
      BigInteger6.prototype.square = bnSquare;
      BigInteger6.prototype.Barrett = Barrett2;
      var rng_state2;
      var rng_pool2;
      var rng_pptr2;
      function rng_seed_int(x) {
        rng_pool2[rng_pptr2++] ^= x & 255;
        rng_pool2[rng_pptr2++] ^= x >> 8 & 255;
        rng_pool2[rng_pptr2++] ^= x >> 16 & 255;
        rng_pool2[rng_pptr2++] ^= x >> 24 & 255;
        if (rng_pptr2 >= rng_psize2) rng_pptr2 -= rng_psize2;
      }
      function rng_seed_time() {
        rng_seed_int((/* @__PURE__ */ new Date()).getTime());
      }
      if (rng_pool2 == null) {
        rng_pool2 = new Array();
        rng_pptr2 = 0;
        var t;
        if (typeof window !== "undefined" && window.crypto) {
          if (window.crypto.getRandomValues) {
            var ua = new Uint8Array(32);
            window.crypto.getRandomValues(ua);
            for (t = 0; t < 32; ++t)
              rng_pool2[rng_pptr2++] = ua[t];
          } else if (navigator.appName == "Netscape" && navigator.appVersion < "5") {
            var z = window.crypto.random(32);
            for (t = 0; t < z.length; ++t)
              rng_pool2[rng_pptr2++] = z.charCodeAt(t) & 255;
          }
        }
        while (rng_pptr2 < rng_psize2) {
          t = Math.floor(65536 * Math.random());
          rng_pool2[rng_pptr2++] = t >>> 8;
          rng_pool2[rng_pptr2++] = t & 255;
        }
        rng_pptr2 = 0;
        rng_seed_time();
      }
      function rng_get_byte2() {
        if (rng_state2 == null) {
          rng_seed_time();
          rng_state2 = prng_newstate2();
          rng_state2.init(rng_pool2);
          for (rng_pptr2 = 0; rng_pptr2 < rng_pool2.length; ++rng_pptr2)
            rng_pool2[rng_pptr2] = 0;
          rng_pptr2 = 0;
        }
        return rng_state2.next();
      }
      function rng_get_bytes(ba) {
        var i;
        for (i = 0; i < ba.length; ++i) ba[i] = rng_get_byte2();
      }
      function SecureRandom3() {
      }
      SecureRandom3.prototype.nextBytes = rng_get_bytes;
      function Arcfour2() {
        this.i = 0;
        this.j = 0;
        this.S = new Array();
      }
      function ARC4init(key) {
        var i, j, t2;
        for (i = 0; i < 256; ++i)
          this.S[i] = i;
        j = 0;
        for (i = 0; i < 256; ++i) {
          j = j + this.S[i] + key[i % key.length] & 255;
          t2 = this.S[i];
          this.S[i] = this.S[j];
          this.S[j] = t2;
        }
        this.i = 0;
        this.j = 0;
      }
      function ARC4next() {
        var t2;
        this.i = this.i + 1 & 255;
        this.j = this.j + this.S[this.i] & 255;
        t2 = this.S[this.i];
        this.S[this.i] = this.S[this.j];
        this.S[this.j] = t2;
        return this.S[t2 + this.S[this.i] & 255];
      }
      Arcfour2.prototype.init = ARC4init;
      Arcfour2.prototype.next = ARC4next;
      function prng_newstate2() {
        return new Arcfour2();
      }
      var rng_psize2 = 256;
      if (typeof exports !== "undefined") {
        exports = module.exports = {
          default: BigInteger6,
          BigInteger: BigInteger6,
          SecureRandom: SecureRandom3
        };
      } else {
        this.jsbn = {
          BigInteger: BigInteger6,
          SecureRandom: SecureRandom3
        };
      }
    }).call(exports);
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/bind.js
var require_bind = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/bind.js"(exports, module) {
    "use strict";
    module.exports = function bind(fn, thisArg) {
      return function wrap() {
        var args = new Array(arguments.length);
        for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i];
        }
        return fn.apply(thisArg, args);
      };
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/utils.js
var require_utils = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/utils.js"(exports, module) {
    "use strict";
    var bind = require_bind();
    var toString = Object.prototype.toString;
    function isArray(val) {
      return Array.isArray(val);
    }
    function isUndefined(val) {
      return typeof val === "undefined";
    }
    function isBuffer(val) {
      return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor) && typeof val.constructor.isBuffer === "function" && val.constructor.isBuffer(val);
    }
    function isArrayBuffer(val) {
      return toString.call(val) === "[object ArrayBuffer]";
    }
    function isFormData(val) {
      return toString.call(val) === "[object FormData]";
    }
    function isArrayBufferView(val) {
      var result;
      if (typeof ArrayBuffer !== "undefined" && ArrayBuffer.isView) {
        result = ArrayBuffer.isView(val);
      } else {
        result = val && val.buffer && isArrayBuffer(val.buffer);
      }
      return result;
    }
    function isString(val) {
      return typeof val === "string";
    }
    function isNumber(val) {
      return typeof val === "number";
    }
    function isObject(val) {
      return val !== null && typeof val === "object";
    }
    function isPlainObject(val) {
      if (toString.call(val) !== "[object Object]") {
        return false;
      }
      var prototype = Object.getPrototypeOf(val);
      return prototype === null || prototype === Object.prototype;
    }
    function isDate(val) {
      return toString.call(val) === "[object Date]";
    }
    function isFile(val) {
      return toString.call(val) === "[object File]";
    }
    function isBlob(val) {
      return toString.call(val) === "[object Blob]";
    }
    function isFunction(val) {
      return toString.call(val) === "[object Function]";
    }
    function isStream(val) {
      return isObject(val) && isFunction(val.pipe);
    }
    function isURLSearchParams(val) {
      return toString.call(val) === "[object URLSearchParams]";
    }
    function trim(str) {
      return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, "");
    }
    function isStandardBrowserEnv() {
      if (typeof navigator !== "undefined" && (navigator.product === "ReactNative" || navigator.product === "NativeScript" || navigator.product === "NS")) {
        return false;
      }
      return typeof window !== "undefined" && typeof document !== "undefined";
    }
    function forEach(obj, fn) {
      if (obj === null || typeof obj === "undefined") {
        return;
      }
      if (typeof obj !== "object") {
        obj = [obj];
      }
      if (isArray(obj)) {
        for (var i = 0, l = obj.length; i < l; i++) {
          fn.call(null, obj[i], i, obj);
        }
      } else {
        for (var key in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, key)) {
            fn.call(null, obj[key], key, obj);
          }
        }
      }
    }
    function merge() {
      var result = {};
      function assignValue(val, key) {
        if (isPlainObject(result[key]) && isPlainObject(val)) {
          result[key] = merge(result[key], val);
        } else if (isPlainObject(val)) {
          result[key] = merge({}, val);
        } else if (isArray(val)) {
          result[key] = val.slice();
        } else {
          result[key] = val;
        }
      }
      for (var i = 0, l = arguments.length; i < l; i++) {
        forEach(arguments[i], assignValue);
      }
      return result;
    }
    function extend(a, b, thisArg) {
      forEach(b, function assignValue(val, key) {
        if (thisArg && typeof val === "function") {
          a[key] = bind(val, thisArg);
        } else {
          a[key] = val;
        }
      });
      return a;
    }
    function stripBOM(content) {
      if (content.charCodeAt(0) === 65279) {
        content = content.slice(1);
      }
      return content;
    }
    module.exports = {
      isArray,
      isArrayBuffer,
      isBuffer,
      isFormData,
      isArrayBufferView,
      isString,
      isNumber,
      isObject,
      isPlainObject,
      isUndefined,
      isDate,
      isFile,
      isBlob,
      isFunction,
      isStream,
      isURLSearchParams,
      isStandardBrowserEnv,
      forEach,
      merge,
      extend,
      trim,
      stripBOM
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/buildURL.js
var require_buildURL = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/buildURL.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    function encode(val) {
      return encodeURIComponent(val).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
    }
    module.exports = function buildURL(url, params, paramsSerializer) {
      if (!params) {
        return url;
      }
      var serializedParams;
      if (paramsSerializer) {
        serializedParams = paramsSerializer(params);
      } else if (utils.isURLSearchParams(params)) {
        serializedParams = params.toString();
      } else {
        var parts = [];
        utils.forEach(params, function serialize2(val, key) {
          if (val === null || typeof val === "undefined") {
            return;
          }
          if (utils.isArray(val)) {
            key = key + "[]";
          } else {
            val = [val];
          }
          utils.forEach(val, function parseValue(v) {
            if (utils.isDate(v)) {
              v = v.toISOString();
            } else if (utils.isObject(v)) {
              v = JSON.stringify(v);
            }
            parts.push(encode(key) + "=" + encode(v));
          });
        });
        serializedParams = parts.join("&");
      }
      if (serializedParams) {
        var hashmarkIndex = url.indexOf("#");
        if (hashmarkIndex !== -1) {
          url = url.slice(0, hashmarkIndex);
        }
        url += (url.indexOf("?") === -1 ? "?" : "&") + serializedParams;
      }
      return url;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/InterceptorManager.js
var require_InterceptorManager = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/InterceptorManager.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    function InterceptorManager() {
      this.handlers = [];
    }
    InterceptorManager.prototype.use = function use(fulfilled, rejected, options) {
      this.handlers.push({
        fulfilled,
        rejected,
        synchronous: options ? options.synchronous : false,
        runWhen: options ? options.runWhen : null
      });
      return this.handlers.length - 1;
    };
    InterceptorManager.prototype.eject = function eject(id) {
      if (this.handlers[id]) {
        this.handlers[id] = null;
      }
    };
    InterceptorManager.prototype.forEach = function forEach(fn) {
      utils.forEach(this.handlers, function forEachHandler(h) {
        if (h !== null) {
          fn(h);
        }
      });
    };
    module.exports = InterceptorManager;
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/normalizeHeaderName.js
var require_normalizeHeaderName = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/normalizeHeaderName.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    module.exports = function normalizeHeaderName(headers, normalizedName) {
      utils.forEach(headers, function processHeader(value, name) {
        if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
          headers[normalizedName] = value;
          delete headers[name];
        }
      });
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/enhanceError.js
var require_enhanceError = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/enhanceError.js"(exports, module) {
    "use strict";
    module.exports = function enhanceError(error, config, code, request, response) {
      error.config = config;
      if (code) {
        error.code = code;
      }
      error.request = request;
      error.response = response;
      error.isAxiosError = true;
      error.toJSON = function toJSON() {
        return {
          // Standard
          message: this.message,
          name: this.name,
          // Microsoft
          description: this.description,
          number: this.number,
          // Mozilla
          fileName: this.fileName,
          lineNumber: this.lineNumber,
          columnNumber: this.columnNumber,
          stack: this.stack,
          // Axios
          config: this.config,
          code: this.code,
          status: this.response && this.response.status ? this.response.status : null
        };
      };
      return error;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/defaults/transitional.js
var require_transitional = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/defaults/transitional.js"(exports, module) {
    "use strict";
    module.exports = {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/createError.js
var require_createError = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/createError.js"(exports, module) {
    "use strict";
    var enhanceError = require_enhanceError();
    module.exports = function createError(message, config, code, request, response) {
      var error = new Error(message);
      return enhanceError(error, config, code, request, response);
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/settle.js
var require_settle = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/settle.js"(exports, module) {
    "use strict";
    var createError = require_createError();
    module.exports = function settle(resolve, reject, response) {
      var validateStatus = response.config.validateStatus;
      if (!response.status || !validateStatus || validateStatus(response.status)) {
        resolve(response);
      } else {
        reject(createError(
          "Request failed with status code " + response.status,
          response.config,
          null,
          response.request,
          response
        ));
      }
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/cookies.js
var require_cookies = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/cookies.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    module.exports = utils.isStandardBrowserEnv() ? (
      // Standard browser envs support document.cookie
      /* @__PURE__ */ function standardBrowserEnv() {
        return {
          write: function write(name, value, expires, path, domain, secure) {
            var cookie = [];
            cookie.push(name + "=" + encodeURIComponent(value));
            if (utils.isNumber(expires)) {
              cookie.push("expires=" + new Date(expires).toGMTString());
            }
            if (utils.isString(path)) {
              cookie.push("path=" + path);
            }
            if (utils.isString(domain)) {
              cookie.push("domain=" + domain);
            }
            if (secure === true) {
              cookie.push("secure");
            }
            document.cookie = cookie.join("; ");
          },
          read: function read(name) {
            var match = document.cookie.match(new RegExp("(^|;\\s*)(" + name + ")=([^;]*)"));
            return match ? decodeURIComponent(match[3]) : null;
          },
          remove: function remove(name) {
            this.write(name, "", Date.now() - 864e5);
          }
        };
      }()
    ) : (
      // Non standard browser env (web workers, react-native) lack needed support.
      /* @__PURE__ */ function nonStandardBrowserEnv() {
        return {
          write: function write() {
          },
          read: function read() {
            return null;
          },
          remove: function remove() {
          }
        };
      }()
    );
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/isAbsoluteURL.js
var require_isAbsoluteURL = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/isAbsoluteURL.js"(exports, module) {
    "use strict";
    module.exports = function isAbsoluteURL(url) {
      return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/combineURLs.js
var require_combineURLs = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/combineURLs.js"(exports, module) {
    "use strict";
    module.exports = function combineURLs(baseURL, relativeURL) {
      return relativeURL ? baseURL.replace(/\/+$/, "") + "/" + relativeURL.replace(/^\/+/, "") : baseURL;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/buildFullPath.js
var require_buildFullPath = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/buildFullPath.js"(exports, module) {
    "use strict";
    var isAbsoluteURL = require_isAbsoluteURL();
    var combineURLs = require_combineURLs();
    module.exports = function buildFullPath(baseURL, requestedURL) {
      if (baseURL && !isAbsoluteURL(requestedURL)) {
        return combineURLs(baseURL, requestedURL);
      }
      return requestedURL;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/parseHeaders.js
var require_parseHeaders = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/parseHeaders.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    var ignoreDuplicateOf = [
      "age",
      "authorization",
      "content-length",
      "content-type",
      "etag",
      "expires",
      "from",
      "host",
      "if-modified-since",
      "if-unmodified-since",
      "last-modified",
      "location",
      "max-forwards",
      "proxy-authorization",
      "referer",
      "retry-after",
      "user-agent"
    ];
    module.exports = function parseHeaders(headers) {
      var parsed = {};
      var key;
      var val;
      var i;
      if (!headers) {
        return parsed;
      }
      utils.forEach(headers.split("\n"), function parser(line) {
        i = line.indexOf(":");
        key = utils.trim(line.substr(0, i)).toLowerCase();
        val = utils.trim(line.substr(i + 1));
        if (key) {
          if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
            return;
          }
          if (key === "set-cookie") {
            parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
          } else {
            parsed[key] = parsed[key] ? parsed[key] + ", " + val : val;
          }
        }
      });
      return parsed;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/isURLSameOrigin.js
var require_isURLSameOrigin = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/isURLSameOrigin.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    module.exports = utils.isStandardBrowserEnv() ? (
      // Standard browser envs have full support of the APIs needed to test
      // whether the request URL is of the same origin as current location.
      function standardBrowserEnv() {
        var msie = /(msie|trident)/i.test(navigator.userAgent);
        var urlParsingNode = document.createElement("a");
        var originURL;
        function resolveURL(url) {
          var href = url;
          if (msie) {
            urlParsingNode.setAttribute("href", href);
            href = urlParsingNode.href;
          }
          urlParsingNode.setAttribute("href", href);
          return {
            href: urlParsingNode.href,
            protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, "") : "",
            host: urlParsingNode.host,
            search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, "") : "",
            hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, "") : "",
            hostname: urlParsingNode.hostname,
            port: urlParsingNode.port,
            pathname: urlParsingNode.pathname.charAt(0) === "/" ? urlParsingNode.pathname : "/" + urlParsingNode.pathname
          };
        }
        originURL = resolveURL(window.location.href);
        return function isURLSameOrigin(requestURL) {
          var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;
          return parsed.protocol === originURL.protocol && parsed.host === originURL.host;
        };
      }()
    ) : (
      // Non standard browser envs (web workers, react-native) lack needed support.
      /* @__PURE__ */ function nonStandardBrowserEnv() {
        return function isURLSameOrigin() {
          return true;
        };
      }()
    );
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/cancel/Cancel.js
var require_Cancel = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/cancel/Cancel.js"(exports, module) {
    "use strict";
    function Cancel(message) {
      this.message = message;
    }
    Cancel.prototype.toString = function toString() {
      return "Cancel" + (this.message ? ": " + this.message : "");
    };
    Cancel.prototype.__CANCEL__ = true;
    module.exports = Cancel;
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/adapters/xhr.js
var require_xhr = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/adapters/xhr.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    var settle = require_settle();
    var cookies = require_cookies();
    var buildURL = require_buildURL();
    var buildFullPath = require_buildFullPath();
    var parseHeaders = require_parseHeaders();
    var isURLSameOrigin = require_isURLSameOrigin();
    var createError = require_createError();
    var transitionalDefaults = require_transitional();
    var Cancel = require_Cancel();
    module.exports = function xhrAdapter(config) {
      return new Promise(function dispatchXhrRequest(resolve, reject) {
        var requestData = config.data;
        var requestHeaders = config.headers;
        var responseType = config.responseType;
        var onCanceled;
        function done() {
          if (config.cancelToken) {
            config.cancelToken.unsubscribe(onCanceled);
          }
          if (config.signal) {
            config.signal.removeEventListener("abort", onCanceled);
          }
        }
        if (utils.isFormData(requestData)) {
          delete requestHeaders["Content-Type"];
        }
        var request = new XMLHttpRequest();
        if (config.auth) {
          var username = config.auth.username || "";
          var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : "";
          requestHeaders.Authorization = "Basic " + btoa(username + ":" + password);
        }
        var fullPath = buildFullPath(config.baseURL, config.url);
        request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);
        request.timeout = config.timeout;
        function onloadend() {
          if (!request) {
            return;
          }
          var responseHeaders = "getAllResponseHeaders" in request ? parseHeaders(request.getAllResponseHeaders()) : null;
          var responseData = !responseType || responseType === "text" || responseType === "json" ? request.responseText : request.response;
          var response = {
            data: responseData,
            status: request.status,
            statusText: request.statusText,
            headers: responseHeaders,
            config,
            request
          };
          settle(function _resolve(value) {
            resolve(value);
            done();
          }, function _reject(err) {
            reject(err);
            done();
          }, response);
          request = null;
        }
        if ("onloadend" in request) {
          request.onloadend = onloadend;
        } else {
          request.onreadystatechange = function handleLoad() {
            if (!request || request.readyState !== 4) {
              return;
            }
            if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf("file:") === 0)) {
              return;
            }
            setTimeout(onloadend);
          };
        }
        request.onabort = function handleAbort() {
          if (!request) {
            return;
          }
          reject(createError("Request aborted", config, "ECONNABORTED", request));
          request = null;
        };
        request.onerror = function handleError() {
          reject(createError("Network Error", config, null, request));
          request = null;
        };
        request.ontimeout = function handleTimeout() {
          var timeoutErrorMessage = config.timeout ? "timeout of " + config.timeout + "ms exceeded" : "timeout exceeded";
          var transitional = config.transitional || transitionalDefaults;
          if (config.timeoutErrorMessage) {
            timeoutErrorMessage = config.timeoutErrorMessage;
          }
          reject(createError(
            timeoutErrorMessage,
            config,
            transitional.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED",
            request
          ));
          request = null;
        };
        if (utils.isStandardBrowserEnv()) {
          var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ? cookies.read(config.xsrfCookieName) : void 0;
          if (xsrfValue) {
            requestHeaders[config.xsrfHeaderName] = xsrfValue;
          }
        }
        if ("setRequestHeader" in request) {
          utils.forEach(requestHeaders, function setRequestHeader(val, key) {
            if (typeof requestData === "undefined" && key.toLowerCase() === "content-type") {
              delete requestHeaders[key];
            } else {
              request.setRequestHeader(key, val);
            }
          });
        }
        if (!utils.isUndefined(config.withCredentials)) {
          request.withCredentials = !!config.withCredentials;
        }
        if (responseType && responseType !== "json") {
          request.responseType = config.responseType;
        }
        if (typeof config.onDownloadProgress === "function") {
          request.addEventListener("progress", config.onDownloadProgress);
        }
        if (typeof config.onUploadProgress === "function" && request.upload) {
          request.upload.addEventListener("progress", config.onUploadProgress);
        }
        if (config.cancelToken || config.signal) {
          onCanceled = function(cancel) {
            if (!request) {
              return;
            }
            reject(!cancel || cancel && cancel.type ? new Cancel("canceled") : cancel);
            request.abort();
            request = null;
          };
          config.cancelToken && config.cancelToken.subscribe(onCanceled);
          if (config.signal) {
            config.signal.aborted ? onCanceled() : config.signal.addEventListener("abort", onCanceled);
          }
        }
        if (!requestData) {
          requestData = null;
        }
        request.send(requestData);
      });
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/defaults/index.js
var require_defaults = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/defaults/index.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    var normalizeHeaderName = require_normalizeHeaderName();
    var enhanceError = require_enhanceError();
    var transitionalDefaults = require_transitional();
    var DEFAULT_CONTENT_TYPE = {
      "Content-Type": "application/x-www-form-urlencoded"
    };
    function setContentTypeIfUnset(headers, value) {
      if (!utils.isUndefined(headers) && utils.isUndefined(headers["Content-Type"])) {
        headers["Content-Type"] = value;
      }
    }
    function getDefaultAdapter() {
      var adapter;
      if (typeof XMLHttpRequest !== "undefined") {
        adapter = require_xhr();
      } else if (typeof process !== "undefined" && Object.prototype.toString.call(process) === "[object process]") {
        adapter = require_xhr();
      }
      return adapter;
    }
    function stringifySafely(rawValue, parser, encoder) {
      if (utils.isString(rawValue)) {
        try {
          (parser || JSON.parse)(rawValue);
          return utils.trim(rawValue);
        } catch (e) {
          if (e.name !== "SyntaxError") {
            throw e;
          }
        }
      }
      return (encoder || JSON.stringify)(rawValue);
    }
    var defaults = {
      transitional: transitionalDefaults,
      adapter: getDefaultAdapter(),
      transformRequest: [function transformRequest(data, headers) {
        normalizeHeaderName(headers, "Accept");
        normalizeHeaderName(headers, "Content-Type");
        if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {
          return data;
        }
        if (utils.isArrayBufferView(data)) {
          return data.buffer;
        }
        if (utils.isURLSearchParams(data)) {
          setContentTypeIfUnset(headers, "application/x-www-form-urlencoded;charset=utf-8");
          return data.toString();
        }
        if (utils.isObject(data) || headers && headers["Content-Type"] === "application/json") {
          setContentTypeIfUnset(headers, "application/json");
          return stringifySafely(data);
        }
        return data;
      }],
      transformResponse: [function transformResponse(data) {
        var transitional = this.transitional || defaults.transitional;
        var silentJSONParsing = transitional && transitional.silentJSONParsing;
        var forcedJSONParsing = transitional && transitional.forcedJSONParsing;
        var strictJSONParsing = !silentJSONParsing && this.responseType === "json";
        if (strictJSONParsing || forcedJSONParsing && utils.isString(data) && data.length) {
          try {
            return JSON.parse(data);
          } catch (e) {
            if (strictJSONParsing) {
              if (e.name === "SyntaxError") {
                throw enhanceError(e, this, "E_JSON_PARSE");
              }
              throw e;
            }
          }
        }
        return data;
      }],
      /**
       * A timeout in milliseconds to abort a request. If set to 0 (default) a
       * timeout is not created.
       */
      timeout: 0,
      xsrfCookieName: "XSRF-TOKEN",
      xsrfHeaderName: "X-XSRF-TOKEN",
      maxContentLength: -1,
      maxBodyLength: -1,
      validateStatus: function validateStatus(status) {
        return status >= 200 && status < 300;
      },
      headers: {
        common: {
          "Accept": "application/json, text/plain, */*"
        }
      }
    };
    utils.forEach(["delete", "get", "head"], function forEachMethodNoData(method) {
      defaults.headers[method] = {};
    });
    utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
      defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
    });
    module.exports = defaults;
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/transformData.js
var require_transformData = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/transformData.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    var defaults = require_defaults();
    module.exports = function transformData(data, headers, fns) {
      var context = this || defaults;
      utils.forEach(fns, function transform(fn) {
        data = fn.call(context, data, headers);
      });
      return data;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/cancel/isCancel.js
var require_isCancel = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/cancel/isCancel.js"(exports, module) {
    "use strict";
    module.exports = function isCancel(value) {
      return !!(value && value.__CANCEL__);
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/dispatchRequest.js
var require_dispatchRequest = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/dispatchRequest.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    var transformData = require_transformData();
    var isCancel = require_isCancel();
    var defaults = require_defaults();
    var Cancel = require_Cancel();
    function throwIfCancellationRequested(config) {
      if (config.cancelToken) {
        config.cancelToken.throwIfRequested();
      }
      if (config.signal && config.signal.aborted) {
        throw new Cancel("canceled");
      }
    }
    module.exports = function dispatchRequest(config) {
      throwIfCancellationRequested(config);
      config.headers = config.headers || {};
      config.data = transformData.call(
        config,
        config.data,
        config.headers,
        config.transformRequest
      );
      config.headers = utils.merge(
        config.headers.common || {},
        config.headers[config.method] || {},
        config.headers
      );
      utils.forEach(
        ["delete", "get", "head", "post", "put", "patch", "common"],
        function cleanHeaderConfig(method) {
          delete config.headers[method];
        }
      );
      var adapter = config.adapter || defaults.adapter;
      return adapter(config).then(function onAdapterResolution(response) {
        throwIfCancellationRequested(config);
        response.data = transformData.call(
          config,
          response.data,
          response.headers,
          config.transformResponse
        );
        return response;
      }, function onAdapterRejection(reason) {
        if (!isCancel(reason)) {
          throwIfCancellationRequested(config);
          if (reason && reason.response) {
            reason.response.data = transformData.call(
              config,
              reason.response.data,
              reason.response.headers,
              config.transformResponse
            );
          }
        }
        return Promise.reject(reason);
      });
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/mergeConfig.js
var require_mergeConfig = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/mergeConfig.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    module.exports = function mergeConfig(config1, config2) {
      config2 = config2 || {};
      var config = {};
      function getMergedValue(target, source) {
        if (utils.isPlainObject(target) && utils.isPlainObject(source)) {
          return utils.merge(target, source);
        } else if (utils.isPlainObject(source)) {
          return utils.merge({}, source);
        } else if (utils.isArray(source)) {
          return source.slice();
        }
        return source;
      }
      function mergeDeepProperties(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(config1[prop], config2[prop]);
        } else if (!utils.isUndefined(config1[prop])) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      function valueFromConfig2(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(void 0, config2[prop]);
        }
      }
      function defaultToConfig2(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(void 0, config2[prop]);
        } else if (!utils.isUndefined(config1[prop])) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      function mergeDirectKeys(prop) {
        if (prop in config2) {
          return getMergedValue(config1[prop], config2[prop]);
        } else if (prop in config1) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      var mergeMap = {
        "url": valueFromConfig2,
        "method": valueFromConfig2,
        "data": valueFromConfig2,
        "baseURL": defaultToConfig2,
        "transformRequest": defaultToConfig2,
        "transformResponse": defaultToConfig2,
        "paramsSerializer": defaultToConfig2,
        "timeout": defaultToConfig2,
        "timeoutMessage": defaultToConfig2,
        "withCredentials": defaultToConfig2,
        "adapter": defaultToConfig2,
        "responseType": defaultToConfig2,
        "xsrfCookieName": defaultToConfig2,
        "xsrfHeaderName": defaultToConfig2,
        "onUploadProgress": defaultToConfig2,
        "onDownloadProgress": defaultToConfig2,
        "decompress": defaultToConfig2,
        "maxContentLength": defaultToConfig2,
        "maxBodyLength": defaultToConfig2,
        "transport": defaultToConfig2,
        "httpAgent": defaultToConfig2,
        "httpsAgent": defaultToConfig2,
        "cancelToken": defaultToConfig2,
        "socketPath": defaultToConfig2,
        "responseEncoding": defaultToConfig2,
        "validateStatus": mergeDirectKeys
      };
      utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {
        var merge = mergeMap[prop] || mergeDeepProperties;
        var configValue = merge(prop);
        utils.isUndefined(configValue) && merge !== mergeDirectKeys || (config[prop] = configValue);
      });
      return config;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/env/data.js
var require_data = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/env/data.js"(exports, module) {
    module.exports = {
      "version": "0.26.1"
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/validator.js
var require_validator = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/validator.js"(exports, module) {
    "use strict";
    var VERSION = require_data().version;
    var validators = {};
    ["object", "boolean", "number", "function", "string", "symbol"].forEach(function(type, i) {
      validators[type] = function validator(thing) {
        return typeof thing === type || "a" + (i < 1 ? "n " : " ") + type;
      };
    });
    var deprecatedWarnings = {};
    validators.transitional = function transitional(validator, version2, message) {
      function formatMessage(opt, desc) {
        return "[Axios v" + VERSION + "] Transitional option '" + opt + "'" + desc + (message ? ". " + message : "");
      }
      return function(value, opt, opts) {
        if (validator === false) {
          throw new Error(formatMessage(opt, " has been removed" + (version2 ? " in " + version2 : "")));
        }
        if (version2 && !deprecatedWarnings[opt]) {
          deprecatedWarnings[opt] = true;
          console.warn(
            formatMessage(
              opt,
              " has been deprecated since v" + version2 + " and will be removed in the near future"
            )
          );
        }
        return validator ? validator(value, opt, opts) : true;
      };
    };
    function assertOptions(options, schema, allowUnknown) {
      if (typeof options !== "object") {
        throw new TypeError("options must be an object");
      }
      var keys = Object.keys(options);
      var i = keys.length;
      while (i-- > 0) {
        var opt = keys[i];
        var validator = schema[opt];
        if (validator) {
          var value = options[opt];
          var result = value === void 0 || validator(value, opt, options);
          if (result !== true) {
            throw new TypeError("option " + opt + " must be " + result);
          }
          continue;
        }
        if (allowUnknown !== true) {
          throw Error("Unknown option " + opt);
        }
      }
    }
    module.exports = {
      assertOptions,
      validators
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/core/Axios.js
var require_Axios = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/core/Axios.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    var buildURL = require_buildURL();
    var InterceptorManager = require_InterceptorManager();
    var dispatchRequest = require_dispatchRequest();
    var mergeConfig = require_mergeConfig();
    var validator = require_validator();
    var validators = validator.validators;
    function Axios4(instanceConfig) {
      this.defaults = instanceConfig;
      this.interceptors = {
        request: new InterceptorManager(),
        response: new InterceptorManager()
      };
    }
    Axios4.prototype.request = function request(configOrUrl, config) {
      if (typeof configOrUrl === "string") {
        config = config || {};
        config.url = configOrUrl;
      } else {
        config = configOrUrl || {};
      }
      config = mergeConfig(this.defaults, config);
      if (config.method) {
        config.method = config.method.toLowerCase();
      } else if (this.defaults.method) {
        config.method = this.defaults.method.toLowerCase();
      } else {
        config.method = "get";
      }
      var transitional = config.transitional;
      if (transitional !== void 0) {
        validator.assertOptions(transitional, {
          silentJSONParsing: validators.transitional(validators.boolean),
          forcedJSONParsing: validators.transitional(validators.boolean),
          clarifyTimeoutError: validators.transitional(validators.boolean)
        }, false);
      }
      var requestInterceptorChain = [];
      var synchronousRequestInterceptors = true;
      this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
        if (typeof interceptor.runWhen === "function" && interceptor.runWhen(config) === false) {
          return;
        }
        synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;
        requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
      });
      var responseInterceptorChain = [];
      this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
        responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
      });
      var promise;
      if (!synchronousRequestInterceptors) {
        var chain = [dispatchRequest, void 0];
        Array.prototype.unshift.apply(chain, requestInterceptorChain);
        chain = chain.concat(responseInterceptorChain);
        promise = Promise.resolve(config);
        while (chain.length) {
          promise = promise.then(chain.shift(), chain.shift());
        }
        return promise;
      }
      var newConfig = config;
      while (requestInterceptorChain.length) {
        var onFulfilled = requestInterceptorChain.shift();
        var onRejected = requestInterceptorChain.shift();
        try {
          newConfig = onFulfilled(newConfig);
        } catch (error) {
          onRejected(error);
          break;
        }
      }
      try {
        promise = dispatchRequest(newConfig);
      } catch (error) {
        return Promise.reject(error);
      }
      while (responseInterceptorChain.length) {
        promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());
      }
      return promise;
    };
    Axios4.prototype.getUri = function getUri(config) {
      config = mergeConfig(this.defaults, config);
      return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\?/, "");
    };
    utils.forEach(["delete", "get", "head", "options"], function forEachMethodNoData(method) {
      Axios4.prototype[method] = function(url, config) {
        return this.request(mergeConfig(config || {}, {
          method,
          url,
          data: (config || {}).data
        }));
      };
    });
    utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
      Axios4.prototype[method] = function(url, data, config) {
        return this.request(mergeConfig(config || {}, {
          method,
          url,
          data
        }));
      };
    });
    module.exports = Axios4;
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/cancel/CancelToken.js
var require_CancelToken = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/cancel/CancelToken.js"(exports, module) {
    "use strict";
    var Cancel = require_Cancel();
    function CancelToken(executor) {
      if (typeof executor !== "function") {
        throw new TypeError("executor must be a function.");
      }
      var resolvePromise;
      this.promise = new Promise(function promiseExecutor(resolve) {
        resolvePromise = resolve;
      });
      var token = this;
      this.promise.then(function(cancel) {
        if (!token._listeners) return;
        var i;
        var l = token._listeners.length;
        for (i = 0; i < l; i++) {
          token._listeners[i](cancel);
        }
        token._listeners = null;
      });
      this.promise.then = function(onfulfilled) {
        var _resolve;
        var promise = new Promise(function(resolve) {
          token.subscribe(resolve);
          _resolve = resolve;
        }).then(onfulfilled);
        promise.cancel = function reject() {
          token.unsubscribe(_resolve);
        };
        return promise;
      };
      executor(function cancel(message) {
        if (token.reason) {
          return;
        }
        token.reason = new Cancel(message);
        resolvePromise(token.reason);
      });
    }
    CancelToken.prototype.throwIfRequested = function throwIfRequested() {
      if (this.reason) {
        throw this.reason;
      }
    };
    CancelToken.prototype.subscribe = function subscribe(listener) {
      if (this.reason) {
        listener(this.reason);
        return;
      }
      if (this._listeners) {
        this._listeners.push(listener);
      } else {
        this._listeners = [listener];
      }
    };
    CancelToken.prototype.unsubscribe = function unsubscribe(listener) {
      if (!this._listeners) {
        return;
      }
      var index2 = this._listeners.indexOf(listener);
      if (index2 !== -1) {
        this._listeners.splice(index2, 1);
      }
    };
    CancelToken.source = function source() {
      var cancel;
      var token = new CancelToken(function executor(c) {
        cancel = c;
      });
      return {
        token,
        cancel
      };
    };
    module.exports = CancelToken;
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/spread.js
var require_spread = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/spread.js"(exports, module) {
    "use strict";
    module.exports = function spread(callback) {
      return function wrap(arr) {
        return callback.apply(null, arr);
      };
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/helpers/isAxiosError.js
var require_isAxiosError = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/helpers/isAxiosError.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    module.exports = function isAxiosError(payload) {
      return utils.isObject(payload) && payload.isAxiosError === true;
    };
  }
});

// node_modules/authing-js-sdk/node_modules/axios/lib/axios.js
var require_axios = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/lib/axios.js"(exports, module) {
    "use strict";
    var utils = require_utils();
    var bind = require_bind();
    var Axios4 = require_Axios();
    var mergeConfig = require_mergeConfig();
    var defaults = require_defaults();
    function createInstance(defaultConfig) {
      var context = new Axios4(defaultConfig);
      var instance = bind(Axios4.prototype.request, context);
      utils.extend(instance, Axios4.prototype, context);
      utils.extend(instance, context);
      instance.create = function create(instanceConfig) {
        return createInstance(mergeConfig(defaultConfig, instanceConfig));
      };
      return instance;
    }
    var axios = createInstance(defaults);
    axios.Axios = Axios4;
    axios.Cancel = require_Cancel();
    axios.CancelToken = require_CancelToken();
    axios.isCancel = require_isCancel();
    axios.VERSION = require_data().version;
    axios.all = function all(promises) {
      return Promise.all(promises);
    };
    axios.spread = require_spread();
    axios.isAxiosError = require_isAxiosError();
    module.exports = axios;
    module.exports.default = axios;
  }
});

// node_modules/authing-js-sdk/node_modules/axios/index.js
var require_axios2 = __commonJS({
  "node_modules/authing-js-sdk/node_modules/axios/index.js"(exports, module) {
    module.exports = require_axios();
  }
});

// node_modules/jwt-decode/lib/atob.js
var require_atob = __commonJS({
  "node_modules/jwt-decode/lib/atob.js"(exports, module) {
    var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    function InvalidCharacterError(message) {
      this.message = message;
    }
    InvalidCharacterError.prototype = new Error();
    InvalidCharacterError.prototype.name = "InvalidCharacterError";
    function polyfill(input) {
      var str = String(input).replace(/=+$/, "");
      if (str.length % 4 == 1) {
        throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");
      }
      for (
        var bc = 0, bs, buffer, idx = 0, output = "";
        // get next character
        buffer = str.charAt(idx++);
        // character found in table? initialize bit storage and add its ascii value;
        ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, // and if not first of each 4 characters,
        // convert the first 8 bits to one ascii character
        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0
      ) {
        buffer = chars.indexOf(buffer);
      }
      return output;
    }
    module.exports = typeof window !== "undefined" && window.atob && window.atob.bind(window) || polyfill;
  }
});

// node_modules/jwt-decode/lib/base64_url_decode.js
var require_base64_url_decode = __commonJS({
  "node_modules/jwt-decode/lib/base64_url_decode.js"(exports, module) {
    var atob2 = require_atob();
    function b64DecodeUnicode(str) {
      return decodeURIComponent(atob2(str).replace(/(.)/g, function(m, p) {
        var code = p.charCodeAt(0).toString(16).toUpperCase();
        if (code.length < 2) {
          code = "0" + code;
        }
        return "%" + code;
      }));
    }
    module.exports = function(str) {
      var output = str.replace(/-/g, "+").replace(/_/g, "/");
      switch (output.length % 4) {
        case 0:
          break;
        case 2:
          output += "==";
          break;
        case 3:
          output += "=";
          break;
        default:
          throw "Illegal base64url string!";
      }
      try {
        return b64DecodeUnicode(output);
      } catch (err) {
        return atob2(output);
      }
    };
  }
});

// node_modules/jwt-decode/lib/index.js
var require_lib = __commonJS({
  "node_modules/jwt-decode/lib/index.js"(exports, module) {
    "use strict";
    var base64_url_decode = require_base64_url_decode();
    function InvalidTokenError(message) {
      this.message = message;
    }
    InvalidTokenError.prototype = new Error();
    InvalidTokenError.prototype.name = "InvalidTokenError";
    module.exports = function(token, options) {
      if (typeof token !== "string") {
        throw new InvalidTokenError("Invalid token specified");
      }
      options = options || {};
      var pos = options.header === true ? 0 : 1;
      try {
        return JSON.parse(base64_url_decode(token.split(".")[pos]));
      } catch (e) {
        throw new InvalidTokenError("Invalid token specified: " + e.message);
      }
    };
    module.exports.InvalidTokenError = InvalidTokenError;
  }
});

// node_modules/authing-js-sdk/build/module/types/graphql.v2.js
var ResourceType;
(function(ResourceType2) {
  ResourceType2["Data"] = "DATA";
  ResourceType2["Api"] = "API";
  ResourceType2["Menu"] = "MENU";
  ResourceType2["Ui"] = "UI";
  ResourceType2["Button"] = "BUTTON";
})(ResourceType || (ResourceType = {}));
var PolicyAssignmentTargetType;
(function(PolicyAssignmentTargetType2) {
  PolicyAssignmentTargetType2["User"] = "USER";
  PolicyAssignmentTargetType2["Role"] = "ROLE";
  PolicyAssignmentTargetType2["Group"] = "GROUP";
  PolicyAssignmentTargetType2["Org"] = "ORG";
  PolicyAssignmentTargetType2["AkSk"] = "AK_SK";
})(PolicyAssignmentTargetType || (PolicyAssignmentTargetType = {}));
var Operator;
(function(Operator2) {
  Operator2["And"] = "AND";
  Operator2["Or"] = "OR";
})(Operator || (Operator = {}));
var EmailTemplateType;
(function(EmailTemplateType2) {
  EmailTemplateType2["ResetPassword"] = "RESET_PASSWORD";
  EmailTemplateType2["PasswordResetedNotification"] = "PASSWORD_RESETED_NOTIFICATION";
  EmailTemplateType2["ChangePassword"] = "CHANGE_PASSWORD";
  EmailTemplateType2["Welcome"] = "WELCOME";
  EmailTemplateType2["VerifyEmail"] = "VERIFY_EMAIL";
  EmailTemplateType2["ChangeEmail"] = "CHANGE_EMAIL";
})(EmailTemplateType || (EmailTemplateType = {}));
var SortByEnum;
(function(SortByEnum2) {
  SortByEnum2["CreatedatDesc"] = "CREATEDAT_DESC";
  SortByEnum2["CreatedatAsc"] = "CREATEDAT_ASC";
  SortByEnum2["UpdatedatDesc"] = "UPDATEDAT_DESC";
  SortByEnum2["UpdatedatAsc"] = "UPDATEDAT_ASC";
})(SortByEnum || (SortByEnum = {}));
var UserStatus;
(function(UserStatus2) {
  UserStatus2["Suspended"] = "Suspended";
  UserStatus2["Resigned"] = "Resigned";
  UserStatus2["Activated"] = "Activated";
  UserStatus2["Archived"] = "Archived";
})(UserStatus || (UserStatus = {}));
var UdfDataType;
(function(UdfDataType2) {
  UdfDataType2["String"] = "STRING";
  UdfDataType2["Number"] = "NUMBER";
  UdfDataType2["Datetime"] = "DATETIME";
  UdfDataType2["Boolean"] = "BOOLEAN";
  UdfDataType2["Object"] = "OBJECT";
  UdfDataType2["Select"] = "SELECT";
})(UdfDataType || (UdfDataType = {}));
var PolicyEffect;
(function(PolicyEffect2) {
  PolicyEffect2["Allow"] = "ALLOW";
  PolicyEffect2["Deny"] = "DENY";
})(PolicyEffect || (PolicyEffect = {}));
var UdfTargetType;
(function(UdfTargetType2) {
  UdfTargetType2["Node"] = "NODE";
  UdfTargetType2["Org"] = "ORG";
  UdfTargetType2["User"] = "USER";
  UdfTargetType2["Userpool"] = "USERPOOL";
  UdfTargetType2["Role"] = "ROLE";
  UdfTargetType2["Permission"] = "PERMISSION";
  UdfTargetType2["Application"] = "APPLICATION";
})(UdfTargetType || (UdfTargetType = {}));
var WhitelistType;
(function(WhitelistType2) {
  WhitelistType2["Username"] = "USERNAME";
  WhitelistType2["Email"] = "EMAIL";
  WhitelistType2["Phone"] = "PHONE";
})(WhitelistType || (WhitelistType = {}));
var EmailScene;
(function(EmailScene2) {
  EmailScene2["ResetPassword"] = "RESET_PASSWORD";
  EmailScene2["RESET_PASSWORD_VERIFY_CODE"] = "RESET_PASSWORD_VERIFY_CODE";
  EmailScene2["VerifyEmail"] = "VERIFY_EMAIL";
  EmailScene2["FIRST_EMAIL_LOGIN_VERIFY"] = "FIRST_EMAIL_LOGIN_VERIFY";
  EmailScene2["CONSOLE_CONDUCTED_VERIFY"] = "CONSOLE_CONDUCTED_VERIFY";
  EmailScene2["ChangeEmail"] = "CHANGE_EMAIL";
  EmailScene2["EMAIL_BIND_VERIFY_CODE"] = "EMAIL_BIND_VERIFY_CODE";
  EmailScene2["EMAIL_UNBIND_VERIFY_CODE"] = "EMAIL_UNBIND_VERIFY_CODE";
  EmailScene2["MfaVerify"] = "MFA_VERIFY";
  EmailScene2["VerifyCode"] = "VERIFY_CODE";
  EmailScene2["REGISTER_VERIFY_CODE"] = "REGISTER_VERIFY_CODE";
  EmailScene2["LOGIN_VERIFY_CODE"] = "LOGIN_VERIFY_CODE";
  EmailScene2["MFA_VERIFY_CODE"] = "MFA_VERIFY_CODE";
  EmailScene2["INFORMATION_COMPLETION_VERIFY_CODE"] = "INFORMATION_COMPLETION_VERIFY_CODE";
})(EmailScene || (EmailScene = {}));
var AddMemberDocument = "\n    mutation addMember($page: Int, $limit: Int, $sortBy: SortByEnum, $includeChildrenNodes: Boolean, $nodeId: String, $orgId: String, $nodeCode: String, $userIds: [String!]!, $isLeader: Boolean) {\n  addMember(nodeId: $nodeId, orgId: $orgId, nodeCode: $nodeCode, userIds: $userIds, isLeader: $isLeader) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    createdAt\n    updatedAt\n    children\n    users(page: $page, limit: $limit, sortBy: $sortBy, includeChildrenNodes: $includeChildrenNodes) {\n      totalCount\n      list {\n        id\n        arn\n        userPoolId\n        username\n        status\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        externalId\n        phoneCountryCode\n      }\n    }\n  }\n}\n    ";
var AddNodeDocument = "\n    mutation addNode($orgId: String!, $parentNodeId: String, $name: String!, $nameI18n: String, $description: String, $descriptionI18n: String, $order: Int, $code: String) {\n  addNode(orgId: $orgId, parentNodeId: $parentNodeId, name: $name, nameI18n: $nameI18n, description: $description, descriptionI18n: $descriptionI18n, order: $order, code: $code) {\n    id\n    rootNode {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n    nodes {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n  }\n}\n    ";
var AddNodeV2Document = "\n    mutation addNodeV2($orgId: String!, $parentNodeId: String, $name: String!, $nameI18n: String, $description: String, $descriptionI18n: String, $order: Int, $code: String) {\n  addNodeV2(orgId: $orgId, parentNodeId: $parentNodeId, name: $name, nameI18n: $nameI18n, description: $description, descriptionI18n: $descriptionI18n, order: $order, code: $code) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    createdAt\n    updatedAt\n    children\n  }\n}\n    ";
var AddPolicyAssignmentsDocument = "\n    mutation addPolicyAssignments($policies: [String!]!, $targetType: PolicyAssignmentTargetType!, $targetIdentifiers: [String!], $inheritByChildren: Boolean, $namespace: String) {\n  addPolicyAssignments(policies: $policies, targetType: $targetType, targetIdentifiers: $targetIdentifiers, inheritByChildren: $inheritByChildren, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var AddUserToGroupDocument = "\n    mutation addUserToGroup($userIds: [String!]!, $code: String) {\n  addUserToGroup(userIds: $userIds, code: $code) {\n    message\n    code\n  }\n}\n    ";
var AddWhitelistDocument = "\n    mutation addWhitelist($type: WhitelistType!, $list: [String!]!) {\n  addWhitelist(type: $type, list: $list) {\n    createdAt\n    updatedAt\n    value\n  }\n}\n    ";
var AllowDocument = "\n    mutation allow($resource: String!, $action: String!, $userId: String, $userIds: [String!], $roleCode: String, $roleCodes: [String!], $namespace: String) {\n  allow(resource: $resource, action: $action, userId: $userId, userIds: $userIds, roleCode: $roleCode, roleCodes: $roleCodes, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var AssignRoleDocument = "\n    mutation assignRole($namespace: String, $roleCode: String, $roleCodes: [String], $userIds: [String!], $groupCodes: [String!], $nodeCodes: [String!]) {\n  assignRole(namespace: $namespace, roleCode: $roleCode, roleCodes: $roleCodes, userIds: $userIds, groupCodes: $groupCodes, nodeCodes: $nodeCodes) {\n    message\n    code\n  }\n}\n    ";
var AuthorizeResourceDocument = "\n    mutation authorizeResource($namespace: String, $resource: String, $resourceType: ResourceType, $opts: [AuthorizeResourceOpt]) {\n  authorizeResource(namespace: $namespace, resource: $resource, resourceType: $resourceType, opts: $opts) {\n    code\n    message\n  }\n}\n    ";
var BindEmailDocument = "\n    mutation bindEmail($email: String!, $emailCode: String!) {\n  bindEmail(email: $email, emailCode: $emailCode) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    phoneCountryCode\n  }\n}\n    ";
var BindPhoneDocument = "\n    mutation bindPhone($phone: String!, $phoneCode: String!, $phoneCountryCode: String) {\n  bindPhone(phone: $phone, phoneCode: $phoneCode, phoneCountryCode: $phoneCountryCode) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    phoneCountryCode\n  }\n}\n    ";
var ChangeMfaDocument = "\n    mutation changeMfa($enable: Boolean, $id: String, $userId: String, $userPoolId: String, $refresh: Boolean) {\n  changeMfa(enable: $enable, id: $id, userId: $userId, userPoolId: $userPoolId, refresh: $refresh) {\n    id\n    userId\n    userPoolId\n    enable\n    secret\n  }\n}\n    ";
var ConfigEmailTemplateDocument = "\n    mutation configEmailTemplate($input: ConfigEmailTemplateInput!) {\n  configEmailTemplate(input: $input) {\n    type\n    name\n    subject\n    sender\n    content\n    redirectTo\n    hasURL\n    expiresIn\n    enabled\n    isSystem\n  }\n}\n    ";
var CreateFunctionDocument = "\n    mutation createFunction($input: CreateFunctionInput!) {\n  createFunction(input: $input) {\n    id\n    name\n    sourceCode\n    description\n    url\n  }\n}\n    ";
var CreateGroupDocument = "\n    mutation createGroup($code: String!, $name: String!, $description: String) {\n  createGroup(code: $code, name: $name, description: $description) {\n    code\n    name\n    description\n    createdAt\n    updatedAt\n  }\n}\n    ";
var CreateOrgDocument = "\n    mutation createOrg($name: String!, $code: String, $description: String, $tenantId: String) {\n  createOrg(name: $name, code: $code, description: $description, tenantId: $tenantId) {\n    id\n    rootNode {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n    nodes {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n  }\n}\n    ";
var CreatePolicyDocument = "\n    mutation createPolicy($namespace: String, $code: String!, $description: String, $statements: [PolicyStatementInput!]!) {\n  createPolicy(namespace: $namespace, code: $code, description: $description, statements: $statements) {\n    namespace\n    code\n    isDefault\n    description\n    statements {\n      resource\n      actions\n      effect\n      condition {\n        param\n        operator\n        value\n      }\n    }\n    createdAt\n    updatedAt\n    assignmentsCount\n  }\n}\n    ";
var CreateRoleDocument = "\n    mutation createRole($namespace: String, $code: String!, $description: String, $parent: String) {\n  createRole(namespace: $namespace, code: $code, description: $description, parent: $parent) {\n    id\n    namespace\n    code\n    arn\n    description\n    createdAt\n    updatedAt\n    parent {\n      namespace\n      code\n      arn\n      description\n      createdAt\n      updatedAt\n    }\n  }\n}\n    ";
var CreateUserDocument = "\n    mutation createUser($userInfo: CreateUserInput!, $params: String, $identity: CreateUserIdentityInput, $keepPassword: Boolean, $resetPasswordOnFirstLogin: Boolean) {\n  createUser(userInfo: $userInfo, params: $params, identity: $identity, keepPassword: $keepPassword, resetPasswordOnFirstLogin: $resetPasswordOnFirstLogin) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n  }\n}\n    ";
var CreateUserWithCustomDataDocument = "\n    mutation createUserWithCustomData($userInfo: CreateUserInput!, $keepPassword: Boolean, $params: String) {\n  createUser(userInfo: $userInfo, keepPassword: $keepPassword, params: $params) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var CreateUserpoolDocument = "\n    mutation createUserpool($name: String!, $domain: String!, $description: String, $logo: String, $userpoolTypes: [String!]) {\n  createUserpool(name: $name, domain: $domain, description: $description, logo: $logo, userpoolTypes: $userpoolTypes) {\n    id\n    name\n    domain\n    description\n    secret\n    jwtSecret\n    userpoolTypes {\n      code\n      name\n      description\n      image\n      sdks\n    }\n    logo\n    createdAt\n    updatedAt\n    emailVerifiedDefault\n    sendWelcomeEmail\n    registerDisabled\n    appSsoEnabled\n    showWxQRCodeWhenRegisterDisabled\n    allowedOrigins\n    tokenExpiresAfter\n    isDeleted\n    frequentRegisterCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    loginFailCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    changePhoneStrategy {\n      verifyOldPhone\n    }\n    changeEmailStrategy {\n      verifyOldEmail\n    }\n    qrcodeLoginStrategy {\n      qrcodeExpiresAfter\n      returnFullUserInfo\n      allowExchangeUserInfoFromBrowser\n      ticketExpiresAfter\n    }\n    app2WxappLoginStrategy {\n      ticketExpriresAfter\n      ticketExchangeUserInfoNeedSecret\n    }\n    whitelist {\n      phoneEnabled\n      emailEnabled\n      usernameEnabled\n    }\n    customSMSProvider {\n      enabled\n      provider\n    }\n    packageType\n  }\n}\n    ";
var DeleteFunctionDocument = "\n    mutation deleteFunction($id: String!) {\n  deleteFunction(id: $id) {\n    message\n    code\n  }\n}\n    ";
var DeleteGroupsDocument = "\n    mutation deleteGroups($codeList: [String!]!) {\n  deleteGroups(codeList: $codeList) {\n    message\n    code\n  }\n}\n    ";
var DeleteNodeDocument = "\n    mutation deleteNode($orgId: String!, $nodeId: String!) {\n  deleteNode(orgId: $orgId, nodeId: $nodeId) {\n    message\n    code\n  }\n}\n    ";
var DeleteOrgDocument = "\n    mutation deleteOrg($id: String!) {\n  deleteOrg(id: $id) {\n    message\n    code\n  }\n}\n    ";
var DeletePoliciesDocument = "\n    mutation deletePolicies($codeList: [String!]!, $namespace: String) {\n  deletePolicies(codeList: $codeList, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var DeletePolicyDocument = "\n    mutation deletePolicy($code: String!, $namespace: String) {\n  deletePolicy(code: $code, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var DeleteRoleDocument = "\n    mutation deleteRole($code: String!, $namespace: String) {\n  deleteRole(code: $code, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var DeleteRolesDocument = "\n    mutation deleteRoles($codeList: [String!]!, $namespace: String) {\n  deleteRoles(codeList: $codeList, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var DeleteUserDocument = "\n    mutation deleteUser($id: String!) {\n  deleteUser(id: $id) {\n    message\n    code\n  }\n}\n    ";
var DeleteUserpoolDocument = "\n    mutation deleteUserpool {\n  deleteUserpool {\n    message\n    code\n  }\n}\n    ";
var DeleteUsersDocument = "\n    mutation deleteUsers($ids: [String!]!) {\n  deleteUsers(ids: $ids) {\n    message\n    code\n  }\n}\n    ";
var DisableEmailTemplateDocument = "\n    mutation disableEmailTemplate($type: EmailTemplateType!) {\n  disableEmailTemplate(type: $type) {\n    type\n    name\n    subject\n    sender\n    content\n    redirectTo\n    hasURL\n    expiresIn\n    enabled\n    isSystem\n  }\n}\n    ";
var DisbalePolicyAssignmentDocument = "\n    mutation disbalePolicyAssignment($policy: String!, $targetType: PolicyAssignmentTargetType!, $targetIdentifier: String!, $namespace: String) {\n  disbalePolicyAssignment(policy: $policy, targetType: $targetType, targetIdentifier: $targetIdentifier, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var EnableEmailTemplateDocument = "\n    mutation enableEmailTemplate($type: EmailTemplateType!) {\n  enableEmailTemplate(type: $type) {\n    type\n    name\n    subject\n    sender\n    content\n    redirectTo\n    hasURL\n    expiresIn\n    enabled\n    isSystem\n  }\n}\n    ";
var EnablePolicyAssignmentDocument = "\n    mutation enablePolicyAssignment($policy: String!, $targetType: PolicyAssignmentTargetType!, $targetIdentifier: String!, $namespace: String) {\n  enablePolicyAssignment(policy: $policy, targetType: $targetType, targetIdentifier: $targetIdentifier, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var LoginByEmailDocument = "\n    mutation loginByEmail($input: LoginByEmailInput!) {\n  loginByEmail(input: $input) {\n    id\n    arn\n    status\n    userPoolId\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    newlyCreated\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var LoginByPhoneCodeDocument = "\n    mutation loginByPhoneCode($input: LoginByPhoneCodeInput!) {\n  loginByPhoneCode(input: $input) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    newlyCreated\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var LoginByPhonePasswordDocument = "\n    mutation loginByPhonePassword($input: LoginByPhonePasswordInput!) {\n  loginByPhonePassword(input: $input) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    newlyCreated\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var LoginBySubAccountDocument = "\n    mutation loginBySubAccount($account: String!, $password: String!, $captchaCode: String, $clientIp: String) {\n  loginBySubAccount(account: $account, password: $password, captchaCode: $captchaCode, clientIp: $clientIp) {\n    id\n    arn\n    status\n    userPoolId\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    newlyCreated\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var LoginByUsernameDocument = "\n    mutation loginByUsername($input: LoginByUsernameInput!) {\n  loginByUsername(input: $input) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    newlyCreated\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var MoveMembersDocument = "\n    mutation moveMembers($userIds: [String!]!, $sourceNodeId: String!, $targetNodeId: String!) {\n  moveMembers(userIds: $userIds, sourceNodeId: $sourceNodeId, targetNodeId: $targetNodeId) {\n    code\n    message\n  }\n}\n    ";
var MoveNodeDocument = "\n    mutation moveNode($orgId: String!, $nodeId: String!, $targetParentId: String!) {\n  moveNode(orgId: $orgId, nodeId: $nodeId, targetParentId: $targetParentId) {\n    id\n    rootNode {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n    nodes {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n  }\n}\n    ";
var RefreshAccessTokenDocument = "\n    mutation refreshAccessToken($accessToken: String) {\n  refreshAccessToken(accessToken: $accessToken) {\n    accessToken\n    exp\n    iat\n  }\n}\n    ";
var RefreshTokenDocument = "\n    mutation refreshToken($id: String) {\n  refreshToken(id: $id) {\n    token\n    iat\n    exp\n  }\n}\n    ";
var RefreshUserpoolSecretDocument = "\n    mutation refreshUserpoolSecret {\n  refreshUserpoolSecret\n}\n    ";
var RegisterByEmailDocument = "\n    mutation registerByEmail($input: RegisterByEmailInput!) {\n  registerByEmail(input: $input) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n  }\n}\n    ";
var RegisterByPhoneCodeDocument = "\n    mutation registerByPhoneCode($input: RegisterByPhoneCodeInput!) {\n  registerByPhoneCode(input: $input) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n  }\n}\n    ";
var RegisterByUsernameDocument = "\n    mutation registerByUsername($input: RegisterByUsernameInput!) {\n  registerByUsername(input: $input) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n  }\n}\n    ";
var RemoveMemberDocument = "\n    mutation removeMember($page: Int, $limit: Int, $sortBy: SortByEnum, $includeChildrenNodes: Boolean, $nodeId: String, $orgId: String, $nodeCode: String, $userIds: [String!]!) {\n  removeMember(nodeId: $nodeId, orgId: $orgId, nodeCode: $nodeCode, userIds: $userIds) {\n    id\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    createdAt\n    updatedAt\n    children\n    users(page: $page, limit: $limit, sortBy: $sortBy, includeChildrenNodes: $includeChildrenNodes) {\n      totalCount\n      list {\n        id\n        arn\n        userPoolId\n        status\n        username\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        phoneCountryCode\n      }\n    }\n  }\n}\n    ";
var RemovePolicyAssignmentsDocument = "\n    mutation removePolicyAssignments($policies: [String!]!, $targetType: PolicyAssignmentTargetType!, $targetIdentifiers: [String!], $namespace: String) {\n  removePolicyAssignments(policies: $policies, targetType: $targetType, targetIdentifiers: $targetIdentifiers, namespace: $namespace) {\n    message\n    code\n  }\n}\n    ";
var RemoveUdfDocument = "\n    mutation removeUdf($targetType: UDFTargetType!, $key: String!) {\n  removeUdf(targetType: $targetType, key: $key) {\n    message\n    code\n  }\n}\n    ";
var RemoveUdvDocument = "\n    mutation removeUdv($targetType: UDFTargetType!, $targetId: String!, $key: String!) {\n  removeUdv(targetType: $targetType, targetId: $targetId, key: $key) {\n    key\n    dataType\n    value\n    label\n  }\n}\n    ";
var RemoveUserFromGroupDocument = "\n    mutation removeUserFromGroup($userIds: [String!]!, $code: String) {\n  removeUserFromGroup(userIds: $userIds, code: $code) {\n    message\n    code\n  }\n}\n    ";
var RemoveWhitelistDocument = "\n    mutation removeWhitelist($type: WhitelistType!, $list: [String!]!) {\n  removeWhitelist(type: $type, list: $list) {\n    createdAt\n    updatedAt\n    value\n  }\n}\n    ";
var ResetPasswordDocument = "\n    mutation resetPassword($phone: String, $phoneCountryCode: String, $email: String, $code: String!, $newPassword: String!) {\n  resetPassword(phone: $phone, phoneCountryCode: $phoneCountryCode, email: $email, code: $code, newPassword: $newPassword) {\n    message\n    code\n  }\n}\n    ";
var ResetPasswordByFirstLoginTokenDocument = "\n    mutation resetPasswordByFirstLoginToken($token: String!, $password: String!) {\n  resetPasswordByFirstLoginToken(token: $token, password: $password) {\n    message\n    code\n  }\n}\n    ";
var ResetPasswordByForceResetTokenDocument = "\n    mutation resetPasswordByForceResetToken($token: String!, $oldPassword: String!, $newPassword: String!) {\n  resetPasswordByForceResetToken(token: $token, oldPassword: $oldPassword, newPassword: $newPassword) {\n    message\n    code\n  }\n}\n    ";
var RevokeRoleDocument = "\n    mutation revokeRole($namespace: String, $roleCode: String, $roleCodes: [String], $userIds: [String!], $groupCodes: [String!], $nodeCodes: [String!]) {\n  revokeRole(namespace: $namespace, roleCode: $roleCode, roleCodes: $roleCodes, userIds: $userIds, groupCodes: $groupCodes, nodeCodes: $nodeCodes) {\n    message\n    code\n  }\n}\n    ";
var SendEmailDocument = "\n    mutation sendEmail($email: String!, $scene: EmailScene!) {\n  sendEmail(email: $email, scene: $scene) {\n    message\n    code\n  }\n}\n    ";
var SendFirstLoginVerifyEmailDocument = "\n    mutation sendFirstLoginVerifyEmail($userId: String!, $appId: String!) {\n  sendFirstLoginVerifyEmail(userId: $userId, appId: $appId) {\n    message\n    code\n  }\n}\n    ";
var SetMainDepartmentDocument = "\n    mutation setMainDepartment($userId: String!, $departmentId: String) {\n  setMainDepartment(userId: $userId, departmentId: $departmentId) {\n    message\n    code\n  }\n}\n    ";
var SetUdfDocument = "\n    mutation setUdf($targetType: UDFTargetType!, $key: String!, $dataType: UDFDataType!, $label: String!, $options: String) {\n  setUdf(targetType: $targetType, key: $key, dataType: $dataType, label: $label, options: $options) {\n    targetType\n    dataType\n    key\n    label\n    options\n  }\n}\n    ";
var SetUdfValueBatchDocument = "\n    mutation setUdfValueBatch($targetType: UDFTargetType!, $input: [SetUdfValueBatchInput!]!) {\n  setUdfValueBatch(targetType: $targetType, input: $input) {\n    code\n    message\n  }\n}\n    ";
var SetUdvDocument = "\n    mutation setUdv($targetType: UDFTargetType!, $targetId: String!, $key: String!, $value: String!) {\n  setUdv(targetType: $targetType, targetId: $targetId, key: $key, value: $value) {\n    key\n    dataType\n    value\n    label\n  }\n}\n    ";
var SetUdvBatchDocument = "\n    mutation setUdvBatch($targetType: UDFTargetType!, $targetId: String!, $udvList: [UserDefinedDataInput!]) {\n  setUdvBatch(targetType: $targetType, targetId: $targetId, udvList: $udvList) {\n    key\n    dataType\n    value\n    label\n  }\n}\n    ";
var UnbindEmailDocument = "\n    mutation unbindEmail {\n  unbindEmail {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    phoneCountryCode\n  }\n}\n    ";
var UnbindPhoneDocument = "\n    mutation unbindPhone {\n  unbindPhone {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    phoneCountryCode\n  }\n}\n    ";
var UpdateEmailDocument = "\n    mutation updateEmail($email: String!, $emailCode: String!, $oldEmail: String, $oldEmailCode: String) {\n  updateEmail(email: $email, emailCode: $emailCode, oldEmail: $oldEmail, oldEmailCode: $oldEmailCode) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    phoneCountryCode\n  }\n}\n    ";
var UpdateFunctionDocument = "\n    mutation updateFunction($input: UpdateFunctionInput!) {\n  updateFunction(input: $input) {\n    id\n    name\n    sourceCode\n    description\n    url\n  }\n}\n    ";
var UpdateGroupDocument = "\n    mutation updateGroup($code: String!, $name: String, $description: String, $newCode: String) {\n  updateGroup(code: $code, name: $name, description: $description, newCode: $newCode) {\n    code\n    name\n    description\n    createdAt\n    updatedAt\n  }\n}\n    ";
var UpdateNodeDocument = "\n    mutation updateNode($page: Int, $limit: Int, $sortBy: SortByEnum, $includeChildrenNodes: Boolean, $id: String!, $name: String, $code: String, $description: String) {\n  updateNode(id: $id, name: $name, code: $code, description: $description) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    createdAt\n    updatedAt\n    children\n    users(page: $page, limit: $limit, sortBy: $sortBy, includeChildrenNodes: $includeChildrenNodes) {\n      totalCount\n    }\n  }\n}\n    ";
var UpdatePasswordDocument = "\n    mutation updatePassword($newPassword: String!, $oldPassword: String) {\n  updatePassword(newPassword: $newPassword, oldPassword: $oldPassword) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    phoneCountryCode\n  }\n}\n    ";
var UpdatePhoneDocument = "\n    mutation updatePhone($phone: String!, $phoneCode: String!, $oldPhone: String, $oldPhoneCode: String, $phoneCountryCode: String, $oldPhoneCountryCode: String) {\n  updatePhone(phone: $phone, phoneCode: $phoneCode, oldPhone: $oldPhone, oldPhoneCode: $oldPhoneCode, phoneCountryCode: $phoneCountryCode, oldPhoneCountryCode: $oldPhoneCountryCode) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    phoneCountryCode\n  }\n}\n    ";
var UpdatePolicyDocument = "\n    mutation updatePolicy($namespace: String, $code: String!, $description: String, $statements: [PolicyStatementInput!], $newCode: String) {\n  updatePolicy(namespace: $namespace, code: $code, description: $description, statements: $statements, newCode: $newCode) {\n    namespace\n    code\n    description\n    statements {\n      resource\n      actions\n      effect\n      condition {\n        param\n        operator\n        value\n      }\n    }\n    createdAt\n    updatedAt\n  }\n}\n    ";
var UpdateRoleDocument = "\n    mutation updateRole($code: String!, $description: String, $newCode: String, $namespace: String) {\n  updateRole(code: $code, description: $description, newCode: $newCode, namespace: $namespace) {\n    id\n    namespace\n    code\n    arn\n    description\n    createdAt\n    updatedAt\n    parent {\n      namespace\n      code\n      arn\n      description\n      createdAt\n      updatedAt\n    }\n  }\n}\n    ";
var UpdateUserDocument = "\n    mutation updateUser($id: String, $input: UpdateUserInput!, $emailToken: String, $phoneToken: String) {\n  updateUser(id: $id, input: $input, emailToken: $emailToken, phoneToken: $phoneToken) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n  }\n}\n    ";
var UpdateUserpoolDocument = "\n    mutation updateUserpool($input: UpdateUserpoolInput!) {\n  updateUserpool(input: $input) {\n    id\n    name\n    domain\n    description\n    secret\n    jwtSecret\n    userpoolTypes {\n      code\n      name\n      description\n      image\n      sdks\n    }\n    logo\n    createdAt\n    updatedAt\n    emailVerifiedDefault\n    sendWelcomeEmail\n    registerDisabled\n    appSsoEnabled\n    showWxQRCodeWhenRegisterDisabled\n    allowedOrigins\n    tokenExpiresAfter\n    isDeleted\n    frequentRegisterCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    loginFailCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    loginFailStrategy\n    loginPasswordFailCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    changePhoneStrategy {\n      verifyOldPhone\n    }\n    changeEmailStrategy {\n      verifyOldEmail\n    }\n    qrcodeLoginStrategy {\n      qrcodeExpiresAfter\n      returnFullUserInfo\n      allowExchangeUserInfoFromBrowser\n      ticketExpiresAfter\n    }\n    app2WxappLoginStrategy {\n      ticketExpriresAfter\n      ticketExchangeUserInfoNeedSecret\n    }\n    whitelist {\n      phoneEnabled\n      emailEnabled\n      usernameEnabled\n    }\n    customSMSProvider {\n      enabled\n      provider\n      config\n    }\n    packageType\n    useCustomUserStore\n    loginRequireEmailVerified\n    verifyCodeLength\n    verifyCodeMaxAttempts\n  }\n}\n    ";
var AccessTokenDocument = "\n    query accessToken($userPoolId: String!, $secret: String!) {\n  accessToken(userPoolId: $userPoolId, secret: $secret) {\n    accessToken\n    exp\n    iat\n  }\n}\n    ";
var ArchivedUsersDocument = "\n    query archivedUsers($page: Int, $limit: Int) {\n  archivedUsers(page: $page, limit: $limit) {\n    totalCount\n    list {\n      id\n      arn\n      status\n      userPoolId\n      username\n      email\n      emailVerified\n      phone\n      phoneVerified\n      unionid\n      openid\n      nickname\n      registerSource\n      photo\n      password\n      oauth\n      token\n      tokenExpiredAt\n      loginsCount\n      lastLogin\n      lastIP\n      signedUp\n      blocked\n      isDeleted\n      device\n      browser\n      company\n      name\n      givenName\n      familyName\n      middleName\n      profile\n      preferredUsername\n      website\n      gender\n      birthdate\n      zoneinfo\n      locale\n      address\n      formatted\n      streetAddress\n      locality\n      region\n      postalCode\n      city\n      province\n      country\n      createdAt\n      updatedAt\n      externalId\n      phoneCountryCode\n    }\n  }\n}\n    ";
var AuthorizedTargetsDocument = "\n    query authorizedTargets($namespace: String!, $resourceType: ResourceType!, $resource: String!, $targetType: PolicyAssignmentTargetType, $actions: AuthorizedTargetsActionsInput) {\n  authorizedTargets(namespace: $namespace, resource: $resource, resourceType: $resourceType, targetType: $targetType, actions: $actions) {\n    totalCount\n    list {\n      targetType\n      targetIdentifier\n      actions\n    }\n  }\n}\n    ";
var CheckLoginStatusDocument = "\n    query checkLoginStatus($token: String) {\n  checkLoginStatus(token: $token) {\n    code\n    message\n    status\n    exp\n    iat\n    data {\n      id\n      userPoolId\n      arn\n    }\n  }\n}\n    ";
var CheckPasswordStrengthDocument = "\n    query checkPasswordStrength($password: String!) {\n  checkPasswordStrength(password: $password) {\n    valid\n    message\n  }\n}\n    ";
var ChildrenNodesDocument = "\n    query childrenNodes($nodeId: String!) {\n  childrenNodes(nodeId: $nodeId) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    createdAt\n    updatedAt\n    children\n  }\n}\n    ";
var EmailTemplatesDocument = "\n    query emailTemplates {\n  emailTemplates {\n    type\n    name\n    subject\n    sender\n    content\n    redirectTo\n    hasURL\n    expiresIn\n    enabled\n    isSystem\n  }\n}\n    ";
var FindUserDocument = "\n    query findUser($email: String, $phone: String, $username: String, $externalId: String, $identity: FindUserByIdentityInput) {\n  findUser(email: $email, phone: $phone, username: $username, externalId: $externalId, identity: $identity) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n  }\n}\n    ";
var FindUserWithCustomDataDocument = "\n    query findUserWithCustomData($email: String, $phone: String, $username: String, $externalId: String) {\n  findUser(email: $email, phone: $phone, username: $username, externalId: $externalId) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var FunctionDocument = "\n    query function($id: String) {\n  function(id: $id) {\n    id\n    name\n    sourceCode\n    description\n    url\n  }\n}\n    ";
var FunctionsDocument = "\n    query functions($page: Int, $limit: Int, $sortBy: SortByEnum) {\n  functions(page: $page, limit: $limit, sortBy: $sortBy) {\n    list {\n      id\n      name\n      sourceCode\n      description\n      url\n    }\n    totalCount\n  }\n}\n    ";
var GetUserDepartmentsDocument = "\n    query getUserDepartments($id: String!, $orgId: String) {\n  user(id: $id) {\n    departments(orgId: $orgId) {\n      totalCount\n      list {\n        department {\n          id\n          orgId\n          name\n          nameI18n\n          description\n          descriptionI18n\n          order\n          code\n          root\n          depth\n          path\n          codePath\n          namePath\n          createdAt\n          updatedAt\n          children\n          isVirtualNode\n        }\n        isMainDepartment\n        joinedAt\n      }\n    }\n  }\n}\n    ";
var GetUserGroupsDocument = "\n    query getUserGroups($id: String!) {\n  user(id: $id) {\n    groups {\n      totalCount\n      list {\n        code\n        name\n        description\n        createdAt\n        updatedAt\n      }\n    }\n  }\n}\n    ";
var GetUserRolesDocument = "\n    query getUserRoles($id: String!, $namespace: String) {\n  user(id: $id) {\n    roles(namespace: $namespace) {\n      totalCount\n      list {\n        id\n        code\n        namespace\n        arn\n        description\n        createdAt\n        updatedAt\n        parent {\n          code\n          namespace\n          arn\n          description\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  }\n}\n    ";
var GroupDocument = "\n    query group($code: String!) {\n  group(code: $code) {\n    code\n    name\n    description\n    createdAt\n    updatedAt\n  }\n}\n    ";
var GroupWithUsersDocument = "\n    query groupWithUsers($code: String!, $page: Int, $limit: Int) {\n  group(code: $code) {\n    users(page: $page, limit: $limit) {\n      totalCount\n      list {\n        id\n        arn\n        status\n        userPoolId\n        username\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        externalId\n        phoneCountryCode\n      }\n    }\n  }\n}\n    ";
var GroupWithUsersWithCustomDataDocument = "\n    query groupWithUsersWithCustomData($code: String!, $page: Int, $limit: Int) {\n  group(code: $code) {\n    users(page: $page, limit: $limit) {\n      totalCount\n      list {\n        id\n        arn\n        status\n        userPoolId\n        username\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        externalId\n        phoneCountryCode\n        customData {\n          key\n          value\n          dataType\n          label\n        }\n      }\n    }\n  }\n}\n    ";
var GroupsDocument = "\n    query groups($userId: String, $page: Int, $limit: Int, $sortBy: SortByEnum) {\n  groups(userId: $userId, page: $page, limit: $limit, sortBy: $sortBy) {\n    totalCount\n    list {\n      code\n      name\n      description\n      createdAt\n      updatedAt\n    }\n  }\n}\n    ";
var IsActionAllowedDocument = "\n    query isActionAllowed($resource: String!, $action: String!, $userId: String!, $namespace: String) {\n  isActionAllowed(resource: $resource, action: $action, userId: $userId, namespace: $namespace)\n}\n    ";
var IsActionDeniedDocument = "\n    query isActionDenied($resource: String!, $action: String!, $userId: String!) {\n  isActionDenied(resource: $resource, action: $action, userId: $userId)\n}\n    ";
var IsDomainAvaliableDocument = "\n    query isDomainAvaliable($domain: String!) {\n  isDomainAvaliable(domain: $domain)\n}\n    ";
var IsRootNodeDocument = "\n    query isRootNode($nodeId: String!, $orgId: String!) {\n  isRootNode(nodeId: $nodeId, orgId: $orgId)\n}\n    ";
var IsUserExistsDocument = "\n    query isUserExists($email: String, $phone: String, $username: String, $externalId: String) {\n  isUserExists(email: $email, phone: $phone, username: $username, externalId: $externalId)\n}\n    ";
var AuthorizedResourcesDocument = "\n    query authorizedResources($targetType: PolicyAssignmentTargetType, $targetIdentifier: String, $namespace: String, $resourceType: String) {\n  authorizedResources(targetType: $targetType, targetIdentifier: $targetIdentifier, namespace: $namespace, resourceType: $resourceType) {\n    totalCount\n    list {\n      code\n      type\n      actions\n      apiIdentifier\n    }\n  }\n}\n    ";
var ListGroupAuthorizedResourcesDocument = "\n    query listGroupAuthorizedResources($code: String!, $namespace: String, $resourceType: String) {\n  group(code: $code) {\n    authorizedResources(namespace: $namespace, resourceType: $resourceType) {\n      totalCount\n      list {\n        code\n        type\n        actions\n        apiIdentifier\n      }\n    }\n  }\n}\n    ";
var ListNodeByCodeAuthorizedResourcesDocument = "\n    query listNodeByCodeAuthorizedResources($orgId: String!, $code: String!, $namespace: String, $resourceType: String) {\n  nodeByCode(orgId: $orgId, code: $code) {\n    authorizedResources(namespace: $namespace, resourceType: $resourceType) {\n      totalCount\n      list {\n        code\n        type\n        actions\n        apiIdentifier\n      }\n    }\n  }\n}\n    ";
var ListNodeByIdAuthorizedResourcesDocument = "\n    query listNodeByIdAuthorizedResources($id: String!, $namespace: String, $resourceType: String) {\n  nodeById(id: $id) {\n    authorizedResources(namespace: $namespace, resourceType: $resourceType) {\n      totalCount\n      list {\n        code\n        type\n        actions\n        apiIdentifier\n      }\n    }\n  }\n}\n    ";
var ListRoleAuthorizedResourcesDocument = "\n    query listRoleAuthorizedResources($code: String!, $namespace: String, $resourceType: String) {\n  role(code: $code, namespace: $namespace) {\n    authorizedResources(resourceType: $resourceType) {\n      totalCount\n      list {\n        code\n        type\n        actions\n        apiIdentifier\n      }\n    }\n  }\n}\n    ";
var ListUserAuthorizedResourcesDocument = "\n    query listUserAuthorizedResources($id: String!, $namespace: String, $resourceType: String) {\n  user(id: $id) {\n    authorizedResources(namespace: $namespace, resourceType: $resourceType) {\n      totalCount\n      list {\n        code\n        type\n        actions\n        apiIdentifier\n      }\n    }\n  }\n}\n    ";
var NodeByCodeDocument = "\n    query nodeByCode($orgId: String!, $code: String!) {\n  nodeByCode(orgId: $orgId, code: $code) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    createdAt\n    updatedAt\n    children\n  }\n}\n    ";
var NodeByCodeWithMembersDocument = "\n    query nodeByCodeWithMembers($page: Int, $limit: Int, $sortBy: SortByEnum, $includeChildrenNodes: Boolean, $orgId: String!, $code: String!) {\n  nodeByCode(orgId: $orgId, code: $code) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    createdAt\n    updatedAt\n    children\n    users(page: $page, limit: $limit, sortBy: $sortBy, includeChildrenNodes: $includeChildrenNodes) {\n      totalCount\n      list {\n        id\n        arn\n        userPoolId\n        status\n        username\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        externalId\n        phoneCountryCode\n      }\n    }\n  }\n}\n    ";
var NodeByIdDocument = "\n    query nodeById($id: String!) {\n  nodeById(id: $id) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    createdAt\n    updatedAt\n    children\n  }\n}\n    ";
var NodeByIdWithMembersDocument = "\n    query nodeByIdWithMembers($page: Int, $limit: Int, $sortBy: SortByEnum, $includeChildrenNodes: Boolean, $id: String!) {\n  nodeById(id: $id) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    createdAt\n    updatedAt\n    children\n    users(page: $page, limit: $limit, sortBy: $sortBy, includeChildrenNodes: $includeChildrenNodes) {\n      totalCount\n      list {\n        id\n        arn\n        userPoolId\n        status\n        username\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        externalId\n        phoneCountryCode\n      }\n    }\n  }\n}\n    ";
var OrgDocument = "\n    query org($id: String!) {\n  org(id: $id) {\n    id\n    rootNode {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n    nodes {\n      id\n      orgId\n      name\n      nameI18n\n      description\n      descriptionI18n\n      order\n      code\n      root\n      depth\n      path\n      createdAt\n      updatedAt\n      children\n    }\n  }\n}\n    ";
var OrgsDocument = "\n    query orgs($page: Int, $limit: Int, $sortBy: SortByEnum) {\n  orgs(page: $page, limit: $limit, sortBy: $sortBy) {\n    totalCount\n    list {\n      id\n      rootNode {\n        id\n        name\n        nameI18n\n        path\n        description\n        descriptionI18n\n        order\n        code\n        root\n        depth\n        createdAt\n        updatedAt\n        children\n      }\n      nodes {\n        id\n        name\n        path\n        nameI18n\n        description\n        descriptionI18n\n        order\n        code\n        root\n        depth\n        createdAt\n        updatedAt\n        children\n      }\n    }\n  }\n}\n    ";
var PoliciesDocument = "\n    query policies($page: Int, $limit: Int, $namespace: String) {\n  policies(page: $page, limit: $limit, namespace: $namespace) {\n    totalCount\n    list {\n      namespace\n      code\n      description\n      createdAt\n      updatedAt\n      statements {\n        resource\n        actions\n        effect\n        condition {\n          param\n          operator\n          value\n        }\n      }\n    }\n  }\n}\n    ";
var PolicyDocument = "\n    query policy($namespace: String, $code: String!) {\n  policy(code: $code, namespace: $namespace) {\n    namespace\n    code\n    isDefault\n    description\n    statements {\n      resource\n      actions\n      effect\n      condition {\n        param\n        operator\n        value\n      }\n    }\n    createdAt\n    updatedAt\n  }\n}\n    ";
var PolicyAssignmentsDocument = "\n    query policyAssignments($namespace: String, $code: String, $targetType: PolicyAssignmentTargetType, $targetIdentifier: String, $page: Int, $limit: Int) {\n  policyAssignments(namespace: $namespace, code: $code, targetType: $targetType, targetIdentifier: $targetIdentifier, page: $page, limit: $limit) {\n    totalCount\n    list {\n      code\n      targetType\n      targetIdentifier\n    }\n  }\n}\n    ";
var PolicyWithAssignmentsDocument = "\n    query policyWithAssignments($page: Int, $limit: Int, $code: String!) {\n  policy(code: $code) {\n    code\n    isDefault\n    description\n    statements {\n      resource\n      actions\n      effect\n    }\n    createdAt\n    updatedAt\n    assignmentsCount\n    assignments(page: $page, limit: $limit) {\n      code\n      targetType\n      targetIdentifier\n    }\n  }\n}\n    ";
var PreviewEmailDocument = "\n    query previewEmail($type: EmailTemplateType!) {\n  previewEmail(type: $type)\n}\n    ";
var QiniuUptokenDocument = "\n    query qiniuUptoken($type: String) {\n  qiniuUptoken(type: $type)\n}\n    ";
var QueryMfaDocument = "\n    query queryMfa($id: String, $userId: String, $userPoolId: String) {\n  queryMfa(id: $id, userId: $userId, userPoolId: $userPoolId) {\n    id\n    userId\n    userPoolId\n    enable\n    secret\n  }\n}\n    ";
var RoleDocument = "\n    query role($code: String!, $namespace: String) {\n  role(code: $code, namespace: $namespace) {\n    id\n    namespace\n    code\n    arn\n    description\n    createdAt\n    updatedAt\n    parent {\n      namespace\n      code\n      arn\n      description\n      createdAt\n      updatedAt\n    }\n  }\n}\n    ";
var RoleWithUsersDocument = "\n    query roleWithUsers($code: String!, $namespace: String, $page: Int, $limit: Int) {\n  role(code: $code, namespace: $namespace) {\n    users(page: $page, limit: $limit) {\n      totalCount\n      list {\n        id\n        arn\n        status\n        userPoolId\n        username\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        externalId\n        phoneCountryCode\n      }\n    }\n  }\n}\n    ";
var RoleWithUsersWithCustomDataDocument = "\n    query roleWithUsersWithCustomData($code: String!, $namespace: String, $page: Int, $limit: Int) {\n  role(code: $code, namespace: $namespace) {\n    users(page: $page, limit: $limit) {\n      totalCount\n      list {\n        id\n        arn\n        status\n        userPoolId\n        username\n        email\n        emailVerified\n        phone\n        phoneVerified\n        unionid\n        openid\n        nickname\n        registerSource\n        photo\n        password\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        device\n        browser\n        company\n        name\n        givenName\n        familyName\n        middleName\n        profile\n        preferredUsername\n        website\n        gender\n        birthdate\n        zoneinfo\n        locale\n        address\n        formatted\n        streetAddress\n        locality\n        region\n        postalCode\n        city\n        province\n        country\n        createdAt\n        updatedAt\n        externalId\n        phoneCountryCode\n        customData {\n          key\n          value\n          dataType\n          label\n        }\n      }\n    }\n  }\n}\n    ";
var RolesDocument = "\n    query roles($namespace: String, $page: Int, $limit: Int, $sortBy: SortByEnum) {\n  roles(namespace: $namespace, page: $page, limit: $limit, sortBy: $sortBy) {\n    totalCount\n    list {\n      id\n      namespace\n      code\n      arn\n      description\n      createdAt\n      updatedAt\n    }\n  }\n}\n    ";
var RootNodeDocument = "\n    query rootNode($orgId: String!) {\n  rootNode(orgId: $orgId) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    codePath\n    namePath\n    createdAt\n    updatedAt\n    children\n  }\n}\n    ";
var SearchNodesDocument = "\n    query searchNodes($keyword: String!) {\n  searchNodes(keyword: $keyword) {\n    id\n    orgId\n    name\n    nameI18n\n    description\n    descriptionI18n\n    order\n    code\n    root\n    depth\n    path\n    codePath\n    namePath\n    createdAt\n    updatedAt\n    children\n  }\n}\n    ";
var SearchUserDocument = "\n    query searchUser($query: String!, $fields: [String], $page: Int, $limit: Int, $departmentOpts: [SearchUserDepartmentOpt], $groupOpts: [SearchUserGroupOpt], $roleOpts: [SearchUserRoleOpt]) {\n  searchUser(query: $query, fields: $fields, page: $page, limit: $limit, departmentOpts: $departmentOpts, groupOpts: $groupOpts, roleOpts: $roleOpts) {\n    totalCount\n    list {\n      id\n      arn\n      userPoolId\n      status\n      username\n      email\n      emailVerified\n      phone\n      phoneVerified\n      unionid\n      openid\n      nickname\n      registerSource\n      photo\n      password\n      oauth\n      token\n      tokenExpiredAt\n      loginsCount\n      lastLogin\n      lastIP\n      signedUp\n      blocked\n      isDeleted\n      device\n      browser\n      company\n      name\n      givenName\n      familyName\n      middleName\n      profile\n      preferredUsername\n      website\n      gender\n      birthdate\n      zoneinfo\n      locale\n      address\n      formatted\n      streetAddress\n      locality\n      region\n      postalCode\n      city\n      province\n      country\n      createdAt\n      updatedAt\n      externalId\n      phoneCountryCode\n    }\n  }\n}\n    ";
var SearchUserWithCustomDataDocument = "\n    query searchUserWithCustomData($query: String!, $fields: [String], $page: Int, $limit: Int, $departmentOpts: [SearchUserDepartmentOpt], $groupOpts: [SearchUserGroupOpt], $roleOpts: [SearchUserRoleOpt]) {\n  searchUser(query: $query, fields: $fields, page: $page, limit: $limit, departmentOpts: $departmentOpts, groupOpts: $groupOpts, roleOpts: $roleOpts) {\n    totalCount\n    list {\n      id\n      arn\n      userPoolId\n      status\n      username\n      email\n      emailVerified\n      phone\n      phoneVerified\n      unionid\n      openid\n      nickname\n      registerSource\n      photo\n      password\n      oauth\n      token\n      tokenExpiredAt\n      loginsCount\n      lastLogin\n      lastIP\n      signedUp\n      blocked\n      isDeleted\n      device\n      browser\n      company\n      name\n      givenName\n      familyName\n      middleName\n      profile\n      preferredUsername\n      website\n      gender\n      birthdate\n      zoneinfo\n      locale\n      address\n      formatted\n      streetAddress\n      locality\n      region\n      postalCode\n      city\n      province\n      country\n      createdAt\n      updatedAt\n      externalId\n      phoneCountryCode\n      customData {\n        key\n        value\n        dataType\n        label\n      }\n    }\n  }\n}\n    ";
var TemplateCodeDocument = "\n    query templateCode {\n  templateCode\n}\n    ";
var UdfDocument = "\n    query udf($targetType: UDFTargetType!) {\n  udf(targetType: $targetType) {\n    targetType\n    dataType\n    key\n    label\n    options\n  }\n}\n    ";
var UdfValueBatchDocument = "\n    query udfValueBatch($targetType: UDFTargetType!, $targetIds: [String!]!) {\n  udfValueBatch(targetType: $targetType, targetIds: $targetIds) {\n    targetId\n    data {\n      key\n      dataType\n      value\n      label\n    }\n  }\n}\n    ";
var UdvDocument = "\n    query udv($targetType: UDFTargetType!, $targetId: String!) {\n  udv(targetType: $targetType, targetId: $targetId) {\n    key\n    dataType\n    value\n    label\n  }\n}\n    ";
var UserDocument = "\n    query user($id: String) {\n  user(id: $id) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    identities {\n      openid\n      userIdInIdp\n      userId\n      connectionId\n      isSocial\n      provider\n      type\n      userPoolId\n      extIdpId\n    }\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var UserBatchDocument = "\n    query userBatch($ids: [String!]!, $type: String) {\n  userBatch(ids: $ids, type: $type) {\n    identities {\n      openid\n      userIdInIdp\n      userId\n      connectionId\n      isSocial\n      provider\n      type\n      userPoolId\n      extIdpId\n    }\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n  }\n}\n    ";
var UserBatchWithCustomDataDocument = "\n    query userBatchWithCustomData($ids: [String!]!, $type: String) {\n  userBatch(ids: $ids, type: $type) {\n    identities {\n      openid\n      userIdInIdp\n      userId\n      connectionId\n      isSocial\n      provider\n      type\n      userPoolId\n      extIdpId\n    }\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var UserWithCustomDataDocument = "\n    query userWithCustomData($id: String) {\n  user(id: $id) {\n    id\n    arn\n    userPoolId\n    status\n    username\n    email\n    emailVerified\n    phone\n    phoneVerified\n    identities {\n      openid\n      userIdInIdp\n      userId\n      connectionId\n      isSocial\n      provider\n      userPoolId\n      extIdpId\n    }\n    unionid\n    openid\n    nickname\n    registerSource\n    photo\n    password\n    oauth\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted\n    device\n    browser\n    company\n    name\n    givenName\n    familyName\n    middleName\n    profile\n    preferredUsername\n    website\n    gender\n    birthdate\n    zoneinfo\n    locale\n    address\n    formatted\n    streetAddress\n    locality\n    region\n    postalCode\n    city\n    province\n    country\n    createdAt\n    updatedAt\n    externalId\n    phoneCountryCode\n    customData {\n      key\n      value\n      dataType\n      label\n    }\n  }\n}\n    ";
var UserpoolDocument = "\n    query userpool {\n  userpool {\n    id\n    name\n    domain\n    description\n    secret\n    jwtSecret\n    ownerId\n    userpoolTypes {\n      code\n      name\n      description\n      image\n      sdks\n    }\n    logo\n    createdAt\n    updatedAt\n    emailVerifiedDefault\n    sendWelcomeEmail\n    registerDisabled\n    appSsoEnabled\n    showWxQRCodeWhenRegisterDisabled\n    allowedOrigins\n    tokenExpiresAfter\n    isDeleted\n    frequentRegisterCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    loginFailCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    loginPasswordFailCheck {\n      timeInterval\n      limit\n      enabled\n    }\n    loginFailStrategy\n    changePhoneStrategy {\n      verifyOldPhone\n    }\n    changeEmailStrategy {\n      verifyOldEmail\n    }\n    qrcodeLoginStrategy {\n      qrcodeExpiresAfter\n      returnFullUserInfo\n      allowExchangeUserInfoFromBrowser\n      ticketExpiresAfter\n    }\n    app2WxappLoginStrategy {\n      ticketExpriresAfter\n      ticketExchangeUserInfoNeedSecret\n    }\n    whitelist {\n      phoneEnabled\n      emailEnabled\n      usernameEnabled\n    }\n    customSMSProvider {\n      enabled\n      provider\n      config\n    }\n    packageType\n    useCustomUserStore\n    loginRequireEmailVerified\n    verifyCodeLength\n    verifyCodeMaxAttempts\n  }\n}\n    ";
var UserpoolTypesDocument = "\n    query userpoolTypes {\n  userpoolTypes {\n    code\n    name\n    description\n    image\n    sdks\n  }\n}\n    ";
var UserpoolsDocument = "\n    query userpools($page: Int, $limit: Int, $sortBy: SortByEnum) {\n  userpools(page: $page, limit: $limit, sortBy: $sortBy) {\n    totalCount\n    list {\n      id\n      name\n      domain\n      ownerId\n      description\n      secret\n      jwtSecret\n      logo\n      createdAt\n      updatedAt\n      emailVerifiedDefault\n      sendWelcomeEmail\n      registerDisabled\n      appSsoEnabled\n      showWxQRCodeWhenRegisterDisabled\n      allowedOrigins\n      tokenExpiresAfter\n      isDeleted\n      packageType\n      useCustomUserStore\n      loginRequireEmailVerified\n      verifyCodeLength\n      verifyCodeMaxAttempts\n    }\n  }\n}\n    ";
var UsersDocument = "\n    query users($page: Int, $limit: Int, $sortBy: SortByEnum, $excludeUsersInOrg: Boolean) {\n  users(page: $page, limit: $limit, sortBy: $sortBy, excludeUsersInOrg: $excludeUsersInOrg) {\n    totalCount\n    list {\n      identities {\n        openid\n        userIdInIdp\n        userId\n        connectionId\n        isSocial\n        provider\n        type\n        userPoolId\n        extIdpId\n      }\n      id\n      arn\n      userPoolId\n      status\n      username\n      email\n      emailVerified\n      phone\n      phoneVerified\n      unionid\n      openid\n      nickname\n      registerSource\n      photo\n      password\n      oauth\n      token\n      tokenExpiredAt\n      loginsCount\n      lastLogin\n      lastIP\n      signedUp\n      blocked\n      isDeleted\n      device\n      browser\n      company\n      name\n      givenName\n      familyName\n      middleName\n      profile\n      preferredUsername\n      website\n      gender\n      birthdate\n      zoneinfo\n      locale\n      address\n      formatted\n      streetAddress\n      locality\n      region\n      postalCode\n      city\n      province\n      country\n      createdAt\n      updatedAt\n      externalId\n      phoneCountryCode\n    }\n  }\n}\n    ";
var UsersWithCustomDataDocument = "\n    query usersWithCustomData($page: Int, $limit: Int, $sortBy: SortByEnum, $excludeUsersInOrg: Boolean) {\n  users(page: $page, limit: $limit, sortBy: $sortBy, excludeUsersInOrg: $excludeUsersInOrg) {\n    totalCount\n    list {\n      id\n      identities {\n        openid\n        userIdInIdp\n        userId\n        connectionId\n        isSocial\n        provider\n        type\n        userPoolId\n        extIdpId\n      }\n      arn\n      userPoolId\n      status\n      username\n      email\n      emailVerified\n      phone\n      phoneVerified\n      unionid\n      openid\n      nickname\n      registerSource\n      photo\n      password\n      oauth\n      token\n      tokenExpiredAt\n      loginsCount\n      lastLogin\n      lastIP\n      signedUp\n      blocked\n      isDeleted\n      device\n      browser\n      company\n      name\n      givenName\n      familyName\n      middleName\n      profile\n      preferredUsername\n      website\n      gender\n      birthdate\n      zoneinfo\n      locale\n      address\n      formatted\n      streetAddress\n      locality\n      region\n      postalCode\n      city\n      province\n      country\n      createdAt\n      updatedAt\n      externalId\n      phoneCountryCode\n      customData {\n        key\n        value\n        dataType\n        label\n      }\n    }\n  }\n}\n    ";
var WhitelistDocument = "\n    query whitelist($type: WhitelistType!) {\n  whitelist(type: $type) {\n    createdAt\n    updatedAt\n    value\n  }\n}\n    ";

// node_modules/authing-js-sdk/build/module/lib/utils.js
var import_crypto_js = __toESM(require_crypto_js());

// node_modules/@fingerprintjs/fingerprintjs/dist/fp.esm.js
var version = "3.4.2";
function wait(durationMs, resolveWith) {
  return new Promise(function(resolve) {
    return setTimeout(resolve, durationMs, resolveWith);
  });
}
function requestIdleCallbackIfAvailable(fallbackTimeout, deadlineTimeout) {
  if (deadlineTimeout === void 0) {
    deadlineTimeout = Infinity;
  }
  var requestIdleCallback = window.requestIdleCallback;
  if (requestIdleCallback) {
    return new Promise(function(resolve) {
      return requestIdleCallback.call(window, function() {
        return resolve();
      }, { timeout: deadlineTimeout });
    });
  } else {
    return wait(Math.min(fallbackTimeout, deadlineTimeout));
  }
}
function isPromise(value) {
  return !!value && typeof value.then === "function";
}
function awaitIfAsync(action, callback) {
  try {
    var returnedValue = action();
    if (isPromise(returnedValue)) {
      returnedValue.then(function(result) {
        return callback(true, result);
      }, function(error) {
        return callback(false, error);
      });
    } else {
      callback(true, returnedValue);
    }
  } catch (error) {
    callback(false, error);
  }
}
function mapWithBreaks(items, callback, loopReleaseInterval) {
  if (loopReleaseInterval === void 0) {
    loopReleaseInterval = 16;
  }
  return __awaiter(this, void 0, void 0, function() {
    var results, lastLoopReleaseTime, i, now;
    return __generator(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          results = Array(items.length);
          lastLoopReleaseTime = Date.now();
          i = 0;
          _a3.label = 1;
        case 1:
          if (!(i < items.length)) return [3, 4];
          results[i] = callback(items[i], i);
          now = Date.now();
          if (!(now >= lastLoopReleaseTime + loopReleaseInterval)) return [3, 3];
          lastLoopReleaseTime = now;
          return [4, wait(0)];
        case 2:
          _a3.sent();
          _a3.label = 3;
        case 3:
          ++i;
          return [3, 1];
        case 4:
          return [2, results];
      }
    });
  });
}
function suppressUnhandledRejectionWarning(promise) {
  promise.then(void 0, function() {
    return void 0;
  });
}
function x64Add(m, n3) {
  m = [m[0] >>> 16, m[0] & 65535, m[1] >>> 16, m[1] & 65535];
  n3 = [n3[0] >>> 16, n3[0] & 65535, n3[1] >>> 16, n3[1] & 65535];
  var o = [0, 0, 0, 0];
  o[3] += m[3] + n3[3];
  o[2] += o[3] >>> 16;
  o[3] &= 65535;
  o[2] += m[2] + n3[2];
  o[1] += o[2] >>> 16;
  o[2] &= 65535;
  o[1] += m[1] + n3[1];
  o[0] += o[1] >>> 16;
  o[1] &= 65535;
  o[0] += m[0] + n3[0];
  o[0] &= 65535;
  return [o[0] << 16 | o[1], o[2] << 16 | o[3]];
}
function x64Multiply(m, n3) {
  m = [m[0] >>> 16, m[0] & 65535, m[1] >>> 16, m[1] & 65535];
  n3 = [n3[0] >>> 16, n3[0] & 65535, n3[1] >>> 16, n3[1] & 65535];
  var o = [0, 0, 0, 0];
  o[3] += m[3] * n3[3];
  o[2] += o[3] >>> 16;
  o[3] &= 65535;
  o[2] += m[2] * n3[3];
  o[1] += o[2] >>> 16;
  o[2] &= 65535;
  o[2] += m[3] * n3[2];
  o[1] += o[2] >>> 16;
  o[2] &= 65535;
  o[1] += m[1] * n3[3];
  o[0] += o[1] >>> 16;
  o[1] &= 65535;
  o[1] += m[2] * n3[2];
  o[0] += o[1] >>> 16;
  o[1] &= 65535;
  o[1] += m[3] * n3[1];
  o[0] += o[1] >>> 16;
  o[1] &= 65535;
  o[0] += m[0] * n3[3] + m[1] * n3[2] + m[2] * n3[1] + m[3] * n3[0];
  o[0] &= 65535;
  return [o[0] << 16 | o[1], o[2] << 16 | o[3]];
}
function x64Rotl(m, n3) {
  n3 %= 64;
  if (n3 === 32) {
    return [m[1], m[0]];
  } else if (n3 < 32) {
    return [m[0] << n3 | m[1] >>> 32 - n3, m[1] << n3 | m[0] >>> 32 - n3];
  } else {
    n3 -= 32;
    return [m[1] << n3 | m[0] >>> 32 - n3, m[0] << n3 | m[1] >>> 32 - n3];
  }
}
function x64LeftShift(m, n3) {
  n3 %= 64;
  if (n3 === 0) {
    return m;
  } else if (n3 < 32) {
    return [m[0] << n3 | m[1] >>> 32 - n3, m[1] << n3];
  } else {
    return [m[1] << n3 - 32, 0];
  }
}
function x64Xor(m, n3) {
  return [m[0] ^ n3[0], m[1] ^ n3[1]];
}
function x64Fmix(h) {
  h = x64Xor(h, [0, h[0] >>> 1]);
  h = x64Multiply(h, [4283543511, 3981806797]);
  h = x64Xor(h, [0, h[0] >>> 1]);
  h = x64Multiply(h, [3301882366, 444984403]);
  h = x64Xor(h, [0, h[0] >>> 1]);
  return h;
}
function x64hash128(key, seed) {
  key = key || "";
  seed = seed || 0;
  var remainder = key.length % 16;
  var bytes = key.length - remainder;
  var h1 = [0, seed];
  var h2 = [0, seed];
  var k1 = [0, 0];
  var k2 = [0, 0];
  var c1 = [2277735313, 289559509];
  var c2 = [1291169091, 658871167];
  var i;
  for (i = 0; i < bytes; i = i + 16) {
    k1 = [
      key.charCodeAt(i + 4) & 255 | (key.charCodeAt(i + 5) & 255) << 8 | (key.charCodeAt(i + 6) & 255) << 16 | (key.charCodeAt(i + 7) & 255) << 24,
      key.charCodeAt(i) & 255 | (key.charCodeAt(i + 1) & 255) << 8 | (key.charCodeAt(i + 2) & 255) << 16 | (key.charCodeAt(i + 3) & 255) << 24
    ];
    k2 = [
      key.charCodeAt(i + 12) & 255 | (key.charCodeAt(i + 13) & 255) << 8 | (key.charCodeAt(i + 14) & 255) << 16 | (key.charCodeAt(i + 15) & 255) << 24,
      key.charCodeAt(i + 8) & 255 | (key.charCodeAt(i + 9) & 255) << 8 | (key.charCodeAt(i + 10) & 255) << 16 | (key.charCodeAt(i + 11) & 255) << 24
    ];
    k1 = x64Multiply(k1, c1);
    k1 = x64Rotl(k1, 31);
    k1 = x64Multiply(k1, c2);
    h1 = x64Xor(h1, k1);
    h1 = x64Rotl(h1, 27);
    h1 = x64Add(h1, h2);
    h1 = x64Add(x64Multiply(h1, [0, 5]), [0, 1390208809]);
    k2 = x64Multiply(k2, c2);
    k2 = x64Rotl(k2, 33);
    k2 = x64Multiply(k2, c1);
    h2 = x64Xor(h2, k2);
    h2 = x64Rotl(h2, 31);
    h2 = x64Add(h2, h1);
    h2 = x64Add(x64Multiply(h2, [0, 5]), [0, 944331445]);
  }
  k1 = [0, 0];
  k2 = [0, 0];
  switch (remainder) {
    case 15:
      k2 = x64Xor(k2, x64LeftShift([0, key.charCodeAt(i + 14)], 48));
    // fallthrough
    case 14:
      k2 = x64Xor(k2, x64LeftShift([0, key.charCodeAt(i + 13)], 40));
    // fallthrough
    case 13:
      k2 = x64Xor(k2, x64LeftShift([0, key.charCodeAt(i + 12)], 32));
    // fallthrough
    case 12:
      k2 = x64Xor(k2, x64LeftShift([0, key.charCodeAt(i + 11)], 24));
    // fallthrough
    case 11:
      k2 = x64Xor(k2, x64LeftShift([0, key.charCodeAt(i + 10)], 16));
    // fallthrough
    case 10:
      k2 = x64Xor(k2, x64LeftShift([0, key.charCodeAt(i + 9)], 8));
    // fallthrough
    case 9:
      k2 = x64Xor(k2, [0, key.charCodeAt(i + 8)]);
      k2 = x64Multiply(k2, c2);
      k2 = x64Rotl(k2, 33);
      k2 = x64Multiply(k2, c1);
      h2 = x64Xor(h2, k2);
    // fallthrough
    case 8:
      k1 = x64Xor(k1, x64LeftShift([0, key.charCodeAt(i + 7)], 56));
    // fallthrough
    case 7:
      k1 = x64Xor(k1, x64LeftShift([0, key.charCodeAt(i + 6)], 48));
    // fallthrough
    case 6:
      k1 = x64Xor(k1, x64LeftShift([0, key.charCodeAt(i + 5)], 40));
    // fallthrough
    case 5:
      k1 = x64Xor(k1, x64LeftShift([0, key.charCodeAt(i + 4)], 32));
    // fallthrough
    case 4:
      k1 = x64Xor(k1, x64LeftShift([0, key.charCodeAt(i + 3)], 24));
    // fallthrough
    case 3:
      k1 = x64Xor(k1, x64LeftShift([0, key.charCodeAt(i + 2)], 16));
    // fallthrough
    case 2:
      k1 = x64Xor(k1, x64LeftShift([0, key.charCodeAt(i + 1)], 8));
    // fallthrough
    case 1:
      k1 = x64Xor(k1, [0, key.charCodeAt(i)]);
      k1 = x64Multiply(k1, c1);
      k1 = x64Rotl(k1, 31);
      k1 = x64Multiply(k1, c2);
      h1 = x64Xor(h1, k1);
  }
  h1 = x64Xor(h1, [0, key.length]);
  h2 = x64Xor(h2, [0, key.length]);
  h1 = x64Add(h1, h2);
  h2 = x64Add(h2, h1);
  h1 = x64Fmix(h1);
  h2 = x64Fmix(h2);
  h1 = x64Add(h1, h2);
  h2 = x64Add(h2, h1);
  return ("00000000" + (h1[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (h1[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (h2[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (h2[1] >>> 0).toString(16)).slice(-8);
}
function errorToObject(error) {
  var _a3;
  return __assign({ name: error.name, message: error.message, stack: (_a3 = error.stack) === null || _a3 === void 0 ? void 0 : _a3.split("\n") }, error);
}
function includes(haystack, needle) {
  for (var i = 0, l = haystack.length; i < l; ++i) {
    if (haystack[i] === needle) {
      return true;
    }
  }
  return false;
}
function excludes(haystack, needle) {
  return !includes(haystack, needle);
}
function toInt(value) {
  return parseInt(value);
}
function toFloat(value) {
  return parseFloat(value);
}
function replaceNaN(value, replacement) {
  return typeof value === "number" && isNaN(value) ? replacement : value;
}
function countTruthy(values) {
  return values.reduce(function(sum, value) {
    return sum + (value ? 1 : 0);
  }, 0);
}
function round(value, base) {
  if (base === void 0) {
    base = 1;
  }
  if (Math.abs(base) >= 1) {
    return Math.round(value / base) * base;
  } else {
    var counterBase = 1 / base;
    return Math.round(value * counterBase) / counterBase;
  }
}
function parseSimpleCssSelector(selector) {
  var _a3, _b;
  var errorMessage = "Unexpected syntax '".concat(selector, "'");
  var tagMatch = /^\s*([a-z-]*)(.*)$/i.exec(selector);
  var tag = tagMatch[1] || void 0;
  var attributes = {};
  var partsRegex = /([.:#][\w-]+|\[.+?\])/gi;
  var addAttribute = function(name, value) {
    attributes[name] = attributes[name] || [];
    attributes[name].push(value);
  };
  for (; ; ) {
    var match = partsRegex.exec(tagMatch[2]);
    if (!match) {
      break;
    }
    var part = match[0];
    switch (part[0]) {
      case ".":
        addAttribute("class", part.slice(1));
        break;
      case "#":
        addAttribute("id", part.slice(1));
        break;
      case "[": {
        var attributeMatch = /^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(part);
        if (attributeMatch) {
          addAttribute(attributeMatch[1], (_b = (_a3 = attributeMatch[4]) !== null && _a3 !== void 0 ? _a3 : attributeMatch[5]) !== null && _b !== void 0 ? _b : "");
        } else {
          throw new Error(errorMessage);
        }
        break;
      }
      default:
        throw new Error(errorMessage);
    }
  }
  return [tag, attributes];
}
function ensureErrorWithMessage(error) {
  return error && typeof error === "object" && "message" in error ? error : { message: error };
}
function isFinalResultLoaded(loadResult) {
  return typeof loadResult !== "function";
}
function loadSource(source, sourceOptions) {
  var sourceLoadPromise = new Promise(function(resolveLoad) {
    var loadStartTime = Date.now();
    awaitIfAsync(source.bind(null, sourceOptions), function() {
      var loadArgs = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        loadArgs[_i] = arguments[_i];
      }
      var loadDuration = Date.now() - loadStartTime;
      if (!loadArgs[0]) {
        return resolveLoad(function() {
          return { error: ensureErrorWithMessage(loadArgs[1]), duration: loadDuration };
        });
      }
      var loadResult = loadArgs[1];
      if (isFinalResultLoaded(loadResult)) {
        return resolveLoad(function() {
          return { value: loadResult, duration: loadDuration };
        });
      }
      resolveLoad(function() {
        return new Promise(function(resolveGet) {
          var getStartTime = Date.now();
          awaitIfAsync(loadResult, function() {
            var getArgs = [];
            for (var _i2 = 0; _i2 < arguments.length; _i2++) {
              getArgs[_i2] = arguments[_i2];
            }
            var duration = loadDuration + Date.now() - getStartTime;
            if (!getArgs[0]) {
              return resolveGet({ error: ensureErrorWithMessage(getArgs[1]), duration });
            }
            resolveGet({ value: getArgs[1], duration });
          });
        });
      });
    });
  });
  suppressUnhandledRejectionWarning(sourceLoadPromise);
  return function getComponent() {
    return sourceLoadPromise.then(function(finalizeSource) {
      return finalizeSource();
    });
  };
}
function loadSources(sources2, sourceOptions, excludeSources) {
  var includedSources = Object.keys(sources2).filter(function(sourceKey) {
    return excludes(excludeSources, sourceKey);
  });
  var sourceGettersPromise = mapWithBreaks(includedSources, function(sourceKey) {
    return loadSource(sources2[sourceKey], sourceOptions);
  });
  suppressUnhandledRejectionWarning(sourceGettersPromise);
  return function getComponents() {
    return __awaiter(this, void 0, void 0, function() {
      var sourceGetters, componentPromises, componentArray, components, index2;
      return __generator(this, function(_a3) {
        switch (_a3.label) {
          case 0:
            return [4, sourceGettersPromise];
          case 1:
            sourceGetters = _a3.sent();
            return [4, mapWithBreaks(sourceGetters, function(sourceGetter) {
              var componentPromise = sourceGetter();
              suppressUnhandledRejectionWarning(componentPromise);
              return componentPromise;
            })];
          case 2:
            componentPromises = _a3.sent();
            return [
              4,
              Promise.all(componentPromises)
              // Keeping the component keys order the same as the source keys order
            ];
          case 3:
            componentArray = _a3.sent();
            components = {};
            for (index2 = 0; index2 < includedSources.length; ++index2) {
              components[includedSources[index2]] = componentArray[index2];
            }
            return [2, components];
        }
      });
    });
  };
}
function isTrident() {
  var w = window;
  var n3 = navigator;
  return countTruthy([
    "MSCSSMatrix" in w,
    "msSetImmediate" in w,
    "msIndexedDB" in w,
    "msMaxTouchPoints" in n3,
    "msPointerEnabled" in n3
  ]) >= 4;
}
function isEdgeHTML() {
  var w = window;
  var n3 = navigator;
  return countTruthy(["msWriteProfilerMark" in w, "MSStream" in w, "msLaunchUri" in n3, "msSaveBlob" in n3]) >= 3 && !isTrident();
}
function isChromium() {
  var w = window;
  var n3 = navigator;
  return countTruthy([
    "webkitPersistentStorage" in n3,
    "webkitTemporaryStorage" in n3,
    n3.vendor.indexOf("Google") === 0,
    "webkitResolveLocalFileSystemURL" in w,
    "BatteryManager" in w,
    "webkitMediaStream" in w,
    "webkitSpeechGrammar" in w
  ]) >= 5;
}
function isWebKit() {
  var w = window;
  var n3 = navigator;
  return countTruthy([
    "ApplePayError" in w,
    "CSSPrimitiveValue" in w,
    "Counter" in w,
    n3.vendor.indexOf("Apple") === 0,
    "getStorageUpdates" in n3,
    "WebKitMediaKeys" in w
  ]) >= 4;
}
function isDesktopSafari() {
  var w = window;
  return countTruthy([
    "safari" in w,
    !("DeviceMotionEvent" in w),
    !("ongestureend" in w),
    !("standalone" in navigator)
  ]) >= 3;
}
function isGecko() {
  var _a3, _b;
  var w = window;
  return countTruthy([
    "buildID" in navigator,
    "MozAppearance" in ((_b = (_a3 = document.documentElement) === null || _a3 === void 0 ? void 0 : _a3.style) !== null && _b !== void 0 ? _b : {}),
    "onmozfullscreenchange" in w,
    "mozInnerScreenX" in w,
    "CSSMozDocumentRule" in w,
    "CanvasCaptureMediaStream" in w
  ]) >= 4;
}
function isChromium86OrNewer() {
  var w = window;
  return countTruthy([
    !("MediaSettingsRange" in w),
    "RTCEncodedAudioFrame" in w,
    "" + w.Intl === "[object Intl]",
    "" + w.Reflect === "[object Reflect]"
  ]) >= 3;
}
function isWebKit606OrNewer() {
  var w = window;
  return countTruthy([
    "DOMRectList" in w,
    "RTCPeerConnectionIceEvent" in w,
    "SVGGeometryElement" in w,
    "ontransitioncancel" in w
  ]) >= 3;
}
function isIPad() {
  if (navigator.platform === "iPad") {
    return true;
  }
  var s = screen;
  var screenRatio = s.width / s.height;
  return countTruthy([
    "MediaSource" in window,
    !!Element.prototype.webkitRequestFullscreen,
    // iPhone 4S that runs iOS 9 matches this. But it won't match the criteria above, so it won't be detected as iPad.
    screenRatio > 0.65 && screenRatio < 1.53
  ]) >= 2;
}
function getFullscreenElement() {
  var d = document;
  return d.fullscreenElement || d.msFullscreenElement || d.mozFullScreenElement || d.webkitFullscreenElement || null;
}
function exitFullscreen() {
  var d = document;
  return (d.exitFullscreen || d.msExitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen).call(d);
}
function isAndroid() {
  var isItChromium = isChromium();
  var isItGecko = isGecko();
  if (!isItChromium && !isItGecko) {
    return false;
  }
  var w = window;
  return countTruthy([
    "onorientationchange" in w,
    "orientation" in w,
    isItChromium && !("SharedWorker" in w),
    isItGecko && /android/i.test(navigator.appVersion)
  ]) >= 2;
}
function getAudioFingerprint() {
  var w = window;
  var AudioContext = w.OfflineAudioContext || w.webkitOfflineAudioContext;
  if (!AudioContext) {
    return -2;
  }
  if (doesCurrentBrowserSuspendAudioContext()) {
    return -1;
  }
  var hashFromIndex = 4500;
  var hashToIndex = 5e3;
  var context = new AudioContext(1, hashToIndex, 44100);
  var oscillator = context.createOscillator();
  oscillator.type = "triangle";
  oscillator.frequency.value = 1e4;
  var compressor = context.createDynamicsCompressor();
  compressor.threshold.value = -50;
  compressor.knee.value = 40;
  compressor.ratio.value = 12;
  compressor.attack.value = 0;
  compressor.release.value = 0.25;
  oscillator.connect(compressor);
  compressor.connect(context.destination);
  oscillator.start(0);
  var _a3 = startRenderingAudio(context), renderPromise = _a3[0], finishRendering = _a3[1];
  var fingerprintPromise = renderPromise.then(function(buffer) {
    return getHash(buffer.getChannelData(0).subarray(hashFromIndex));
  }, function(error) {
    if (error.name === "timeout" || error.name === "suspended") {
      return -3;
    }
    throw error;
  });
  suppressUnhandledRejectionWarning(fingerprintPromise);
  return function() {
    finishRendering();
    return fingerprintPromise;
  };
}
function doesCurrentBrowserSuspendAudioContext() {
  return isWebKit() && !isDesktopSafari() && !isWebKit606OrNewer();
}
function startRenderingAudio(context) {
  var renderTryMaxCount = 3;
  var renderRetryDelay = 500;
  var runningMaxAwaitTime = 500;
  var runningSufficientTime = 5e3;
  var finalize = function() {
    return void 0;
  };
  var resultPromise = new Promise(function(resolve, reject) {
    var isFinalized = false;
    var renderTryCount = 0;
    var startedRunningAt = 0;
    context.oncomplete = function(event) {
      return resolve(event.renderedBuffer);
    };
    var startRunningTimeout = function() {
      setTimeout(function() {
        return reject(makeInnerError(
          "timeout"
          /* InnerErrorName.Timeout */
        ));
      }, Math.min(runningMaxAwaitTime, startedRunningAt + runningSufficientTime - Date.now()));
    };
    var tryRender = function() {
      try {
        var renderingPromise = context.startRendering();
        if (isPromise(renderingPromise)) {
          suppressUnhandledRejectionWarning(renderingPromise);
        }
        switch (context.state) {
          case "running":
            startedRunningAt = Date.now();
            if (isFinalized) {
              startRunningTimeout();
            }
            break;
          // Sometimes the audio context doesn't start after calling `startRendering` (in addition to the cases where
          // audio context doesn't start at all). A known case is starting an audio context when the browser tab is in
          // background on iPhone. Retries usually help in this case.
          case "suspended":
            if (!document.hidden) {
              renderTryCount++;
            }
            if (isFinalized && renderTryCount >= renderTryMaxCount) {
              reject(makeInnerError(
                "suspended"
                /* InnerErrorName.Suspended */
              ));
            } else {
              setTimeout(tryRender, renderRetryDelay);
            }
            break;
        }
      } catch (error) {
        reject(error);
      }
    };
    tryRender();
    finalize = function() {
      if (!isFinalized) {
        isFinalized = true;
        if (startedRunningAt > 0) {
          startRunningTimeout();
        }
      }
    };
  });
  return [resultPromise, finalize];
}
function getHash(signal) {
  var hash = 0;
  for (var i = 0; i < signal.length; ++i) {
    hash += Math.abs(signal[i]);
  }
  return hash;
}
function makeInnerError(name) {
  var error = new Error(name);
  error.name = name;
  return error;
}
function withIframe(action, initialHtml, domPollInterval) {
  var _a3, _b, _c;
  if (domPollInterval === void 0) {
    domPollInterval = 50;
  }
  return __awaiter(this, void 0, void 0, function() {
    var d, iframe;
    return __generator(this, function(_d) {
      switch (_d.label) {
        case 0:
          d = document;
          _d.label = 1;
        case 1:
          if (!!d.body) return [3, 3];
          return [4, wait(domPollInterval)];
        case 2:
          _d.sent();
          return [3, 1];
        case 3:
          iframe = d.createElement("iframe");
          _d.label = 4;
        case 4:
          _d.trys.push([4, , 10, 11]);
          return [4, new Promise(function(_resolve, _reject) {
            var isComplete = false;
            var resolve = function() {
              isComplete = true;
              _resolve();
            };
            var reject = function(error) {
              isComplete = true;
              _reject(error);
            };
            iframe.onload = resolve;
            iframe.onerror = reject;
            var style = iframe.style;
            style.setProperty("display", "block", "important");
            style.position = "absolute";
            style.top = "0";
            style.left = "0";
            style.visibility = "hidden";
            if (initialHtml && "srcdoc" in iframe) {
              iframe.srcdoc = initialHtml;
            } else {
              iframe.src = "about:blank";
            }
            d.body.appendChild(iframe);
            var checkReadyState = function() {
              var _a4, _b2;
              if (isComplete) {
                return;
              }
              if (((_b2 = (_a4 = iframe.contentWindow) === null || _a4 === void 0 ? void 0 : _a4.document) === null || _b2 === void 0 ? void 0 : _b2.readyState) === "complete") {
                resolve();
              } else {
                setTimeout(checkReadyState, 10);
              }
            };
            checkReadyState();
          })];
        case 5:
          _d.sent();
          _d.label = 6;
        case 6:
          if (!!((_b = (_a3 = iframe.contentWindow) === null || _a3 === void 0 ? void 0 : _a3.document) === null || _b === void 0 ? void 0 : _b.body)) return [3, 8];
          return [4, wait(domPollInterval)];
        case 7:
          _d.sent();
          return [3, 6];
        case 8:
          return [4, action(iframe, iframe.contentWindow)];
        case 9:
          return [2, _d.sent()];
        case 10:
          (_c = iframe.parentNode) === null || _c === void 0 ? void 0 : _c.removeChild(iframe);
          return [
            7
            /*endfinally*/
          ];
        case 11:
          return [
            2
            /*return*/
          ];
      }
    });
  });
}
function selectorToElement(selector) {
  var _a3 = parseSimpleCssSelector(selector), tag = _a3[0], attributes = _a3[1];
  var element = document.createElement(tag !== null && tag !== void 0 ? tag : "div");
  for (var _i = 0, _b = Object.keys(attributes); _i < _b.length; _i++) {
    var name_1 = _b[_i];
    var value = attributes[name_1].join(" ");
    if (name_1 === "style") {
      addStyleString(element.style, value);
    } else {
      element.setAttribute(name_1, value);
    }
  }
  return element;
}
function addStyleString(style, source) {
  for (var _i = 0, _a3 = source.split(";"); _i < _a3.length; _i++) {
    var property = _a3[_i];
    var match = /^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(property);
    if (match) {
      var name_2 = match[1], value = match[2], priority = match[4];
      style.setProperty(name_2, value, priority || "");
    }
  }
}
var testString = "mmMwWLliI0O&1";
var textSize = "48px";
var baseFonts = ["monospace", "sans-serif", "serif"];
var fontList = [
  // This is android-specific font from "Roboto" family
  "sans-serif-thin",
  "ARNO PRO",
  "Agency FB",
  "Arabic Typesetting",
  "Arial Unicode MS",
  "AvantGarde Bk BT",
  "BankGothic Md BT",
  "Batang",
  "Bitstream Vera Sans Mono",
  "Calibri",
  "Century",
  "Century Gothic",
  "Clarendon",
  "EUROSTILE",
  "Franklin Gothic",
  "Futura Bk BT",
  "Futura Md BT",
  "GOTHAM",
  "Gill Sans",
  "HELV",
  "Haettenschweiler",
  "Helvetica Neue",
  "Humanst521 BT",
  "Leelawadee",
  "Letter Gothic",
  "Levenim MT",
  "Lucida Bright",
  "Lucida Sans",
  "Menlo",
  "MS Mincho",
  "MS Outlook",
  "MS Reference Specialty",
  "MS UI Gothic",
  "MT Extra",
  "MYRIAD PRO",
  "Marlett",
  "Meiryo UI",
  "Microsoft Uighur",
  "Minion Pro",
  "Monotype Corsiva",
  "PMingLiU",
  "Pristina",
  "SCRIPTINA",
  "Segoe UI Light",
  "Serifa",
  "SimHei",
  "Small Fonts",
  "Staccato222 BT",
  "TRAJAN PRO",
  "Univers CE 55 Medium",
  "Vrinda",
  "ZWAdobeF"
];
function getFonts() {
  return withIframe(function(_, _a3) {
    var document2 = _a3.document;
    var holder = document2.body;
    holder.style.fontSize = textSize;
    var spansContainer = document2.createElement("div");
    var defaultWidth = {};
    var defaultHeight = {};
    var createSpan = function(fontFamily) {
      var span = document2.createElement("span");
      var style = span.style;
      style.position = "absolute";
      style.top = "0";
      style.left = "0";
      style.fontFamily = fontFamily;
      span.textContent = testString;
      spansContainer.appendChild(span);
      return span;
    };
    var createSpanWithFonts = function(fontToDetect, baseFont) {
      return createSpan("'".concat(fontToDetect, "',").concat(baseFont));
    };
    var initializeBaseFontsSpans = function() {
      return baseFonts.map(createSpan);
    };
    var initializeFontsSpans = function() {
      var spans = {};
      var _loop_1 = function(font2) {
        spans[font2] = baseFonts.map(function(baseFont) {
          return createSpanWithFonts(font2, baseFont);
        });
      };
      for (var _i = 0, fontList_1 = fontList; _i < fontList_1.length; _i++) {
        var font = fontList_1[_i];
        _loop_1(font);
      }
      return spans;
    };
    var isFontAvailable = function(fontSpans) {
      return baseFonts.some(function(baseFont, baseFontIndex) {
        return fontSpans[baseFontIndex].offsetWidth !== defaultWidth[baseFont] || fontSpans[baseFontIndex].offsetHeight !== defaultHeight[baseFont];
      });
    };
    var baseFontsSpans = initializeBaseFontsSpans();
    var fontsSpans = initializeFontsSpans();
    holder.appendChild(spansContainer);
    for (var index2 = 0; index2 < baseFonts.length; index2++) {
      defaultWidth[baseFonts[index2]] = baseFontsSpans[index2].offsetWidth;
      defaultHeight[baseFonts[index2]] = baseFontsSpans[index2].offsetHeight;
    }
    return fontList.filter(function(font) {
      return isFontAvailable(fontsSpans[font]);
    });
  });
}
function getPlugins() {
  var rawPlugins = navigator.plugins;
  if (!rawPlugins) {
    return void 0;
  }
  var plugins = [];
  for (var i = 0; i < rawPlugins.length; ++i) {
    var plugin = rawPlugins[i];
    if (!plugin) {
      continue;
    }
    var mimeTypes = [];
    for (var j = 0; j < plugin.length; ++j) {
      var mimeType = plugin[j];
      mimeTypes.push({
        type: mimeType.type,
        suffixes: mimeType.suffixes
      });
    }
    plugins.push({
      name: plugin.name,
      description: plugin.description,
      mimeTypes
    });
  }
  return plugins;
}
function getCanvasFingerprint() {
  var winding = false;
  var geometry;
  var text;
  var _a3 = makeCanvasContext(), canvas = _a3[0], context = _a3[1];
  if (!isSupported(canvas, context)) {
    geometry = text = "";
  } else {
    winding = doesSupportWinding(context);
    renderTextImage(canvas, context);
    var textImage1 = canvasToString(canvas);
    var textImage2 = canvasToString(canvas);
    if (textImage1 !== textImage2) {
      geometry = text = "unstable";
    } else {
      text = textImage1;
      renderGeometryImage(canvas, context);
      geometry = canvasToString(canvas);
    }
  }
  return { winding, geometry, text };
}
function makeCanvasContext() {
  var canvas = document.createElement("canvas");
  canvas.width = 1;
  canvas.height = 1;
  return [canvas, canvas.getContext("2d")];
}
function isSupported(canvas, context) {
  return !!(context && canvas.toDataURL);
}
function doesSupportWinding(context) {
  context.rect(0, 0, 10, 10);
  context.rect(2, 2, 6, 6);
  return !context.isPointInPath(5, 5, "evenodd");
}
function renderTextImage(canvas, context) {
  canvas.width = 240;
  canvas.height = 60;
  context.textBaseline = "alphabetic";
  context.fillStyle = "#f60";
  context.fillRect(100, 1, 62, 20);
  context.fillStyle = "#069";
  context.font = '11pt "Times New Roman"';
  var printedText = "Cwm fjordbank gly ".concat(
    String.fromCharCode(55357, 56835)
    /*  */
  );
  context.fillText(printedText, 2, 15);
  context.fillStyle = "rgba(102, 204, 0, 0.2)";
  context.font = "18pt Arial";
  context.fillText(printedText, 4, 45);
}
function renderGeometryImage(canvas, context) {
  canvas.width = 122;
  canvas.height = 110;
  context.globalCompositeOperation = "multiply";
  for (var _i = 0, _a3 = [
    ["#f2f", 40, 40],
    ["#2ff", 80, 40],
    ["#ff2", 60, 80]
  ]; _i < _a3.length; _i++) {
    var _b = _a3[_i], color = _b[0], x = _b[1], y = _b[2];
    context.fillStyle = color;
    context.beginPath();
    context.arc(x, y, 40, 0, Math.PI * 2, true);
    context.closePath();
    context.fill();
  }
  context.fillStyle = "#f9c";
  context.arc(60, 60, 60, 0, Math.PI * 2, true);
  context.arc(60, 60, 20, 0, Math.PI * 2, true);
  context.fill("evenodd");
}
function canvasToString(canvas) {
  return canvas.toDataURL();
}
function getTouchSupport() {
  var n3 = navigator;
  var maxTouchPoints = 0;
  var touchEvent;
  if (n3.maxTouchPoints !== void 0) {
    maxTouchPoints = toInt(n3.maxTouchPoints);
  } else if (n3.msMaxTouchPoints !== void 0) {
    maxTouchPoints = n3.msMaxTouchPoints;
  }
  try {
    document.createEvent("TouchEvent");
    touchEvent = true;
  } catch (_a3) {
    touchEvent = false;
  }
  var touchStart = "ontouchstart" in window;
  return {
    maxTouchPoints,
    touchEvent,
    touchStart
  };
}
function getOsCpu() {
  return navigator.oscpu;
}
function getLanguages() {
  var n3 = navigator;
  var result = [];
  var language = n3.language || n3.userLanguage || n3.browserLanguage || n3.systemLanguage;
  if (language !== void 0) {
    result.push([language]);
  }
  if (Array.isArray(n3.languages)) {
    if (!(isChromium() && isChromium86OrNewer())) {
      result.push(n3.languages);
    }
  } else if (typeof n3.languages === "string") {
    var languages = n3.languages;
    if (languages) {
      result.push(languages.split(","));
    }
  }
  return result;
}
function getColorDepth() {
  return window.screen.colorDepth;
}
function getDeviceMemory() {
  return replaceNaN(toFloat(navigator.deviceMemory), void 0);
}
function getScreenResolution() {
  var s = screen;
  var parseDimension = function(value) {
    return replaceNaN(toInt(value), null);
  };
  var dimensions = [parseDimension(s.width), parseDimension(s.height)];
  dimensions.sort().reverse();
  return dimensions;
}
var screenFrameCheckInterval = 2500;
var roundingPrecision = 10;
var screenFrameBackup;
var screenFrameSizeTimeoutId;
function watchScreenFrame() {
  if (screenFrameSizeTimeoutId !== void 0) {
    return;
  }
  var checkScreenFrame = function() {
    var frameSize = getCurrentScreenFrame();
    if (isFrameSizeNull(frameSize)) {
      screenFrameSizeTimeoutId = setTimeout(checkScreenFrame, screenFrameCheckInterval);
    } else {
      screenFrameBackup = frameSize;
      screenFrameSizeTimeoutId = void 0;
    }
  };
  checkScreenFrame();
}
function getScreenFrame() {
  var _this = this;
  watchScreenFrame();
  return function() {
    return __awaiter(_this, void 0, void 0, function() {
      var frameSize;
      return __generator(this, function(_a3) {
        switch (_a3.label) {
          case 0:
            frameSize = getCurrentScreenFrame();
            if (!isFrameSizeNull(frameSize)) return [3, 2];
            if (screenFrameBackup) {
              return [2, __spreadArray([], screenFrameBackup, true)];
            }
            if (!getFullscreenElement()) return [3, 2];
            return [4, exitFullscreen()];
          case 1:
            _a3.sent();
            frameSize = getCurrentScreenFrame();
            _a3.label = 2;
          case 2:
            if (!isFrameSizeNull(frameSize)) {
              screenFrameBackup = frameSize;
            }
            return [2, frameSize];
        }
      });
    });
  };
}
function getRoundedScreenFrame() {
  var _this = this;
  var screenFrameGetter = getScreenFrame();
  return function() {
    return __awaiter(_this, void 0, void 0, function() {
      var frameSize, processSize;
      return __generator(this, function(_a3) {
        switch (_a3.label) {
          case 0:
            return [4, screenFrameGetter()];
          case 1:
            frameSize = _a3.sent();
            processSize = function(sideSize) {
              return sideSize === null ? null : round(sideSize, roundingPrecision);
            };
            return [2, [processSize(frameSize[0]), processSize(frameSize[1]), processSize(frameSize[2]), processSize(frameSize[3])]];
        }
      });
    });
  };
}
function getCurrentScreenFrame() {
  var s = screen;
  return [
    replaceNaN(toFloat(s.availTop), null),
    replaceNaN(toFloat(s.width) - toFloat(s.availWidth) - replaceNaN(toFloat(s.availLeft), 0), null),
    replaceNaN(toFloat(s.height) - toFloat(s.availHeight) - replaceNaN(toFloat(s.availTop), 0), null),
    replaceNaN(toFloat(s.availLeft), null)
  ];
}
function isFrameSizeNull(frameSize) {
  for (var i = 0; i < 4; ++i) {
    if (frameSize[i]) {
      return false;
    }
  }
  return true;
}
function getHardwareConcurrency() {
  return replaceNaN(toInt(navigator.hardwareConcurrency), void 0);
}
function getTimezone() {
  var _a3;
  var DateTimeFormat = (_a3 = window.Intl) === null || _a3 === void 0 ? void 0 : _a3.DateTimeFormat;
  if (DateTimeFormat) {
    var timezone = new DateTimeFormat().resolvedOptions().timeZone;
    if (timezone) {
      return timezone;
    }
  }
  var offset = -getTimezoneOffset();
  return "UTC".concat(offset >= 0 ? "+" : "").concat(Math.abs(offset));
}
function getTimezoneOffset() {
  var currentYear = (/* @__PURE__ */ new Date()).getFullYear();
  return Math.max(
    // `getTimezoneOffset` returns a number as a string in some unidentified cases
    toFloat(new Date(currentYear, 0, 1).getTimezoneOffset()),
    toFloat(new Date(currentYear, 6, 1).getTimezoneOffset())
  );
}
function getSessionStorage() {
  try {
    return !!window.sessionStorage;
  } catch (error) {
    return true;
  }
}
function getLocalStorage() {
  try {
    return !!window.localStorage;
  } catch (e) {
    return true;
  }
}
function getIndexedDB() {
  if (isTrident() || isEdgeHTML()) {
    return void 0;
  }
  try {
    return !!window.indexedDB;
  } catch (e) {
    return true;
  }
}
function getOpenDatabase() {
  return !!window.openDatabase;
}
function getCpuClass() {
  return navigator.cpuClass;
}
function getPlatform() {
  var platform = navigator.platform;
  if (platform === "MacIntel") {
    if (isWebKit() && !isDesktopSafari()) {
      return isIPad() ? "iPad" : "iPhone";
    }
  }
  return platform;
}
function getVendor() {
  return navigator.vendor || "";
}
function getVendorFlavors() {
  var flavors = [];
  for (var _i = 0, _a3 = [
    // Blink and some browsers on iOS
    "chrome",
    // Safari on macOS
    "safari",
    // Chrome on iOS (checked in 85 on 13 and 87 on 14)
    "__crWeb",
    "__gCrWeb",
    // Yandex Browser on iOS, macOS and Android (checked in 21.2 on iOS 14, macOS and Android)
    "yandex",
    // Yandex Browser on iOS (checked in 21.2 on 14)
    "__yb",
    "__ybro",
    // Firefox on iOS (checked in 32 on 14)
    "__firefox__",
    // Edge on iOS (checked in 46 on 14)
    "__edgeTrackingPreventionStatistics",
    "webkit",
    // Opera Touch on iOS (checked in 2.6 on 14)
    "oprt",
    // Samsung Internet on Android (checked in 11.1)
    "samsungAr",
    // UC Browser on Android (checked in 12.10 and 13.0)
    "ucweb",
    "UCShellJava",
    // Puffin on Android (checked in 9.0)
    "puffinDevice"
    // UC on iOS and Opera on Android have no specific global variables
    // Edge for Android isn't checked
  ]; _i < _a3.length; _i++) {
    var key = _a3[_i];
    var value = window[key];
    if (value && typeof value === "object") {
      flavors.push(key);
    }
  }
  return flavors.sort();
}
function areCookiesEnabled() {
  var d = document;
  try {
    d.cookie = "cookietest=1; SameSite=Strict;";
    var result = d.cookie.indexOf("cookietest=") !== -1;
    d.cookie = "cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT";
    return result;
  } catch (e) {
    return false;
  }
}
function getFilters() {
  var fromB64 = atob;
  return {
    abpIndo: [
      "#Iklan-Melayang",
      "#Kolom-Iklan-728",
      "#SidebarIklan-wrapper",
      '[title="ALIENBOLA" i]',
      fromB64("I0JveC1CYW5uZXItYWRz")
    ],
    abpvn: [".quangcao", "#mobileCatfish", fromB64("LmNsb3NlLWFkcw=="), '[id^="bn_bottom_fixed_"]', "#pmadv"],
    adBlockFinland: [
      ".mainostila",
      fromB64("LnNwb25zb3JpdA=="),
      ".ylamainos",
      fromB64("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")
    ],
    adBlockPersian: [
      "#navbar_notice_50",
      ".kadr",
      'TABLE[width="140px"]',
      "#divAgahi",
      fromB64("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")
    ],
    adBlockWarningRemoval: [
      "#adblock-honeypot",
      ".adblocker-root",
      ".wp_adblock_detect",
      fromB64("LmhlYWRlci1ibG9ja2VkLWFk"),
      fromB64("I2FkX2Jsb2NrZXI=")
    ],
    adGuardAnnoyances: [
      ".hs-sosyal",
      "#cookieconsentdiv",
      'div[class^="app_gdpr"]',
      ".as-oil",
      '[data-cypress="soft-push-notification-modal"]'
    ],
    adGuardBase: [
      ".BetterJsPopOverlay",
      fromB64("I2FkXzMwMFgyNTA="),
      fromB64("I2Jhbm5lcmZsb2F0MjI="),
      fromB64("I2NhbXBhaWduLWJhbm5lcg=="),
      fromB64("I0FkLUNvbnRlbnQ=")
    ],
    adGuardChinese: [
      fromB64("LlppX2FkX2FfSA=="),
      fromB64("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),
      "#widget-quan",
      fromB64("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),
      fromB64("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")
    ],
    adGuardFrench: [
      "#pavePub",
      fromB64("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),
      ".mobile_adhesion",
      ".widgetadv",
      fromB64("LmFkc19iYW4=")
    ],
    adGuardGerman: ['aside[data-portal-id="leaderboard"]'],
    adGuardJapanese: [
      "#kauli_yad_1",
      fromB64("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),
      fromB64("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),
      fromB64("LmFkZ29vZ2xl"),
      fromB64("Ll9faXNib29zdFJldHVybkFk")
    ],
    adGuardMobile: [
      fromB64("YW1wLWF1dG8tYWRz"),
      fromB64("LmFtcF9hZA=="),
      'amp-embed[type="24smi"]',
      "#mgid_iframe1",
      fromB64("I2FkX2ludmlld19hcmVh")
    ],
    adGuardRussian: [
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),
      fromB64("LnJlY2xhbWE="),
      'div[id^="smi2adblock"]',
      fromB64("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),
      "#psyduckpockeball"
    ],
    adGuardSocial: [
      fromB64("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),
      fromB64("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),
      ".etsy-tweet",
      "#inlineShare",
      ".popup-social"
    ],
    adGuardSpanishPortuguese: ["#barraPublicidade", "#Publicidade", "#publiEspecial", "#queTooltip", ".cnt-publi"],
    adGuardTrackingProtection: [
      "#qoo-counter",
      fromB64("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),
      fromB64("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),
      fromB64("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),
      "#top100counter"
    ],
    adGuardTurkish: [
      "#backkapat",
      fromB64("I3Jla2xhbWk="),
      fromB64("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),
      fromB64("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),
      fromB64("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")
    ],
    bulgarian: [fromB64("dGQjZnJlZW5ldF90YWJsZV9hZHM="), "#ea_intext_div", ".lapni-pop-over", "#xenium_hot_offers"],
    easyList: [
      ".yb-floorad",
      fromB64("LndpZGdldF9wb19hZHNfd2lkZ2V0"),
      fromB64("LnRyYWZmaWNqdW5reS1hZA=="),
      ".textad_headline",
      fromB64("LnNwb25zb3JlZC10ZXh0LWxpbmtz")
    ],
    easyListChina: [
      fromB64("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),
      fromB64("LmZyb250cGFnZUFkdk0="),
      "#taotaole",
      "#aafoot.top_box",
      ".cfa_popup"
    ],
    easyListCookie: [
      ".ezmob-footer",
      ".cc-CookieWarning",
      "[data-cookie-number]",
      fromB64("LmF3LWNvb2tpZS1iYW5uZXI="),
      ".sygnal24-gdpr-modal-wrap"
    ],
    easyListCzechSlovak: [
      "#onlajny-stickers",
      fromB64("I3Jla2xhbW5pLWJveA=="),
      fromB64("LnJla2xhbWEtbWVnYWJvYXJk"),
      ".sklik",
      fromB64("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")
    ],
    easyListDutch: [
      fromB64("I2FkdmVydGVudGll"),
      fromB64("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),
      ".adstekst",
      fromB64("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),
      "#semilo-lrectangle"
    ],
    easyListGermany: [
      "#SSpotIMPopSlider",
      fromB64("LnNwb25zb3JsaW5rZ3J1ZW4="),
      fromB64("I3dlcmJ1bmdza3k="),
      fromB64("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")
    ],
    easyListItaly: [
      fromB64("LmJveF9hZHZfYW5udW5jaQ=="),
      ".sb-box-pubbliredazionale",
      fromB64("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")
    ],
    easyListLithuania: [
      fromB64("LnJla2xhbW9zX3RhcnBhcw=="),
      fromB64("LnJla2xhbW9zX251b3JvZG9z"),
      fromB64("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),
      fromB64("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),
      fromB64("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")
    ],
    estonian: [fromB64("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],
    fanboyAnnoyances: ["#ac-lre-player", ".navigate-to-top", "#subscribe_popup", ".newsletter_holder", "#back-top"],
    fanboyAntiFacebook: [".util-bar-module-firefly-visible"],
    fanboyEnhancedTrackers: [
      ".open.pushModal",
      "#issuem-leaky-paywall-articles-zero-remaining-nag",
      "#sovrn_container",
      'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',
      ".BlockNag__Card"
    ],
    fanboySocial: ["#FollowUs", "#meteored_share", "#social_follow", ".article-sharer", ".community__social-desc"],
    frellwitSwedish: [
      fromB64("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),
      fromB64("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),
      "article.category-samarbete",
      fromB64("ZGl2LmhvbGlkQWRz"),
      "ul.adsmodern"
    ],
    greekAdBlock: [
      fromB64("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),
      fromB64("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),
      fromB64("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),
      "DIV.agores300",
      "TABLE.advright"
    ],
    hungarian: [
      "#cemp_doboz",
      ".optimonk-iframe-container",
      fromB64("LmFkX19tYWlu"),
      fromB64("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),
      "#hirdetesek_box"
    ],
    iDontCareAboutCookies: [
      '.alert-info[data-block-track*="CookieNotice"]',
      ".ModuleTemplateCookieIndicator",
      ".o--cookies--container",
      "#cookies-policy-sticky",
      "#stickyCookieBar"
    ],
    icelandicAbp: [fromB64("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],
    latvian: [
      fromB64("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),
      fromB64("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")
    ],
    listKr: [
      fromB64("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),
      fromB64("I2xpdmVyZUFkV3JhcHBlcg=="),
      fromB64("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),
      fromB64("aW5zLmZhc3R2aWV3LWFk"),
      ".revenue_unit_item.dable"
    ],
    listeAr: [
      fromB64("LmdlbWluaUxCMUFk"),
      ".right-and-left-sponsers",
      fromB64("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),
      fromB64("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),
      fromB64("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")
    ],
    listeFr: [
      fromB64("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),
      fromB64("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),
      fromB64("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),
      ".site-pub-interstitiel",
      'div[id^="crt-"][data-criteo-id]'
    ],
    officialPolish: [
      "#ceneo-placeholder-ceneo-12",
      fromB64("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),
      fromB64("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),
      fromB64("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),
      fromB64("ZGl2I3NrYXBpZWNfYWQ=")
    ],
    ro: [
      fromB64("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),
      fromB64("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),
      'a[href^="/url/"]'
    ],
    ruAd: [
      fromB64("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),
      fromB64("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),
      fromB64("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),
      "#pgeldiz",
      ".yandex-rtb-block"
    ],
    thaiAds: [
      "a[href*=macau-uta-popup]",
      fromB64("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),
      fromB64("LmFkczMwMHM="),
      ".bumq",
      ".img-kosana"
    ],
    webAnnoyancesUltralist: [
      "#mod-social-share-2",
      "#social-tools",
      fromB64("LmN0cGwtZnVsbGJhbm5lcg=="),
      ".zergnet-recommend",
      ".yt.btn-link.btn-md.btn"
    ]
  };
}
function getDomBlockers(_a3) {
  var _b = _a3 === void 0 ? {} : _a3, debug = _b.debug;
  return __awaiter(this, void 0, void 0, function() {
    var filters, filterNames, allSelectors, blockedSelectors, activeBlockers;
    var _c;
    return __generator(this, function(_d) {
      switch (_d.label) {
        case 0:
          if (!isApplicable()) {
            return [2, void 0];
          }
          filters = getFilters();
          filterNames = Object.keys(filters);
          allSelectors = (_c = []).concat.apply(_c, filterNames.map(function(filterName) {
            return filters[filterName];
          }));
          return [4, getBlockedSelectors(allSelectors)];
        case 1:
          blockedSelectors = _d.sent();
          if (debug) {
            printDebug(filters, blockedSelectors);
          }
          activeBlockers = filterNames.filter(function(filterName) {
            var selectors = filters[filterName];
            var blockedCount = countTruthy(selectors.map(function(selector) {
              return blockedSelectors[selector];
            }));
            return blockedCount > selectors.length * 0.6;
          });
          activeBlockers.sort();
          return [2, activeBlockers];
      }
    });
  });
}
function isApplicable() {
  return isWebKit() || isAndroid();
}
function getBlockedSelectors(selectors) {
  var _a3;
  return __awaiter(this, void 0, void 0, function() {
    var d, root, elements, blockedSelectors, i, element, holder, i;
    return __generator(this, function(_b) {
      switch (_b.label) {
        case 0:
          d = document;
          root = d.createElement("div");
          elements = new Array(selectors.length);
          blockedSelectors = {};
          forceShow(root);
          for (i = 0; i < selectors.length; ++i) {
            element = selectorToElement(selectors[i]);
            if (element.tagName === "DIALOG") {
              element.show();
            }
            holder = d.createElement("div");
            forceShow(holder);
            holder.appendChild(element);
            root.appendChild(holder);
            elements[i] = element;
          }
          _b.label = 1;
        case 1:
          if (!!d.body) return [3, 3];
          return [4, wait(50)];
        case 2:
          _b.sent();
          return [3, 1];
        case 3:
          d.body.appendChild(root);
          try {
            for (i = 0; i < selectors.length; ++i) {
              if (!elements[i].offsetParent) {
                blockedSelectors[selectors[i]] = true;
              }
            }
          } finally {
            (_a3 = root.parentNode) === null || _a3 === void 0 ? void 0 : _a3.removeChild(root);
          }
          return [2, blockedSelectors];
      }
    });
  });
}
function forceShow(element) {
  element.style.setProperty("display", "block", "important");
}
function printDebug(filters, blockedSelectors) {
  var message = "DOM blockers debug:\n```";
  for (var _i = 0, _a3 = Object.keys(filters); _i < _a3.length; _i++) {
    var filterName = _a3[_i];
    message += "\n".concat(filterName, ":");
    for (var _b = 0, _c = filters[filterName]; _b < _c.length; _b++) {
      var selector = _c[_b];
      message += "\n  ".concat(blockedSelectors[selector] ? "" : "", " ").concat(selector);
    }
  }
  console.log("".concat(message, "\n```"));
}
function getColorGamut() {
  for (var _i = 0, _a3 = ["rec2020", "p3", "srgb"]; _i < _a3.length; _i++) {
    var gamut = _a3[_i];
    if (matchMedia("(color-gamut: ".concat(gamut, ")")).matches) {
      return gamut;
    }
  }
  return void 0;
}
function areColorsInverted() {
  if (doesMatch$4("inverted")) {
    return true;
  }
  if (doesMatch$4("none")) {
    return false;
  }
  return void 0;
}
function doesMatch$4(value) {
  return matchMedia("(inverted-colors: ".concat(value, ")")).matches;
}
function areColorsForced() {
  if (doesMatch$3("active")) {
    return true;
  }
  if (doesMatch$3("none")) {
    return false;
  }
  return void 0;
}
function doesMatch$3(value) {
  return matchMedia("(forced-colors: ".concat(value, ")")).matches;
}
var maxValueToCheck = 100;
function getMonochromeDepth() {
  if (!matchMedia("(min-monochrome: 0)").matches) {
    return void 0;
  }
  for (var i = 0; i <= maxValueToCheck; ++i) {
    if (matchMedia("(max-monochrome: ".concat(i, ")")).matches) {
      return i;
    }
  }
  throw new Error("Too high value");
}
function getContrastPreference() {
  if (doesMatch$2("no-preference")) {
    return 0;
  }
  if (doesMatch$2("high") || doesMatch$2("more")) {
    return 1;
  }
  if (doesMatch$2("low") || doesMatch$2("less")) {
    return -1;
  }
  if (doesMatch$2("forced")) {
    return 10;
  }
  return void 0;
}
function doesMatch$2(value) {
  return matchMedia("(prefers-contrast: ".concat(value, ")")).matches;
}
function isMotionReduced() {
  if (doesMatch$1("reduce")) {
    return true;
  }
  if (doesMatch$1("no-preference")) {
    return false;
  }
  return void 0;
}
function doesMatch$1(value) {
  return matchMedia("(prefers-reduced-motion: ".concat(value, ")")).matches;
}
function isHDR() {
  if (doesMatch("high")) {
    return true;
  }
  if (doesMatch("standard")) {
    return false;
  }
  return void 0;
}
function doesMatch(value) {
  return matchMedia("(dynamic-range: ".concat(value, ")")).matches;
}
var M = Math;
var fallbackFn = function() {
  return 0;
};
function getMathFingerprint() {
  var acos = M.acos || fallbackFn;
  var acosh = M.acosh || fallbackFn;
  var asin = M.asin || fallbackFn;
  var asinh = M.asinh || fallbackFn;
  var atanh = M.atanh || fallbackFn;
  var atan = M.atan || fallbackFn;
  var sin = M.sin || fallbackFn;
  var sinh = M.sinh || fallbackFn;
  var cos = M.cos || fallbackFn;
  var cosh = M.cosh || fallbackFn;
  var tan = M.tan || fallbackFn;
  var tanh = M.tanh || fallbackFn;
  var exp = M.exp || fallbackFn;
  var expm1 = M.expm1 || fallbackFn;
  var log1p = M.log1p || fallbackFn;
  var powPI = function(value) {
    return M.pow(M.PI, value);
  };
  var acoshPf = function(value) {
    return M.log(value + M.sqrt(value * value - 1));
  };
  var asinhPf = function(value) {
    return M.log(value + M.sqrt(value * value + 1));
  };
  var atanhPf = function(value) {
    return M.log((1 + value) / (1 - value)) / 2;
  };
  var sinhPf = function(value) {
    return M.exp(value) - 1 / M.exp(value) / 2;
  };
  var coshPf = function(value) {
    return (M.exp(value) + 1 / M.exp(value)) / 2;
  };
  var expm1Pf = function(value) {
    return M.exp(value) - 1;
  };
  var tanhPf = function(value) {
    return (M.exp(2 * value) - 1) / (M.exp(2 * value) + 1);
  };
  var log1pPf = function(value) {
    return M.log(1 + value);
  };
  return {
    acos: acos(0.12312423423423424),
    acosh: acosh(1e308),
    acoshPf: acoshPf(1e154),
    asin: asin(0.12312423423423424),
    asinh: asinh(1),
    asinhPf: asinhPf(1),
    atanh: atanh(0.5),
    atanhPf: atanhPf(0.5),
    atan: atan(0.5),
    sin: sin(-1e300),
    sinh: sinh(1),
    sinhPf: sinhPf(1),
    cos: cos(10.000000000123),
    cosh: cosh(1),
    coshPf: coshPf(1),
    tan: tan(-1e300),
    tanh: tanh(1),
    tanhPf: tanhPf(1),
    exp: exp(1),
    expm1: expm1(1),
    expm1Pf: expm1Pf(1),
    log1p: log1p(10),
    log1pPf: log1pPf(10),
    powPI: powPI(-100)
  };
}
var defaultText = "mmMwWLliI0fiflO&1";
var presets = {
  /**
   * The default font. User can change it in desktop Chrome, desktop Firefox, IE 11,
   * Android Chrome (but only when the size is  than the default) and Android Firefox.
   */
  default: [],
  /** OS font on macOS. User can change its size and weight. Applies after Safari restart. */
  apple: [{ font: "-apple-system-body" }],
  /** User can change it in desktop Chrome and desktop Firefox. */
  serif: [{ fontFamily: "serif" }],
  /** User can change it in desktop Chrome and desktop Firefox. */
  sans: [{ fontFamily: "sans-serif" }],
  /** User can change it in desktop Chrome and desktop Firefox. */
  mono: [{ fontFamily: "monospace" }],
  /**
   * Check the smallest allowed font size. User can change it in desktop Chrome, desktop Firefox and desktop Safari.
   * The height can be 0 in Chrome on a retina display.
   */
  min: [{ fontSize: "1px" }],
  /** Tells one OS from another in desktop Chrome. */
  system: [{ fontFamily: "system-ui" }]
};
function getFontPreferences() {
  return withNaturalFonts(function(document2, container) {
    var elements = {};
    var sizes = {};
    for (var _i = 0, _a3 = Object.keys(presets); _i < _a3.length; _i++) {
      var key = _a3[_i];
      var _b = presets[key], _c = _b[0], style = _c === void 0 ? {} : _c, _d = _b[1], text = _d === void 0 ? defaultText : _d;
      var element = document2.createElement("span");
      element.textContent = text;
      element.style.whiteSpace = "nowrap";
      for (var _e = 0, _f = Object.keys(style); _e < _f.length; _e++) {
        var name_1 = _f[_e];
        var value = style[name_1];
        if (value !== void 0) {
          element.style[name_1] = value;
        }
      }
      elements[key] = element;
      container.appendChild(document2.createElement("br"));
      container.appendChild(element);
    }
    for (var _g = 0, _h = Object.keys(presets); _g < _h.length; _g++) {
      var key = _h[_g];
      sizes[key] = elements[key].getBoundingClientRect().width;
    }
    return sizes;
  });
}
function withNaturalFonts(action, containerWidthPx) {
  if (containerWidthPx === void 0) {
    containerWidthPx = 4e3;
  }
  return withIframe(function(_, iframeWindow) {
    var iframeDocument = iframeWindow.document;
    var iframeBody = iframeDocument.body;
    var bodyStyle = iframeBody.style;
    bodyStyle.width = "".concat(containerWidthPx, "px");
    bodyStyle.webkitTextSizeAdjust = bodyStyle.textSizeAdjust = "none";
    if (isChromium()) {
      iframeBody.style.zoom = "".concat(1 / iframeWindow.devicePixelRatio);
    } else if (isWebKit()) {
      iframeBody.style.zoom = "reset";
    }
    var linesOfText = iframeDocument.createElement("div");
    linesOfText.textContent = __spreadArray([], Array(containerWidthPx / 20 << 0), true).map(function() {
      return "word";
    }).join(" ");
    iframeBody.appendChild(linesOfText);
    return action(iframeDocument, iframeBody);
  }, '<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');
}
function getVideoCard() {
  var _a3;
  var canvas = document.createElement("canvas");
  var gl = (_a3 = canvas.getContext("webgl")) !== null && _a3 !== void 0 ? _a3 : canvas.getContext("experimental-webgl");
  if (gl && "getExtension" in gl) {
    var debugInfo = gl.getExtension("WEBGL_debug_renderer_info");
    if (debugInfo) {
      return {
        vendor: (gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) || "").toString(),
        renderer: (gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) || "").toString()
      };
    }
  }
  return void 0;
}
function isPdfViewerEnabled() {
  return navigator.pdfViewerEnabled;
}
function getArchitecture() {
  var f = new Float32Array(1);
  var u8 = new Uint8Array(f.buffer);
  f[0] = Infinity;
  f[0] = f[0] - f[0];
  return u8[3];
}
var sources = {
  // READ FIRST:
  // See https://github.com/fingerprintjs/fingerprintjs/blob/master/contributing.md#how-to-make-an-entropy-source
  // to learn how entropy source works and how to make your own.
  // The sources run in this exact order.
  // The asynchronous sources are at the start to run in parallel with other sources.
  fonts: getFonts,
  domBlockers: getDomBlockers,
  fontPreferences: getFontPreferences,
  audio: getAudioFingerprint,
  screenFrame: getRoundedScreenFrame,
  osCpu: getOsCpu,
  languages: getLanguages,
  colorDepth: getColorDepth,
  deviceMemory: getDeviceMemory,
  screenResolution: getScreenResolution,
  hardwareConcurrency: getHardwareConcurrency,
  timezone: getTimezone,
  sessionStorage: getSessionStorage,
  localStorage: getLocalStorage,
  indexedDB: getIndexedDB,
  openDatabase: getOpenDatabase,
  cpuClass: getCpuClass,
  platform: getPlatform,
  plugins: getPlugins,
  canvas: getCanvasFingerprint,
  touchSupport: getTouchSupport,
  vendor: getVendor,
  vendorFlavors: getVendorFlavors,
  cookiesEnabled: areCookiesEnabled,
  colorGamut: getColorGamut,
  invertedColors: areColorsInverted,
  forcedColors: areColorsForced,
  monochrome: getMonochromeDepth,
  contrast: getContrastPreference,
  reducedMotion: isMotionReduced,
  hdr: isHDR,
  math: getMathFingerprint,
  videoCard: getVideoCard,
  pdfViewerEnabled: isPdfViewerEnabled,
  architecture: getArchitecture
};
function loadBuiltinSources(options) {
  return loadSources(sources, options, []);
}
var commentTemplate = "$ if upgrade to Pro: https://fpjs.dev/pro";
function getConfidence(components) {
  var openConfidenceScore = getOpenConfidenceScore(components);
  var proConfidenceScore = deriveProConfidenceScore(openConfidenceScore);
  return { score: openConfidenceScore, comment: commentTemplate.replace(/\$/g, "".concat(proConfidenceScore)) };
}
function getOpenConfidenceScore(components) {
  if (isAndroid()) {
    return 0.4;
  }
  if (isWebKit()) {
    return isDesktopSafari() ? 0.5 : 0.3;
  }
  var platform = components.platform.value || "";
  if (/^Win/.test(platform)) {
    return 0.6;
  }
  if (/^Mac/.test(platform)) {
    return 0.5;
  }
  return 0.7;
}
function deriveProConfidenceScore(openConfidenceScore) {
  return round(0.99 + 0.01 * openConfidenceScore, 1e-4);
}
function componentsToCanonicalString(components) {
  var result = "";
  for (var _i = 0, _a3 = Object.keys(components).sort(); _i < _a3.length; _i++) {
    var componentKey = _a3[_i];
    var component = components[componentKey];
    var value = component.error ? "error" : JSON.stringify(component.value);
    result += "".concat(result ? "|" : "").concat(componentKey.replace(/([:|\\])/g, "\\$1"), ":").concat(value);
  }
  return result;
}
function componentsToDebugString(components) {
  return JSON.stringify(components, function(_key, value) {
    if (value instanceof Error) {
      return errorToObject(value);
    }
    return value;
  }, 2);
}
function hashComponents(components) {
  return x64hash128(componentsToCanonicalString(components));
}
function makeLazyGetResult(components) {
  var visitorIdCache;
  var confidence = getConfidence(components);
  return {
    get visitorId() {
      if (visitorIdCache === void 0) {
        visitorIdCache = hashComponents(this.components);
      }
      return visitorIdCache;
    },
    set visitorId(visitorId) {
      visitorIdCache = visitorId;
    },
    confidence,
    components,
    version
  };
}
function prepareForSources(delayFallback) {
  if (delayFallback === void 0) {
    delayFallback = 50;
  }
  return requestIdleCallbackIfAvailable(delayFallback, delayFallback * 2);
}
function makeAgent(getComponents, debug) {
  var creationTime = Date.now();
  return {
    get: function(options) {
      return __awaiter(this, void 0, void 0, function() {
        var startTime, components, result;
        return __generator(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              startTime = Date.now();
              return [4, getComponents()];
            case 1:
              components = _a3.sent();
              result = makeLazyGetResult(components);
              if (debug || (options === null || options === void 0 ? void 0 : options.debug)) {
                console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(result.version, "\nuserAgent: ").concat(navigator.userAgent, "\ntimeBetweenLoadAndGet: ").concat(startTime - creationTime, "\nvisitorId: ").concat(result.visitorId, "\ncomponents: ").concat(componentsToDebugString(components), "\n```"));
              }
              return [2, result];
          }
        });
      });
    }
  };
}
function monitor() {
  if (window.__fpjs_d_m || Math.random() >= 1e-3) {
    return;
  }
  try {
    var request = new XMLHttpRequest();
    request.open("get", "https://m1.openfpcdn.io/fingerprintjs/v".concat(version, "/npm-monitoring"), true);
    request.send();
  } catch (error) {
    console.error(error);
  }
}
function load(_a3) {
  var _b = _a3 === void 0 ? {} : _a3, delayFallback = _b.delayFallback, debug = _b.debug, _c = _b.monitoring, monitoring = _c === void 0 ? true : _c;
  return __awaiter(this, void 0, void 0, function() {
    var getComponents;
    return __generator(this, function(_d) {
      switch (_d.label) {
        case 0:
          if (monitoring) {
            monitor();
          }
          return [4, prepareForSources(delayFallback)];
        case 1:
          _d.sent();
          getComponents = loadBuiltinSources({ debug });
          return [2, makeAgent(getComponents, debug)];
      }
    });
  });
}
var index = { load, hashComponents, componentsToDebugString };

// node_modules/authing-js-sdk/build/module/lib/jsencrypt/jsencrypt.js
var navigator2 = {
  appName: "Netscape",
  userAgent: "Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"
};
var window2 = {
  ASN1: null,
  Base64: null,
  Hex: null,
  crypto: null,
  href: null
};
var BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz";
function int2char(n3) {
  return BI_RM.charAt(n3);
}
function op_and(x, y) {
  return x & y;
}
function op_or(x, y) {
  return x | y;
}
function op_xor(x, y) {
  return x ^ y;
}
function op_andnot(x, y) {
  return x & ~y;
}
function lbit(x) {
  if (x == 0) {
    return -1;
  }
  var r = 0;
  if ((x & 65535) == 0) {
    x >>= 16;
    r += 16;
  }
  if ((x & 255) == 0) {
    x >>= 8;
    r += 8;
  }
  if ((x & 15) == 0) {
    x >>= 4;
    r += 4;
  }
  if ((x & 3) == 0) {
    x >>= 2;
    r += 2;
  }
  if ((x & 1) == 0) {
    ++r;
  }
  return r;
}
function cbit(x) {
  var r = 0;
  while (x != 0) {
    x &= x - 1;
    ++r;
  }
  return r;
}
var b64map = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
var b64pad = "=";
function hex2b64(h) {
  var i;
  var c;
  var ret = "";
  for (i = 0; i + 3 <= h.length; i += 3) {
    c = parseInt(h.substring(i, i + 3), 16);
    ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);
  }
  if (i + 1 == h.length) {
    c = parseInt(h.substring(i, i + 1), 16);
    ret += b64map.charAt(c << 2);
  } else if (i + 2 == h.length) {
    c = parseInt(h.substring(i, i + 2), 16);
    ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);
  }
  while ((ret.length & 3) > 0) {
    ret += b64pad;
  }
  return ret;
}
function b64tohex(s) {
  var ret = "";
  var i;
  var k = 0;
  var slop = 0;
  for (i = 0; i < s.length; ++i) {
    if (s.charAt(i) == b64pad) {
      break;
    }
    var v = b64map.indexOf(s.charAt(i));
    if (v < 0) {
      continue;
    }
    if (k == 0) {
      ret += int2char(v >> 2);
      slop = v & 3;
      k = 1;
    } else if (k == 1) {
      ret += int2char(slop << 2 | v >> 4);
      slop = v & 15;
      k = 2;
    } else if (k == 2) {
      ret += int2char(slop);
      ret += int2char(v >> 2);
      slop = v & 3;
      k = 3;
    } else {
      ret += int2char(slop << 2 | v >> 4);
      ret += int2char(v & 15);
      k = 0;
    }
  }
  if (k == 1) {
    ret += int2char(slop << 2);
  }
  return ret;
}
var extendStatics = function(d, b) {
  extendStatics = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function(d2, b2) {
    d2.__proto__ = b2;
  } || function(d2, b2) {
    for (var p in b2)
      if (b2.hasOwnProperty(p))
        d2[p] = b2[p];
  };
  return extendStatics(d, b);
};
function __extends(d, b) {
  extendStatics(d, b);
  function __() {
    this.constructor = d;
  }
  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}
var decoder;
var Hex = {
  decode: function(a) {
    var i;
    if (decoder === void 0) {
      var hex = "0123456789ABCDEF";
      var ignore = " \f\n\r	\u2028\u2029";
      decoder = {};
      for (i = 0; i < 16; ++i) {
        decoder[hex.charAt(i)] = i;
      }
      hex = hex.toLowerCase();
      for (i = 10; i < 16; ++i) {
        decoder[hex.charAt(i)] = i;
      }
      for (i = 0; i < ignore.length; ++i) {
        decoder[ignore.charAt(i)] = -1;
      }
    }
    var out = [];
    var bits = 0;
    var char_count = 0;
    for (i = 0; i < a.length; ++i) {
      var c = a.charAt(i);
      if (c == "=") {
        break;
      }
      c = decoder[c];
      if (c == -1) {
        continue;
      }
      if (c === void 0) {
        throw new Error("Illegal character at offset " + i);
      }
      bits |= c;
      if (++char_count >= 2) {
        out[out.length] = bits;
        bits = 0;
        char_count = 0;
      } else {
        bits <<= 4;
      }
    }
    if (char_count) {
      throw new Error("Hex encoding incomplete: 4 bits missing");
    }
    return out;
  }
};
var decoder$1;
var Base64 = {
  decode: function(a) {
    var i;
    if (decoder$1 === void 0) {
      var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
      var ignore = "= \f\n\r	\u2028\u2029";
      decoder$1 = /* @__PURE__ */ Object.create(null);
      for (i = 0; i < 64; ++i) {
        decoder$1[b64.charAt(i)] = i;
      }
      for (i = 0; i < ignore.length; ++i) {
        decoder$1[ignore.charAt(i)] = -1;
      }
    }
    var out = [];
    var bits = 0;
    var char_count = 0;
    for (i = 0; i < a.length; ++i) {
      var c = a.charAt(i);
      if (c == "=") {
        break;
      }
      c = decoder$1[c];
      if (c == -1) {
        continue;
      }
      if (c === void 0) {
        throw new Error("Illegal character at offset " + i);
      }
      bits |= c;
      if (++char_count >= 4) {
        out[out.length] = bits >> 16;
        out[out.length] = bits >> 8 & 255;
        out[out.length] = bits & 255;
        bits = 0;
        char_count = 0;
      } else {
        bits <<= 6;
      }
    }
    switch (char_count) {
      case 1:
        throw new Error("Base64 encoding incomplete: at least 2 bits missing");
      case 2:
        out[out.length] = bits >> 10;
        break;
      case 3:
        out[out.length] = bits >> 16;
        out[out.length] = bits >> 8 & 255;
        break;
    }
    return out;
  },
  re: /-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,
  unarmor: function(a) {
    var m = Base64.re.exec(a);
    if (m) {
      if (m[1]) {
        a = m[1];
      } else if (m[2]) {
        a = m[2];
      } else {
        throw new Error("RegExp out of sync");
      }
    }
    return Base64.decode(a);
  }
};
var max = 1e13;
var Int10 = function() {
  function Int102(value) {
    this.buf = [+value || 0];
  }
  Int102.prototype.mulAdd = function(m, c) {
    var b = this.buf;
    var l = b.length;
    var i;
    var t;
    for (i = 0; i < l; ++i) {
      t = b[i] * m + c;
      if (t < max) {
        c = 0;
      } else {
        c = 0 | t / max;
        t -= c * max;
      }
      b[i] = t;
    }
    if (c > 0) {
      b[i] = c;
    }
  };
  Int102.prototype.sub = function(c) {
    var b = this.buf;
    var l = b.length;
    var i;
    var t;
    for (i = 0; i < l; ++i) {
      t = b[i] - c;
      if (t < 0) {
        t += max;
        c = 1;
      } else {
        c = 0;
      }
      b[i] = t;
    }
    while (b[b.length - 1] === 0) {
      b.pop();
    }
  };
  Int102.prototype.toString = function(base) {
    if ((base || 10) != 10) {
      throw new Error("only base 10 is supported");
    }
    var b = this.buf;
    var s = b[b.length - 1].toString();
    for (var i = b.length - 2; i >= 0; --i) {
      s += (max + b[i]).toString().substring(1);
    }
    return s;
  };
  Int102.prototype.valueOf = function() {
    var b = this.buf;
    var v = 0;
    for (var i = b.length - 1; i >= 0; --i) {
      v = v * max + b[i];
    }
    return v;
  };
  Int102.prototype.simplify = function() {
    var b = this.buf;
    return b.length == 1 ? b[0] : this;
  };
  return Int102;
}();
var ellipsis = "";
var reTimeS = /^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;
var reTimeL = /^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;
function stringCut(str, len) {
  if (str.length > len) {
    str = str.substring(0, len) + ellipsis;
  }
  return str;
}
var Stream = function() {
  function Stream2(enc, pos) {
    this.hexDigits = "0123456789ABCDEF";
    if (enc instanceof Stream2) {
      this.enc = enc.enc;
      this.pos = enc.pos;
    } else {
      this.enc = enc;
      this.pos = pos;
    }
  }
  Stream2.prototype.get = function(pos) {
    if (pos === void 0) {
      pos = this.pos++;
    }
    if (pos >= this.enc.length) {
      throw new Error("Requesting byte offset " + pos + " on a stream of length " + this.enc.length);
    }
    return "string" === typeof this.enc ? this.enc.charCodeAt(pos) : this.enc[pos];
  };
  Stream2.prototype.hexByte = function(b) {
    return this.hexDigits.charAt(b >> 4 & 15) + this.hexDigits.charAt(b & 15);
  };
  Stream2.prototype.hexDump = function(start, end, raw) {
    var s = "";
    for (var i = start; i < end; ++i) {
      s += this.hexByte(this.get(i));
      if (raw !== true) {
        switch (i & 15) {
          case 7:
            s += "  ";
            break;
          case 15:
            s += "\n";
            break;
          default:
            s += " ";
        }
      }
    }
    return s;
  };
  Stream2.prototype.isASCII = function(start, end) {
    for (var i = start; i < end; ++i) {
      var c = this.get(i);
      if (c < 32 || c > 176) {
        return false;
      }
    }
    return true;
  };
  Stream2.prototype.parseStringISO = function(start, end) {
    var s = "";
    for (var i = start; i < end; ++i) {
      s += String.fromCharCode(this.get(i));
    }
    return s;
  };
  Stream2.prototype.parseStringUTF = function(start, end) {
    var s = "";
    for (var i = start; i < end; ) {
      var c = this.get(i++);
      if (c < 128) {
        s += String.fromCharCode(c);
      } else if (c > 191 && c < 224) {
        s += String.fromCharCode((c & 31) << 6 | this.get(i++) & 63);
      } else {
        s += String.fromCharCode((c & 15) << 12 | (this.get(i++) & 63) << 6 | this.get(i++) & 63);
      }
    }
    return s;
  };
  Stream2.prototype.parseStringBMP = function(start, end) {
    var str = "";
    var hi;
    var lo;
    for (var i = start; i < end; ) {
      hi = this.get(i++);
      lo = this.get(i++);
      str += String.fromCharCode(hi << 8 | lo);
    }
    return str;
  };
  Stream2.prototype.parseTime = function(start, end, shortYear) {
    var s = this.parseStringISO(start, end);
    var m = (shortYear ? reTimeS : reTimeL).exec(s);
    if (!m) {
      return "Unrecognized time: " + s;
    }
    if (shortYear) {
      m[1] = +m[1];
      m[1] += +m[1] < 70 ? 2e3 : 1900;
    }
    s = m[1] + "-" + m[2] + "-" + m[3] + " " + m[4];
    if (m[5]) {
      s += ":" + m[5];
      if (m[6]) {
        s += ":" + m[6];
        if (m[7]) {
          s += "." + m[7];
        }
      }
    }
    if (m[8]) {
      s += " UTC";
      if (m[8] != "Z") {
        s += m[8];
        if (m[9]) {
          s += ":" + m[9];
        }
      }
    }
    return s;
  };
  Stream2.prototype.parseInteger = function(start, end) {
    var v = this.get(start);
    var neg = v > 127;
    var pad = neg ? 255 : 0;
    var len;
    var s = "";
    while (v == pad && ++start < end) {
      v = this.get(start);
    }
    len = end - start;
    if (len === 0) {
      return neg ? -1 : 0;
    }
    if (len > 4) {
      s = v;
      len <<= 3;
      while (((+s ^ pad) & 128) == 0) {
        s = +s << 1;
        --len;
      }
      s = "(" + len + " bit)\n";
    }
    if (neg) {
      v = v - 256;
    }
    var n3 = new Int10(v);
    for (var i = start + 1; i < end; ++i) {
      n3.mulAdd(256, this.get(i));
    }
    return s + n3.toString();
  };
  Stream2.prototype.parseBitString = function(start, end, maxLength) {
    var unusedBit = this.get(start);
    var lenBit = (end - start - 1 << 3) - unusedBit;
    var intro = "(" + lenBit + " bit)\n";
    var s = "";
    for (var i = start + 1; i < end; ++i) {
      var b = this.get(i);
      var skip = i == end - 1 ? unusedBit : 0;
      for (var j = 7; j >= skip; --j) {
        s += b >> j & 1 ? "1" : "0";
      }
      if (s.length > maxLength) {
        return intro + stringCut(s, maxLength);
      }
    }
    return intro + s;
  };
  Stream2.prototype.parseOctetString = function(start, end, maxLength) {
    if (this.isASCII(start, end)) {
      return stringCut(this.parseStringISO(start, end), maxLength);
    }
    var len = end - start;
    var s = "(" + len + " byte)\n";
    maxLength /= 2;
    if (len > maxLength) {
      end = start + maxLength;
    }
    for (var i = start; i < end; ++i) {
      s += this.hexByte(this.get(i));
    }
    if (len > maxLength) {
      s += ellipsis;
    }
    return s;
  };
  Stream2.prototype.parseOID = function(start, end, maxLength) {
    var s = "";
    var n3 = new Int10();
    var bits = 0;
    for (var i = start; i < end; ++i) {
      var v = this.get(i);
      n3.mulAdd(128, v & 127);
      bits += 7;
      if (!(v & 128)) {
        if (s === "") {
          n3 = n3.simplify();
          if (n3 instanceof Int10) {
            n3.sub(80);
            s = "2." + n3.toString();
          } else {
            var m = n3 < 80 ? n3 < 40 ? 0 : 1 : 2;
            s = m + "." + (n3 - m * 40);
          }
        } else {
          s += "." + n3.toString();
        }
        if (s.length > maxLength) {
          return stringCut(s, maxLength);
        }
        n3 = new Int10();
        bits = 0;
      }
    }
    if (bits > 0) {
      s += ".incomplete";
    }
    return s;
  };
  return Stream2;
}();
var ASN1 = function() {
  function ASN12(stream, header, length, tag, sub) {
    if (!(tag instanceof ASN1Tag)) {
      throw new Error("Invalid tag value.");
    }
    this.stream = stream;
    this.header = header;
    this.length = length;
    this.tag = tag;
    this.sub = sub;
  }
  ASN12.prototype.typeName = function() {
    switch (this.tag.tagClass) {
      case 0:
        switch (this.tag.tagNumber) {
          case 0:
            return "EOC";
          case 1:
            return "BOOLEAN";
          case 2:
            return "INTEGER";
          case 3:
            return "BIT_STRING";
          case 4:
            return "OCTET_STRING";
          case 5:
            return "NULL";
          case 6:
            return "OBJECT_IDENTIFIER";
          case 7:
            return "ObjectDescriptor";
          case 8:
            return "EXTERNAL";
          case 9:
            return "REAL";
          case 10:
            return "ENUMERATED";
          case 11:
            return "EMBEDDED_PDV";
          case 12:
            return "UTF8String";
          case 16:
            return "SEQUENCE";
          case 17:
            return "SET";
          case 18:
            return "NumericString";
          case 19:
            return "PrintableString";
          case 20:
            return "TeletexString";
          case 21:
            return "VideotexString";
          case 22:
            return "IA5String";
          case 23:
            return "UTCTime";
          case 24:
            return "GeneralizedTime";
          case 25:
            return "GraphicString";
          case 26:
            return "VisibleString";
          case 27:
            return "GeneralString";
          case 28:
            return "UniversalString";
          case 30:
            return "BMPString";
        }
        return "Universal_" + this.tag.tagNumber.toString();
      case 1:
        return "Application_" + this.tag.tagNumber.toString();
      case 2:
        return "[" + this.tag.tagNumber.toString() + "]";
      case 3:
        return "Private_" + this.tag.tagNumber.toString();
    }
  };
  ASN12.prototype.content = function(maxLength) {
    if (this.tag === void 0) {
      return null;
    }
    if (maxLength === void 0) {
      maxLength = Infinity;
    }
    var content = this.posContent();
    var len = Math.abs(this.length);
    if (!this.tag.isUniversal()) {
      if (this.sub !== null) {
        return "(" + this.sub.length + " elem)";
      }
      return this.stream.parseOctetString(content, content + len, maxLength);
    }
    switch (this.tag.tagNumber) {
      case 1:
        return this.stream.get(content) === 0 ? "false" : "true";
      case 2:
        return this.stream.parseInteger(content, content + len);
      case 3:
        return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseBitString(content, content + len, maxLength);
      case 4:
        return this.sub ? "(" + this.sub.length + " elem)" : this.stream.parseOctetString(content, content + len, maxLength);
      case 6:
        return this.stream.parseOID(content, content + len, maxLength);
      case 16:
      case 17:
        if (this.sub !== null) {
          return "(" + this.sub.length + " elem)";
        } else {
          return "(no elem)";
        }
      case 12:
        return stringCut(this.stream.parseStringUTF(content, content + len), maxLength);
      case 18:
      case 19:
      case 20:
      case 21:
      case 22:
      case 26:
        return stringCut(this.stream.parseStringISO(content, content + len), maxLength);
      case 30:
        return stringCut(this.stream.parseStringBMP(content, content + len), maxLength);
      case 23:
      case 24:
        return this.stream.parseTime(content, content + len, this.tag.tagNumber == 23);
    }
    return null;
  };
  ASN12.prototype.toString = function() {
    return this.typeName() + "@" + this.stream.pos + "[header:" + this.header + ",length:" + this.length + ",sub:" + (this.sub === null ? "null" : this.sub.length) + "]";
  };
  ASN12.prototype.toPrettyString = function(indent) {
    if (indent === void 0) {
      indent = "";
    }
    var s = indent + this.typeName() + " @" + this.stream.pos;
    if (this.length >= 0) {
      s += "+";
    }
    s += this.length;
    if (this.tag.tagConstructed) {
      s += " (constructed)";
    } else if (this.tag.isUniversal() && (this.tag.tagNumber == 3 || this.tag.tagNumber == 4) && this.sub !== null) {
      s += " (encapsulates)";
    }
    s += "\n";
    if (this.sub !== null) {
      indent += "  ";
      for (var i = 0, max2 = this.sub.length; i < max2; ++i) {
        s += this.sub[i].toPrettyString(indent);
      }
    }
    return s;
  };
  ASN12.prototype.posStart = function() {
    return this.stream.pos;
  };
  ASN12.prototype.posContent = function() {
    return this.stream.pos + this.header;
  };
  ASN12.prototype.posEnd = function() {
    return this.stream.pos + this.header + Math.abs(this.length);
  };
  ASN12.prototype.toHexString = function() {
    return this.stream.hexDump(this.posStart(), this.posEnd(), true);
  };
  ASN12.decodeLength = function(stream) {
    var buf = stream.get();
    var len = buf & 127;
    if (len == buf) {
      return len;
    }
    if (len > 6) {
      throw new Error("Length over 48 bits not supported at position " + (stream.pos - 1));
    }
    if (len === 0) {
      return null;
    }
    buf = 0;
    for (var i = 0; i < len; ++i) {
      buf = buf * 256 + stream.get();
    }
    return buf;
  };
  ASN12.prototype.getHexStringValue = function() {
    var hexString = this.toHexString();
    var offset = this.header * 2;
    var length = this.length * 2;
    return hexString.substr(offset, length);
  };
  ASN12.decode = function(str) {
    var stream;
    if (!(str instanceof Stream)) {
      stream = new Stream(str, 0);
    } else {
      stream = str;
    }
    var streamStart = new Stream(stream);
    var tag = new ASN1Tag(stream);
    var len = ASN12.decodeLength(stream);
    var start = stream.pos;
    var header = start - streamStart.pos;
    var sub = null;
    var getSub = function() {
      var ret = [];
      if (len !== null) {
        var end = start + len;
        while (stream.pos < end) {
          ret[ret.length] = ASN12.decode(stream);
        }
        if (stream.pos != end) {
          throw new Error("Content size is not correct for container starting at offset " + start);
        }
      } else {
        try {
          for (; ; ) {
            var s = ASN12.decode(stream);
            if (s.tag.isEOC()) {
              break;
            }
            ret[ret.length] = s;
          }
          len = start - stream.pos;
        } catch (e) {
          throw new Error("Exception while decoding undefined length content: " + e);
        }
      }
      return ret;
    };
    if (tag.tagConstructed) {
      sub = getSub();
    } else if (tag.isUniversal() && (tag.tagNumber == 3 || tag.tagNumber == 4)) {
      try {
        if (tag.tagNumber == 3) {
          if (stream.get() != 0) {
            throw new Error("BIT STRINGs with unused bits cannot encapsulate.");
          }
        }
        sub = getSub();
        for (var i = 0; i < sub.length; ++i) {
          if (sub[i].tag.isEOC()) {
            throw new Error("EOC is not supposed to be actual content.");
          }
        }
      } catch (e) {
        sub = null;
      }
    }
    if (sub === null) {
      if (len === null) {
        throw new Error("We can't skip over an invalid tag with undefined length at offset " + start);
      }
      stream.pos = start + Math.abs(len);
    }
    return new ASN12(streamStart, header, len, tag, sub);
  };
  return ASN12;
}();
var ASN1Tag = function() {
  function ASN1Tag2(stream) {
    var buf = stream.get();
    this.tagClass = buf >> 6;
    this.tagConstructed = (buf & 32) !== 0;
    this.tagNumber = buf & 31;
    if (this.tagNumber == 31) {
      var n3 = new Int10();
      do {
        buf = stream.get();
        n3.mulAdd(128, buf & 127);
      } while (buf & 128);
      this.tagNumber = n3.simplify();
    }
  }
  ASN1Tag2.prototype.isUniversal = function() {
    return this.tagClass === 0;
  };
  ASN1Tag2.prototype.isEOC = function() {
    return this.tagClass === 0 && this.tagNumber === 0;
  };
  return ASN1Tag2;
}();
var dbits;
var canary = 244837814094590;
var j_lm = (canary & 16777215) == 15715070;
var lowprimes = [
  2,
  3,
  5,
  7,
  11,
  13,
  17,
  19,
  23,
  29,
  31,
  37,
  41,
  43,
  47,
  53,
  59,
  61,
  67,
  71,
  73,
  79,
  83,
  89,
  97,
  101,
  103,
  107,
  109,
  113,
  127,
  131,
  137,
  139,
  149,
  151,
  157,
  163,
  167,
  173,
  179,
  181,
  191,
  193,
  197,
  199,
  211,
  223,
  227,
  229,
  233,
  239,
  241,
  251,
  257,
  263,
  269,
  271,
  277,
  281,
  283,
  293,
  307,
  311,
  313,
  317,
  331,
  337,
  347,
  349,
  353,
  359,
  367,
  373,
  379,
  383,
  389,
  397,
  401,
  409,
  419,
  421,
  431,
  433,
  439,
  443,
  449,
  457,
  461,
  463,
  467,
  479,
  487,
  491,
  499,
  503,
  509,
  521,
  523,
  541,
  547,
  557,
  563,
  569,
  571,
  577,
  587,
  593,
  599,
  601,
  607,
  613,
  617,
  619,
  631,
  641,
  643,
  647,
  653,
  659,
  661,
  673,
  677,
  683,
  691,
  701,
  709,
  719,
  727,
  733,
  739,
  743,
  751,
  757,
  761,
  769,
  773,
  787,
  797,
  809,
  811,
  821,
  823,
  827,
  829,
  839,
  853,
  857,
  859,
  863,
  877,
  881,
  883,
  887,
  907,
  911,
  919,
  929,
  937,
  941,
  947,
  953,
  967,
  971,
  977,
  983,
  991,
  997
];
var lplim = (1 << 26) / lowprimes[lowprimes.length - 1];
var BigInteger = function() {
  function BigInteger6(a, b, c) {
    if (a != null) {
      if ("number" == typeof a) {
        this.fromNumber(a, b, c);
      } else if (b == null && "string" != typeof a) {
        this.fromString(a, 256);
      } else {
        this.fromString(a, b);
      }
    }
  }
  BigInteger6.prototype.toString = function(b) {
    if (this.s < 0) {
      return "-" + this.negate().toString(b);
    }
    var k;
    if (b == 16) {
      k = 4;
    } else if (b == 8) {
      k = 3;
    } else if (b == 2) {
      k = 1;
    } else if (b == 32) {
      k = 5;
    } else if (b == 4) {
      k = 2;
    } else {
      return this.toRadix(b);
    }
    var km = (1 << k) - 1;
    var d;
    var m = false;
    var r = "";
    var i = this.t;
    var p = this.DB - i * this.DB % k;
    if (i-- > 0) {
      if (p < this.DB && (d = this[i] >> p) > 0) {
        m = true;
        r = int2char(d);
      }
      while (i >= 0) {
        if (p < k) {
          d = (this[i] & (1 << p) - 1) << k - p;
          d |= this[--i] >> (p += this.DB - k);
        } else {
          d = this[i] >> (p -= k) & km;
          if (p <= 0) {
            p += this.DB;
            --i;
          }
        }
        if (d > 0) {
          m = true;
        }
        if (m) {
          r += int2char(d);
        }
      }
    }
    return m ? r : "0";
  };
  BigInteger6.prototype.negate = function() {
    var r = nbi();
    BigInteger6.ZERO.subTo(this, r);
    return r;
  };
  BigInteger6.prototype.abs = function() {
    return this.s < 0 ? this.negate() : this;
  };
  BigInteger6.prototype.compareTo = function(a) {
    var r = this.s - a.s;
    if (r != 0) {
      return r;
    }
    var i = this.t;
    r = i - a.t;
    if (r != 0) {
      return this.s < 0 ? -r : r;
    }
    while (--i >= 0) {
      if ((r = this[i] - a[i]) != 0) {
        return r;
      }
    }
    return 0;
  };
  BigInteger6.prototype.bitLength = function() {
    if (this.t <= 0) {
      return 0;
    }
    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);
  };
  BigInteger6.prototype.mod = function(a) {
    var r = nbi();
    this.abs().divRemTo(a, null, r);
    if (this.s < 0 && r.compareTo(BigInteger6.ZERO) > 0) {
      a.subTo(r, r);
    }
    return r;
  };
  BigInteger6.prototype.modPowInt = function(e, m) {
    var z;
    if (e < 256 || m.isEven()) {
      z = new Classic(m);
    } else {
      z = new Montgomery(m);
    }
    return this.exp(e, z);
  };
  BigInteger6.prototype.clone = function() {
    var r = nbi();
    this.copyTo(r);
    return r;
  };
  BigInteger6.prototype.intValue = function() {
    if (this.s < 0) {
      if (this.t == 1) {
        return this[0] - this.DV;
      } else if (this.t == 0) {
        return -1;
      }
    } else if (this.t == 1) {
      return this[0];
    } else if (this.t == 0) {
      return 0;
    }
    return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
  };
  BigInteger6.prototype.byteValue = function() {
    return this.t == 0 ? this.s : this[0] << 24 >> 24;
  };
  BigInteger6.prototype.shortValue = function() {
    return this.t == 0 ? this.s : this[0] << 16 >> 16;
  };
  BigInteger6.prototype.signum = function() {
    if (this.s < 0) {
      return -1;
    } else if (this.t <= 0 || this.t == 1 && this[0] <= 0) {
      return 0;
    } else {
      return 1;
    }
  };
  BigInteger6.prototype.toByteArray = function() {
    var i = this.t;
    var r = [];
    r[0] = this.s;
    var p = this.DB - i * this.DB % 8;
    var d;
    var k = 0;
    if (i-- > 0) {
      if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p) {
        r[k++] = d | this.s << this.DB - p;
      }
      while (i >= 0) {
        if (p < 8) {
          d = (this[i] & (1 << p) - 1) << 8 - p;
          d |= this[--i] >> (p += this.DB - 8);
        } else {
          d = this[i] >> (p -= 8) & 255;
          if (p <= 0) {
            p += this.DB;
            --i;
          }
        }
        if ((d & 128) != 0) {
          d |= -256;
        }
        if (k == 0 && (this.s & 128) != (d & 128)) {
          ++k;
        }
        if (k > 0 || d != this.s) {
          r[k++] = d;
        }
      }
    }
    return r;
  };
  BigInteger6.prototype.equals = function(a) {
    return this.compareTo(a) == 0;
  };
  BigInteger6.prototype.min = function(a) {
    return this.compareTo(a) < 0 ? this : a;
  };
  BigInteger6.prototype.max = function(a) {
    return this.compareTo(a) > 0 ? this : a;
  };
  BigInteger6.prototype.and = function(a) {
    var r = nbi();
    this.bitwiseTo(a, op_and, r);
    return r;
  };
  BigInteger6.prototype.or = function(a) {
    var r = nbi();
    this.bitwiseTo(a, op_or, r);
    return r;
  };
  BigInteger6.prototype.xor = function(a) {
    var r = nbi();
    this.bitwiseTo(a, op_xor, r);
    return r;
  };
  BigInteger6.prototype.andNot = function(a) {
    var r = nbi();
    this.bitwiseTo(a, op_andnot, r);
    return r;
  };
  BigInteger6.prototype.not = function() {
    var r = nbi();
    for (var i = 0; i < this.t; ++i) {
      r[i] = this.DM & ~this[i];
    }
    r.t = this.t;
    r.s = ~this.s;
    return r;
  };
  BigInteger6.prototype.shiftLeft = function(n3) {
    var r = nbi();
    if (n3 < 0) {
      this.rShiftTo(-n3, r);
    } else {
      this.lShiftTo(n3, r);
    }
    return r;
  };
  BigInteger6.prototype.shiftRight = function(n3) {
    var r = nbi();
    if (n3 < 0) {
      this.lShiftTo(-n3, r);
    } else {
      this.rShiftTo(n3, r);
    }
    return r;
  };
  BigInteger6.prototype.getLowestSetBit = function() {
    for (var i = 0; i < this.t; ++i) {
      if (this[i] != 0) {
        return i * this.DB + lbit(this[i]);
      }
    }
    if (this.s < 0) {
      return this.t * this.DB;
    }
    return -1;
  };
  BigInteger6.prototype.bitCount = function() {
    var r = 0;
    var x = this.s & this.DM;
    for (var i = 0; i < this.t; ++i) {
      r += cbit(this[i] ^ x);
    }
    return r;
  };
  BigInteger6.prototype.testBit = function(n3) {
    var j = Math.floor(n3 / this.DB);
    if (j >= this.t) {
      return this.s != 0;
    }
    return (this[j] & 1 << n3 % this.DB) != 0;
  };
  BigInteger6.prototype.setBit = function(n3) {
    return this.changeBit(n3, op_or);
  };
  BigInteger6.prototype.clearBit = function(n3) {
    return this.changeBit(n3, op_andnot);
  };
  BigInteger6.prototype.flipBit = function(n3) {
    return this.changeBit(n3, op_xor);
  };
  BigInteger6.prototype.add = function(a) {
    var r = nbi();
    this.addTo(a, r);
    return r;
  };
  BigInteger6.prototype.subtract = function(a) {
    var r = nbi();
    this.subTo(a, r);
    return r;
  };
  BigInteger6.prototype.multiply = function(a) {
    var r = nbi();
    this.multiplyTo(a, r);
    return r;
  };
  BigInteger6.prototype.divide = function(a) {
    var r = nbi();
    this.divRemTo(a, r, null);
    return r;
  };
  BigInteger6.prototype.remainder = function(a) {
    var r = nbi();
    this.divRemTo(a, null, r);
    return r;
  };
  BigInteger6.prototype.divideAndRemainder = function(a) {
    var q = nbi();
    var r = nbi();
    this.divRemTo(a, q, r);
    return [q, r];
  };
  BigInteger6.prototype.modPow = function(e, m) {
    var i = e.bitLength();
    var k;
    var r = nbv(1);
    var z;
    if (i <= 0) {
      return r;
    } else if (i < 18) {
      k = 1;
    } else if (i < 48) {
      k = 3;
    } else if (i < 144) {
      k = 4;
    } else if (i < 768) {
      k = 5;
    } else {
      k = 6;
    }
    if (i < 8) {
      z = new Classic(m);
    } else if (m.isEven()) {
      z = new Barrett(m);
    } else {
      z = new Montgomery(m);
    }
    var g = [];
    var n3 = 3;
    var k1 = k - 1;
    var km = (1 << k) - 1;
    g[1] = z.convert(this);
    if (k > 1) {
      var g2 = nbi();
      z.sqrTo(g[1], g2);
      while (n3 <= km) {
        g[n3] = nbi();
        z.mulTo(g2, g[n3 - 2], g[n3]);
        n3 += 2;
      }
    }
    var j = e.t - 1;
    var w;
    var is1 = true;
    var r2 = nbi();
    var t;
    i = nbits(e[j]) - 1;
    while (j >= 0) {
      if (i >= k1) {
        w = e[j] >> i - k1 & km;
      } else {
        w = (e[j] & (1 << i + 1) - 1) << k1 - i;
        if (j > 0) {
          w |= e[j - 1] >> this.DB + i - k1;
        }
      }
      n3 = k;
      while ((w & 1) == 0) {
        w >>= 1;
        --n3;
      }
      if ((i -= n3) < 0) {
        i += this.DB;
        --j;
      }
      if (is1) {
        g[w].copyTo(r);
        is1 = false;
      } else {
        while (n3 > 1) {
          z.sqrTo(r, r2);
          z.sqrTo(r2, r);
          n3 -= 2;
        }
        if (n3 > 0) {
          z.sqrTo(r, r2);
        } else {
          t = r;
          r = r2;
          r2 = t;
        }
        z.mulTo(r2, g[w], r);
      }
      while (j >= 0 && (e[j] & 1 << i) == 0) {
        z.sqrTo(r, r2);
        t = r;
        r = r2;
        r2 = t;
        if (--i < 0) {
          i = this.DB - 1;
          --j;
        }
      }
    }
    return z.revert(r);
  };
  BigInteger6.prototype.modInverse = function(m) {
    var ac = m.isEven();
    if (this.isEven() && ac || m.signum() == 0) {
      return BigInteger6.ZERO;
    }
    var u = m.clone();
    var v = this.clone();
    var a = nbv(1);
    var b = nbv(0);
    var c = nbv(0);
    var d = nbv(1);
    while (u.signum() != 0) {
      while (u.isEven()) {
        u.rShiftTo(1, u);
        if (ac) {
          if (!a.isEven() || !b.isEven()) {
            a.addTo(this, a);
            b.subTo(m, b);
          }
          a.rShiftTo(1, a);
        } else if (!b.isEven()) {
          b.subTo(m, b);
        }
        b.rShiftTo(1, b);
      }
      while (v.isEven()) {
        v.rShiftTo(1, v);
        if (ac) {
          if (!c.isEven() || !d.isEven()) {
            c.addTo(this, c);
            d.subTo(m, d);
          }
          c.rShiftTo(1, c);
        } else if (!d.isEven()) {
          d.subTo(m, d);
        }
        d.rShiftTo(1, d);
      }
      if (u.compareTo(v) >= 0) {
        u.subTo(v, u);
        if (ac) {
          a.subTo(c, a);
        }
        b.subTo(d, b);
      } else {
        v.subTo(u, v);
        if (ac) {
          c.subTo(a, c);
        }
        d.subTo(b, d);
      }
    }
    if (v.compareTo(BigInteger6.ONE) != 0) {
      return BigInteger6.ZERO;
    }
    if (d.compareTo(m) >= 0) {
      return d.subtract(m);
    }
    if (d.signum() < 0) {
      d.addTo(m, d);
    } else {
      return d;
    }
    if (d.signum() < 0) {
      return d.add(m);
    } else {
      return d;
    }
  };
  BigInteger6.prototype.pow = function(e) {
    return this.exp(e, new NullExp());
  };
  BigInteger6.prototype.gcd = function(a) {
    var x = this.s < 0 ? this.negate() : this.clone();
    var y = a.s < 0 ? a.negate() : a.clone();
    if (x.compareTo(y) < 0) {
      var t = x;
      x = y;
      y = t;
    }
    var i = x.getLowestSetBit();
    var g = y.getLowestSetBit();
    if (g < 0) {
      return x;
    }
    if (i < g) {
      g = i;
    }
    if (g > 0) {
      x.rShiftTo(g, x);
      y.rShiftTo(g, y);
    }
    while (x.signum() > 0) {
      if ((i = x.getLowestSetBit()) > 0) {
        x.rShiftTo(i, x);
      }
      if ((i = y.getLowestSetBit()) > 0) {
        y.rShiftTo(i, y);
      }
      if (x.compareTo(y) >= 0) {
        x.subTo(y, x);
        x.rShiftTo(1, x);
      } else {
        y.subTo(x, y);
        y.rShiftTo(1, y);
      }
    }
    if (g > 0) {
      y.lShiftTo(g, y);
    }
    return y;
  };
  BigInteger6.prototype.isProbablePrime = function(t) {
    var i;
    var x = this.abs();
    if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {
      for (i = 0; i < lowprimes.length; ++i) {
        if (x[0] == lowprimes[i]) {
          return true;
        }
      }
      return false;
    }
    if (x.isEven()) {
      return false;
    }
    i = 1;
    while (i < lowprimes.length) {
      var m = lowprimes[i];
      var j = i + 1;
      while (j < lowprimes.length && m < lplim) {
        m *= lowprimes[j++];
      }
      m = x.modInt(m);
      while (i < j) {
        if (m % lowprimes[i++] == 0) {
          return false;
        }
      }
    }
    return x.millerRabin(t);
  };
  BigInteger6.prototype.copyTo = function(r) {
    for (var i = this.t - 1; i >= 0; --i) {
      r[i] = this[i];
    }
    r.t = this.t;
    r.s = this.s;
  };
  BigInteger6.prototype.fromInt = function(x) {
    this.t = 1;
    this.s = x < 0 ? -1 : 0;
    if (x > 0) {
      this[0] = x;
    } else if (x < -1) {
      this[0] = x + this.DV;
    } else {
      this.t = 0;
    }
  };
  BigInteger6.prototype.fromString = function(s, b) {
    var k;
    if (b == 16) {
      k = 4;
    } else if (b == 8) {
      k = 3;
    } else if (b == 256) {
      k = 8;
    } else if (b == 2) {
      k = 1;
    } else if (b == 32) {
      k = 5;
    } else if (b == 4) {
      k = 2;
    } else {
      this.fromRadix(s, b);
      return;
    }
    this.t = 0;
    this.s = 0;
    var i = s.length;
    var mi = false;
    var sh = 0;
    while (--i >= 0) {
      var x = k == 8 ? +s[i] & 255 : intAt(s, i);
      if (x < 0) {
        if (s.charAt(i) == "-") {
          mi = true;
        }
        continue;
      }
      mi = false;
      if (sh == 0) {
        this[this.t++] = x;
      } else if (sh + k > this.DB) {
        this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;
        this[this.t++] = x >> this.DB - sh;
      } else {
        this[this.t - 1] |= x << sh;
      }
      sh += k;
      if (sh >= this.DB) {
        sh -= this.DB;
      }
    }
    if (k == 8 && (+s[0] & 128) != 0) {
      this.s = -1;
      if (sh > 0) {
        this[this.t - 1] |= (1 << this.DB - sh) - 1 << sh;
      }
    }
    this.clamp();
    if (mi) {
      BigInteger6.ZERO.subTo(this, this);
    }
  };
  BigInteger6.prototype.clamp = function() {
    var c = this.s & this.DM;
    while (this.t > 0 && this[this.t - 1] == c) {
      --this.t;
    }
  };
  BigInteger6.prototype.dlShiftTo = function(n3, r) {
    var i;
    for (i = this.t - 1; i >= 0; --i) {
      r[i + n3] = this[i];
    }
    for (i = n3 - 1; i >= 0; --i) {
      r[i] = 0;
    }
    r.t = this.t + n3;
    r.s = this.s;
  };
  BigInteger6.prototype.drShiftTo = function(n3, r) {
    for (var i = n3; i < this.t; ++i) {
      r[i - n3] = this[i];
    }
    r.t = Math.max(this.t - n3, 0);
    r.s = this.s;
  };
  BigInteger6.prototype.lShiftTo = function(n3, r) {
    var bs = n3 % this.DB;
    var cbs = this.DB - bs;
    var bm = (1 << cbs) - 1;
    var ds = Math.floor(n3 / this.DB);
    var c = this.s << bs & this.DM;
    for (var i = this.t - 1; i >= 0; --i) {
      r[i + ds + 1] = this[i] >> cbs | c;
      c = (this[i] & bm) << bs;
    }
    for (var i = ds - 1; i >= 0; --i) {
      r[i] = 0;
    }
    r[ds] = c;
    r.t = this.t + ds + 1;
    r.s = this.s;
    r.clamp();
  };
  BigInteger6.prototype.rShiftTo = function(n3, r) {
    r.s = this.s;
    var ds = Math.floor(n3 / this.DB);
    if (ds >= this.t) {
      r.t = 0;
      return;
    }
    var bs = n3 % this.DB;
    var cbs = this.DB - bs;
    var bm = (1 << bs) - 1;
    r[0] = this[ds] >> bs;
    for (var i = ds + 1; i < this.t; ++i) {
      r[i - ds - 1] |= (this[i] & bm) << cbs;
      r[i - ds] = this[i] >> bs;
    }
    if (bs > 0) {
      r[this.t - ds - 1] |= (this.s & bm) << cbs;
    }
    r.t = this.t - ds;
    r.clamp();
  };
  BigInteger6.prototype.subTo = function(a, r) {
    var i = 0;
    var c = 0;
    var m = Math.min(a.t, this.t);
    while (i < m) {
      c += this[i] - a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    if (a.t < this.t) {
      c -= a.s;
      while (i < this.t) {
        c += this[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += this.s;
    } else {
      c += this.s;
      while (i < a.t) {
        c -= a[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c -= a.s;
    }
    r.s = c < 0 ? -1 : 0;
    if (c < -1) {
      r[i++] = this.DV + c;
    } else if (c > 0) {
      r[i++] = c;
    }
    r.t = i;
    r.clamp();
  };
  BigInteger6.prototype.multiplyTo = function(a, r) {
    var x = this.abs();
    var y = a.abs();
    var i = x.t;
    r.t = i + y.t;
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = 0; i < y.t; ++i) {
      r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);
    }
    r.s = 0;
    r.clamp();
    if (this.s != a.s) {
      BigInteger6.ZERO.subTo(r, r);
    }
  };
  BigInteger6.prototype.squareTo = function(r) {
    var x = this.abs();
    var i = r.t = 2 * x.t;
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = 0; i < x.t - 1; ++i) {
      var c = x.am(i, x[i], r, 2 * i, 0, 1);
      if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {
        r[i + x.t] -= x.DV;
        r[i + x.t + 1] = 1;
      }
    }
    if (r.t > 0) {
      r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);
    }
    r.s = 0;
    r.clamp();
  };
  BigInteger6.prototype.divRemTo = function(m, q, r) {
    var pm = m.abs();
    if (pm.t <= 0) {
      return;
    }
    var pt = this.abs();
    if (pt.t < pm.t) {
      if (q != null) {
        q.fromInt(0);
      }
      if (r != null) {
        this.copyTo(r);
      }
      return;
    }
    if (r == null) {
      r = nbi();
    }
    var y = nbi();
    var ts = this.s;
    var ms = m.s;
    var nsh = this.DB - nbits(pm[pm.t - 1]);
    if (nsh > 0) {
      pm.lShiftTo(nsh, y);
      pt.lShiftTo(nsh, r);
    } else {
      pm.copyTo(y);
      pt.copyTo(r);
    }
    var ys = y.t;
    var y0 = y[ys - 1];
    if (y0 == 0) {
      return;
    }
    var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);
    var d1 = this.FV / yt;
    var d2 = (1 << this.F1) / yt;
    var e = 1 << this.F2;
    var i = r.t;
    var j = i - ys;
    var t = q == null ? nbi() : q;
    y.dlShiftTo(j, t);
    if (r.compareTo(t) >= 0) {
      r[r.t++] = 1;
      r.subTo(t, r);
    }
    BigInteger6.ONE.dlShiftTo(ys, t);
    t.subTo(y, y);
    while (y.t < ys) {
      y[y.t++] = 0;
    }
    while (--j >= 0) {
      var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);
      if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {
        y.dlShiftTo(j, t);
        r.subTo(t, r);
        while (r[i] < --qd) {
          r.subTo(t, r);
        }
      }
    }
    if (q != null) {
      r.drShiftTo(ys, q);
      if (ts != ms) {
        BigInteger6.ZERO.subTo(q, q);
      }
    }
    r.t = ys;
    r.clamp();
    if (nsh > 0) {
      r.rShiftTo(nsh, r);
    }
    if (ts < 0) {
      BigInteger6.ZERO.subTo(r, r);
    }
  };
  BigInteger6.prototype.invDigit = function() {
    if (this.t < 1) {
      return 0;
    }
    var x = this[0];
    if ((x & 1) == 0) {
      return 0;
    }
    var y = x & 3;
    y = y * (2 - (x & 15) * y) & 15;
    y = y * (2 - (x & 255) * y) & 255;
    y = y * (2 - ((x & 65535) * y & 65535)) & 65535;
    y = y * (2 - x * y % this.DV) % this.DV;
    return y > 0 ? this.DV - y : -y;
  };
  BigInteger6.prototype.isEven = function() {
    return (this.t > 0 ? this[0] & 1 : this.s) == 0;
  };
  BigInteger6.prototype.exp = function(e, z) {
    if (e > 4294967295 || e < 1) {
      return BigInteger6.ONE;
    }
    var r = nbi();
    var r2 = nbi();
    var g = z.convert(this);
    var i = nbits(e) - 1;
    g.copyTo(r);
    while (--i >= 0) {
      z.sqrTo(r, r2);
      if ((e & 1 << i) > 0) {
        z.mulTo(r2, g, r);
      } else {
        var t = r;
        r = r2;
        r2 = t;
      }
    }
    return z.revert(r);
  };
  BigInteger6.prototype.chunkSize = function(r) {
    return Math.floor(Math.LN2 * this.DB / Math.log(r));
  };
  BigInteger6.prototype.toRadix = function(b) {
    if (b == null) {
      b = 10;
    }
    if (this.signum() == 0 || b < 2 || b > 36) {
      return "0";
    }
    var cs = this.chunkSize(b);
    var a = Math.pow(b, cs);
    var d = nbv(a);
    var y = nbi();
    var z = nbi();
    var r = "";
    this.divRemTo(d, y, z);
    while (y.signum() > 0) {
      r = (a + z.intValue()).toString(b).substr(1) + r;
      y.divRemTo(d, y, z);
    }
    return z.intValue().toString(b) + r;
  };
  BigInteger6.prototype.fromRadix = function(s, b) {
    this.fromInt(0);
    if (b == null) {
      b = 10;
    }
    var cs = this.chunkSize(b);
    var d = Math.pow(b, cs);
    var mi = false;
    var j = 0;
    var w = 0;
    for (var i = 0; i < s.length; ++i) {
      var x = intAt(s, i);
      if (x < 0) {
        if (s.charAt(i) == "-" && this.signum() == 0) {
          mi = true;
        }
        continue;
      }
      w = b * w + x;
      if (++j >= cs) {
        this.dMultiply(d);
        this.dAddOffset(w, 0);
        j = 0;
        w = 0;
      }
    }
    if (j > 0) {
      this.dMultiply(Math.pow(b, j));
      this.dAddOffset(w, 0);
    }
    if (mi) {
      BigInteger6.ZERO.subTo(this, this);
    }
  };
  BigInteger6.prototype.fromNumber = function(a, b, c) {
    if ("number" == typeof b) {
      if (a < 2) {
        this.fromInt(1);
      } else {
        this.fromNumber(a, c);
        if (!this.testBit(a - 1)) {
          this.bitwiseTo(BigInteger6.ONE.shiftLeft(a - 1), op_or, this);
        }
        if (this.isEven()) {
          this.dAddOffset(1, 0);
        }
        while (!this.isProbablePrime(b)) {
          this.dAddOffset(2, 0);
          if (this.bitLength() > a) {
            this.subTo(BigInteger6.ONE.shiftLeft(a - 1), this);
          }
        }
      }
    } else {
      var x = [];
      var t = a & 7;
      x.length = (a >> 3) + 1;
      b.nextBytes(x);
      if (t > 0) {
        x[0] &= (1 << t) - 1;
      } else {
        x[0] = 0;
      }
      this.fromString(x, 256);
    }
  };
  BigInteger6.prototype.bitwiseTo = function(a, op, r) {
    var i;
    var f;
    var m = Math.min(a.t, this.t);
    for (i = 0; i < m; ++i) {
      r[i] = op(this[i], a[i]);
    }
    if (a.t < this.t) {
      f = a.s & this.DM;
      for (i = m; i < this.t; ++i) {
        r[i] = op(this[i], f);
      }
      r.t = this.t;
    } else {
      f = this.s & this.DM;
      for (i = m; i < a.t; ++i) {
        r[i] = op(f, a[i]);
      }
      r.t = a.t;
    }
    r.s = op(this.s, a.s);
    r.clamp();
  };
  BigInteger6.prototype.changeBit = function(n3, op) {
    var r = BigInteger6.ONE.shiftLeft(n3);
    this.bitwiseTo(r, op, r);
    return r;
  };
  BigInteger6.prototype.addTo = function(a, r) {
    var i = 0;
    var c = 0;
    var m = Math.min(a.t, this.t);
    while (i < m) {
      c += this[i] + a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    if (a.t < this.t) {
      c += a.s;
      while (i < this.t) {
        c += this[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += this.s;
    } else {
      c += this.s;
      while (i < a.t) {
        c += a[i];
        r[i++] = c & this.DM;
        c >>= this.DB;
      }
      c += a.s;
    }
    r.s = c < 0 ? -1 : 0;
    if (c > 0) {
      r[i++] = c;
    } else if (c < -1) {
      r[i++] = this.DV + c;
    }
    r.t = i;
    r.clamp();
  };
  BigInteger6.prototype.dMultiply = function(n3) {
    this[this.t] = this.am(0, n3 - 1, this, 0, 0, this.t);
    ++this.t;
    this.clamp();
  };
  BigInteger6.prototype.dAddOffset = function(n3, w) {
    if (n3 == 0) {
      return;
    }
    while (this.t <= w) {
      this[this.t++] = 0;
    }
    this[w] += n3;
    while (this[w] >= this.DV) {
      this[w] -= this.DV;
      if (++w >= this.t) {
        this[this.t++] = 0;
      }
      ++this[w];
    }
  };
  BigInteger6.prototype.multiplyLowerTo = function(a, n3, r) {
    var i = Math.min(this.t + a.t, n3);
    r.s = 0;
    r.t = i;
    while (i > 0) {
      r[--i] = 0;
    }
    for (var j = r.t - this.t; i < j; ++i) {
      r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);
    }
    for (var j = Math.min(a.t, n3); i < j; ++i) {
      this.am(0, a[i], r, i, 0, n3 - i);
    }
    r.clamp();
  };
  BigInteger6.prototype.multiplyUpperTo = function(a, n3, r) {
    --n3;
    var i = r.t = this.t + a.t - n3;
    r.s = 0;
    while (--i >= 0) {
      r[i] = 0;
    }
    for (i = Math.max(n3 - this.t, 0); i < a.t; ++i) {
      r[this.t + i - n3] = this.am(n3 - i, a[i], r, 0, 0, this.t + i - n3);
    }
    r.clamp();
    r.drShiftTo(1, r);
  };
  BigInteger6.prototype.modInt = function(n3) {
    if (n3 <= 0) {
      return 0;
    }
    var d = this.DV % n3;
    var r = this.s < 0 ? n3 - 1 : 0;
    if (this.t > 0) {
      if (d == 0) {
        r = this[0] % n3;
      } else {
        for (var i = this.t - 1; i >= 0; --i) {
          r = (d * r + this[i]) % n3;
        }
      }
    }
    return r;
  };
  BigInteger6.prototype.millerRabin = function(t) {
    var n1 = this.subtract(BigInteger6.ONE);
    var k = n1.getLowestSetBit();
    if (k <= 0) {
      return false;
    }
    var r = n1.shiftRight(k);
    t = t + 1 >> 1;
    if (t > lowprimes.length) {
      t = lowprimes.length;
    }
    var a = nbi();
    for (var i = 0; i < t; ++i) {
      a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);
      var y = a.modPow(r, this);
      if (y.compareTo(BigInteger6.ONE) != 0 && y.compareTo(n1) != 0) {
        var j = 1;
        while (j++ < k && y.compareTo(n1) != 0) {
          y = y.modPowInt(2, this);
          if (y.compareTo(BigInteger6.ONE) == 0) {
            return false;
          }
        }
        if (y.compareTo(n1) != 0) {
          return false;
        }
      }
    }
    return true;
  };
  BigInteger6.prototype.square = function() {
    var r = nbi();
    this.squareTo(r);
    return r;
  };
  BigInteger6.prototype.gcda = function(a, callback) {
    var x = this.s < 0 ? this.negate() : this.clone();
    var y = a.s < 0 ? a.negate() : a.clone();
    if (x.compareTo(y) < 0) {
      var t = x;
      x = y;
      y = t;
    }
    var i = x.getLowestSetBit();
    var g = y.getLowestSetBit();
    if (g < 0) {
      callback(x);
      return;
    }
    if (i < g) {
      g = i;
    }
    if (g > 0) {
      x.rShiftTo(g, x);
      y.rShiftTo(g, y);
    }
    var gcda1 = function() {
      if ((i = x.getLowestSetBit()) > 0) {
        x.rShiftTo(i, x);
      }
      if ((i = y.getLowestSetBit()) > 0) {
        y.rShiftTo(i, y);
      }
      if (x.compareTo(y) >= 0) {
        x.subTo(y, x);
        x.rShiftTo(1, x);
      } else {
        y.subTo(x, y);
        y.rShiftTo(1, y);
      }
      if (!(x.signum() > 0)) {
        if (g > 0) {
          y.lShiftTo(g, y);
        }
        setTimeout(function() {
          callback(y);
        }, 0);
      } else {
        setTimeout(gcda1, 0);
      }
    };
    setTimeout(gcda1, 10);
  };
  BigInteger6.prototype.fromNumberAsync = function(a, b, c, callback) {
    if ("number" == typeof b) {
      if (a < 2) {
        this.fromInt(1);
      } else {
        this.fromNumber(a, c);
        if (!this.testBit(a - 1)) {
          this.bitwiseTo(BigInteger6.ONE.shiftLeft(a - 1), op_or, this);
        }
        if (this.isEven()) {
          this.dAddOffset(1, 0);
        }
        var bnp_1 = this;
        var bnpfn1_1 = function() {
          bnp_1.dAddOffset(2, 0);
          if (bnp_1.bitLength() > a) {
            bnp_1.subTo(BigInteger6.ONE.shiftLeft(a - 1), bnp_1);
          }
          if (bnp_1.isProbablePrime(b)) {
            setTimeout(function() {
              callback();
            }, 0);
          } else {
            setTimeout(bnpfn1_1, 0);
          }
        };
        setTimeout(bnpfn1_1, 0);
      }
    } else {
      var x = [];
      var t = a & 7;
      x.length = (a >> 3) + 1;
      b.nextBytes(x);
      if (t > 0) {
        x[0] &= (1 << t) - 1;
      } else {
        x[0] = 0;
      }
      this.fromString(x, 256);
    }
  };
  return BigInteger6;
}();
var NullExp = function() {
  function NullExp2() {
  }
  NullExp2.prototype.convert = function(x) {
    return x;
  };
  NullExp2.prototype.revert = function(x) {
    return x;
  };
  NullExp2.prototype.mulTo = function(x, y, r) {
    x.multiplyTo(y, r);
  };
  NullExp2.prototype.sqrTo = function(x, r) {
    x.squareTo(r);
  };
  return NullExp2;
}();
var Classic = function() {
  function Classic2(m) {
    this.m = m;
  }
  Classic2.prototype.convert = function(x) {
    if (x.s < 0 || x.compareTo(this.m) >= 0) {
      return x.mod(this.m);
    } else {
      return x;
    }
  };
  Classic2.prototype.revert = function(x) {
    return x;
  };
  Classic2.prototype.reduce = function(x) {
    x.divRemTo(this.m, null, x);
  };
  Classic2.prototype.mulTo = function(x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  Classic2.prototype.sqrTo = function(x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Classic2;
}();
var Montgomery = function() {
  function Montgomery2(m) {
    this.m = m;
    this.mp = m.invDigit();
    this.mpl = this.mp & 32767;
    this.mph = this.mp >> 15;
    this.um = (1 << m.DB - 15) - 1;
    this.mt2 = 2 * m.t;
  }
  Montgomery2.prototype.convert = function(x) {
    var r = nbi();
    x.abs().dlShiftTo(this.m.t, r);
    r.divRemTo(this.m, null, r);
    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) {
      this.m.subTo(r, r);
    }
    return r;
  };
  Montgomery2.prototype.revert = function(x) {
    var r = nbi();
    x.copyTo(r);
    this.reduce(r);
    return r;
  };
  Montgomery2.prototype.reduce = function(x) {
    while (x.t <= this.mt2) {
      x[x.t++] = 0;
    }
    for (var i = 0; i < this.m.t; ++i) {
      var j = x[i] & 32767;
      var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;
      j = i + this.m.t;
      x[j] += this.m.am(0, u0, x, i, 0, this.m.t);
      while (x[j] >= x.DV) {
        x[j] -= x.DV;
        x[++j]++;
      }
    }
    x.clamp();
    x.drShiftTo(this.m.t, x);
    if (x.compareTo(this.m) >= 0) {
      x.subTo(this.m, x);
    }
  };
  Montgomery2.prototype.mulTo = function(x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  Montgomery2.prototype.sqrTo = function(x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Montgomery2;
}();
var Barrett = function() {
  function Barrett2(m) {
    this.m = m;
    this.r2 = nbi();
    this.q3 = nbi();
    BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);
    this.mu = this.r2.divide(m);
  }
  Barrett2.prototype.convert = function(x) {
    if (x.s < 0 || x.t > 2 * this.m.t) {
      return x.mod(this.m);
    } else if (x.compareTo(this.m) < 0) {
      return x;
    } else {
      var r = nbi();
      x.copyTo(r);
      this.reduce(r);
      return r;
    }
  };
  Barrett2.prototype.revert = function(x) {
    return x;
  };
  Barrett2.prototype.reduce = function(x) {
    x.drShiftTo(this.m.t - 1, this.r2);
    if (x.t > this.m.t + 1) {
      x.t = this.m.t + 1;
      x.clamp();
    }
    this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);
    this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);
    while (x.compareTo(this.r2) < 0) {
      x.dAddOffset(1, this.m.t + 1);
    }
    x.subTo(this.r2, x);
    while (x.compareTo(this.m) >= 0) {
      x.subTo(this.m, x);
    }
  };
  Barrett2.prototype.mulTo = function(x, y, r) {
    x.multiplyTo(y, r);
    this.reduce(r);
  };
  Barrett2.prototype.sqrTo = function(x, r) {
    x.squareTo(r);
    this.reduce(r);
  };
  return Barrett2;
}();
function nbi() {
  return new BigInteger(null);
}
function parseBigInt(str, r) {
  return new BigInteger(str, r);
}
function am1(i, x, w, j, c, n3) {
  while (--n3 >= 0) {
    var v = x * this[i++] + w[j] + c;
    c = Math.floor(v / 67108864);
    w[j++] = v & 67108863;
  }
  return c;
}
function am2(i, x, w, j, c, n3) {
  var xl = x & 32767;
  var xh = x >> 15;
  while (--n3 >= 0) {
    var l = this[i] & 32767;
    var h = this[i++] >> 15;
    var m = xh * l + h * xl;
    l = xl * l + ((m & 32767) << 15) + w[j] + (c & 1073741823);
    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);
    w[j++] = l & 1073741823;
  }
  return c;
}
function am3(i, x, w, j, c, n3) {
  var xl = x & 16383;
  var xh = x >> 14;
  while (--n3 >= 0) {
    var l = this[i] & 16383;
    var h = this[i++] >> 14;
    var m = xh * l + h * xl;
    l = xl * l + ((m & 16383) << 14) + w[j] + c;
    c = (l >> 28) + (m >> 14) + xh * h;
    w[j++] = l & 268435455;
  }
  return c;
}
if (j_lm && navigator2.appName == "Microsoft Internet Explorer") {
  BigInteger.prototype.am = am2;
  dbits = 30;
} else if (j_lm && navigator2.appName != "Netscape") {
  BigInteger.prototype.am = am1;
  dbits = 26;
} else {
  BigInteger.prototype.am = am3;
  dbits = 28;
}
BigInteger.prototype.DB = dbits;
BigInteger.prototype.DM = (1 << dbits) - 1;
BigInteger.prototype.DV = 1 << dbits;
var BI_FP = 52;
BigInteger.prototype.FV = Math.pow(2, BI_FP);
BigInteger.prototype.F1 = BI_FP - dbits;
BigInteger.prototype.F2 = 2 * dbits - BI_FP;
var BI_RC = [];
var rr;
var vv;
rr = "0".charCodeAt(0);
for (vv = 0; vv <= 9; ++vv) {
  BI_RC[rr++] = vv;
}
rr = "a".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) {
  BI_RC[rr++] = vv;
}
rr = "A".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) {
  BI_RC[rr++] = vv;
}
function intAt(s, i) {
  var c = BI_RC[s.charCodeAt(i)];
  return c == null ? -1 : c;
}
function nbv(i) {
  var r = nbi();
  r.fromInt(i);
  return r;
}
function nbits(x) {
  var r = 1;
  var t;
  if ((t = x >>> 16) != 0) {
    x = t;
    r += 16;
  }
  if ((t = x >> 8) != 0) {
    x = t;
    r += 8;
  }
  if ((t = x >> 4) != 0) {
    x = t;
    r += 4;
  }
  if ((t = x >> 2) != 0) {
    x = t;
    r += 2;
  }
  if ((t = x >> 1) != 0) {
    x = t;
    r += 1;
  }
  return r;
}
BigInteger.ZERO = nbv(0);
BigInteger.ONE = nbv(1);
var Arcfour = function() {
  function Arcfour2() {
    this.i = 0;
    this.j = 0;
    this.S = [];
  }
  Arcfour2.prototype.init = function(key) {
    var i;
    var j;
    var t;
    for (i = 0; i < 256; ++i) {
      this.S[i] = i;
    }
    j = 0;
    for (i = 0; i < 256; ++i) {
      j = j + this.S[i] + key[i % key.length] & 255;
      t = this.S[i];
      this.S[i] = this.S[j];
      this.S[j] = t;
    }
    this.i = 0;
    this.j = 0;
  };
  Arcfour2.prototype.next = function() {
    var t;
    this.i = this.i + 1 & 255;
    this.j = this.j + this.S[this.i] & 255;
    t = this.S[this.i];
    this.S[this.i] = this.S[this.j];
    this.S[this.j] = t;
    return this.S[t + this.S[this.i] & 255];
  };
  return Arcfour2;
}();
function prng_newstate() {
  return new Arcfour();
}
var rng_psize = 256;
var rng_state;
var rng_pool = null;
var rng_pptr;
if (rng_pool == null) {
  rng_pool = [];
  rng_pptr = 0;
  t = void 0;
  if (window2.crypto && window2.crypto.getRandomValues) {
    z = new Uint32Array(256);
    window2.crypto.getRandomValues(z);
    for (t = 0; t < z.length; ++t) {
      rng_pool[rng_pptr++] = z[t] & 255;
    }
  }
  onMouseMoveListener_1 = function(ev) {
    this.count = this.count || 0;
    if (this.count >= 256 || rng_pptr >= rng_psize) {
      if (window2.removeEventListener) {
        window2.removeEventListener("mousemove", onMouseMoveListener_1, false);
      } else if (window2.detachEvent) {
        window2.detachEvent("onmousemove", onMouseMoveListener_1);
      }
      return;
    }
    try {
      var mouseCoordinates = ev.x + ev.y;
      rng_pool[rng_pptr++] = mouseCoordinates & 255;
      this.count += 1;
    } catch (e) {
    }
  };
  if (window2.addEventListener) {
    window2.addEventListener("mousemove", onMouseMoveListener_1, false);
  } else if (window2.attachEvent) {
    window2.attachEvent("onmousemove", onMouseMoveListener_1);
  }
}
var t;
var z;
var onMouseMoveListener_1;
function rng_get_byte() {
  if (rng_state == null) {
    rng_state = prng_newstate();
    while (rng_pptr < rng_psize) {
      var random = Math.floor(65536 * Math.random());
      rng_pool[rng_pptr++] = random & 255;
    }
    rng_state.init(rng_pool);
    for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr) {
      rng_pool[rng_pptr] = 0;
    }
    rng_pptr = 0;
  }
  return rng_state.next();
}
var SecureRandom = function() {
  function SecureRandom3() {
  }
  SecureRandom3.prototype.nextBytes = function(ba) {
    for (var i = 0; i < ba.length; ++i) {
      ba[i] = rng_get_byte();
    }
  };
  return SecureRandom3;
}();
function pkcs1pad1(s, n3) {
  if (n3 < s.length + 22) {
    console.error("Message too long for RSA");
    return null;
  }
  var len = n3 - s.length - 6;
  var filler = "";
  for (var f = 0; f < len; f += 2) {
    filler += "ff";
  }
  var m = "0001" + filler + "00" + s;
  return parseBigInt(m, 16);
}
function pkcs1pad2(s, n3) {
  if (n3 < s.length + 11) {
    console.error("Message too long for RSA");
    return null;
  }
  var ba = [];
  var i = s.length - 1;
  while (i >= 0 && n3 > 0) {
    var c = s.charCodeAt(i--);
    if (c < 128) {
      ba[--n3] = c;
    } else if (c > 127 && c < 2048) {
      ba[--n3] = c & 63 | 128;
      ba[--n3] = c >> 6 | 192;
    } else {
      ba[--n3] = c & 63 | 128;
      ba[--n3] = c >> 6 & 63 | 128;
      ba[--n3] = c >> 12 | 224;
    }
  }
  ba[--n3] = 0;
  var rng2 = new SecureRandom();
  var x = [];
  while (n3 > 2) {
    x[0] = 0;
    while (x[0] == 0) {
      rng2.nextBytes(x);
    }
    ba[--n3] = x[0];
  }
  ba[--n3] = 2;
  ba[--n3] = 0;
  return new BigInteger(ba);
}
var RSAKey = function() {
  function RSAKey2() {
    this.n = null;
    this.e = 0;
    this.d = null;
    this.p = null;
    this.q = null;
    this.dmp1 = null;
    this.dmq1 = null;
    this.coeff = null;
  }
  RSAKey2.prototype.doPublic = function(x) {
    return x.modPowInt(this.e, this.n);
  };
  RSAKey2.prototype.doPrivate = function(x) {
    if (this.p == null || this.q == null) {
      return x.modPow(this.d, this.n);
    }
    var xp = x.mod(this.p).modPow(this.dmp1, this.p);
    var xq = x.mod(this.q).modPow(this.dmq1, this.q);
    while (xp.compareTo(xq) < 0) {
      xp = xp.add(this.p);
    }
    return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);
  };
  RSAKey2.prototype.setPublic = function(N, E) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = parseBigInt(N, 16);
      this.e = parseInt(E, 16);
    } else {
      console.error("Invalid RSA public key");
    }
  };
  RSAKey2.prototype.encrypt = function(text) {
    var m = pkcs1pad2(text, this.n.bitLength() + 7 >> 3);
    if (m == null) {
      return null;
    }
    var c = this.doPublic(m);
    if (c == null) {
      return null;
    }
    var h = c.toString(16);
    if ((h.length & 1) == 0) {
      return h;
    } else {
      return "0" + h;
    }
  };
  RSAKey2.prototype.setPrivate = function(N, E, D) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = parseBigInt(N, 16);
      this.e = parseInt(E, 16);
      this.d = parseBigInt(D, 16);
    } else {
      console.error("Invalid RSA private key");
    }
  };
  RSAKey2.prototype.setPrivateEx = function(N, E, D, P, Q, DP, DQ, C) {
    if (N != null && E != null && N.length > 0 && E.length > 0) {
      this.n = parseBigInt(N, 16);
      this.e = parseInt(E, 16);
      this.d = parseBigInt(D, 16);
      this.p = parseBigInt(P, 16);
      this.q = parseBigInt(Q, 16);
      this.dmp1 = parseBigInt(DP, 16);
      this.dmq1 = parseBigInt(DQ, 16);
      this.coeff = parseBigInt(C, 16);
    } else {
      console.error("Invalid RSA private key");
    }
  };
  RSAKey2.prototype.generate = function(B, E) {
    var rng2 = new SecureRandom();
    var qs = B >> 1;
    this.e = parseInt(E, 16);
    var ee = new BigInteger(E, 16);
    for (; ; ) {
      for (; ; ) {
        this.p = new BigInteger(B - qs, 1, rng2);
        if (this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) {
          break;
        }
      }
      for (; ; ) {
        this.q = new BigInteger(qs, 1, rng2);
        if (this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) {
          break;
        }
      }
      if (this.p.compareTo(this.q) <= 0) {
        var t = this.p;
        this.p = this.q;
        this.q = t;
      }
      var p1 = this.p.subtract(BigInteger.ONE);
      var q1 = this.q.subtract(BigInteger.ONE);
      var phi = p1.multiply(q1);
      if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {
        this.n = this.p.multiply(this.q);
        this.d = ee.modInverse(phi);
        this.dmp1 = this.d.mod(p1);
        this.dmq1 = this.d.mod(q1);
        this.coeff = this.q.modInverse(this.p);
        break;
      }
    }
  };
  RSAKey2.prototype.decrypt = function(ctext) {
    var c = parseBigInt(ctext, 16);
    var m = this.doPrivate(c);
    if (m == null) {
      return null;
    }
    return pkcs1unpad2(m, this.n.bitLength() + 7 >> 3);
  };
  RSAKey2.prototype.generateAsync = function(B, E, callback) {
    var rng2 = new SecureRandom();
    var qs = B >> 1;
    this.e = parseInt(E, 16);
    var ee = new BigInteger(E, 16);
    var rsa = this;
    var loop1 = function() {
      var loop4 = function() {
        if (rsa.p.compareTo(rsa.q) <= 0) {
          var t = rsa.p;
          rsa.p = rsa.q;
          rsa.q = t;
        }
        var p1 = rsa.p.subtract(BigInteger.ONE);
        var q1 = rsa.q.subtract(BigInteger.ONE);
        var phi = p1.multiply(q1);
        if (phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {
          rsa.n = rsa.p.multiply(rsa.q);
          rsa.d = ee.modInverse(phi);
          rsa.dmp1 = rsa.d.mod(p1);
          rsa.dmq1 = rsa.d.mod(q1);
          rsa.coeff = rsa.q.modInverse(rsa.p);
          setTimeout(function() {
            callback();
          }, 0);
        } else {
          setTimeout(loop1, 0);
        }
      };
      var loop3 = function() {
        rsa.q = nbi();
        rsa.q.fromNumberAsync(qs, 1, rng2, function() {
          rsa.q.subtract(BigInteger.ONE).gcda(ee, function(r) {
            if (r.compareTo(BigInteger.ONE) == 0 && rsa.q.isProbablePrime(10)) {
              setTimeout(loop4, 0);
            } else {
              setTimeout(loop3, 0);
            }
          });
        });
      };
      var loop2 = function() {
        rsa.p = nbi();
        rsa.p.fromNumberAsync(B - qs, 1, rng2, function() {
          rsa.p.subtract(BigInteger.ONE).gcda(ee, function(r) {
            if (r.compareTo(BigInteger.ONE) == 0 && rsa.p.isProbablePrime(10)) {
              setTimeout(loop3, 0);
            } else {
              setTimeout(loop2, 0);
            }
          });
        });
      };
      setTimeout(loop2, 0);
    };
    setTimeout(loop1, 0);
  };
  RSAKey2.prototype.sign = function(text, digestMethod, digestName) {
    var header = getDigestHeader(digestName);
    var digest = header + digestMethod(text).toString();
    var m = pkcs1pad1(digest, this.n.bitLength() / 4);
    if (m == null) {
      return null;
    }
    var c = this.doPrivate(m);
    if (c == null) {
      return null;
    }
    var h = c.toString(16);
    if ((h.length & 1) == 0) {
      return h;
    } else {
      return "0" + h;
    }
  };
  RSAKey2.prototype.verify = function(text, signature, digestMethod) {
    var c = parseBigInt(signature, 16);
    var m = this.doPublic(c);
    if (m == null) {
      return null;
    }
    var unpadded = m.toString(16).replace(/^1f+00/, "");
    var digest = removeDigestHeader(unpadded);
    return digest == digestMethod(text).toString();
  };
  return RSAKey2;
}();
function pkcs1unpad2(d, n3) {
  var b = d.toByteArray();
  var i = 0;
  while (i < b.length && b[i] == 0) {
    ++i;
  }
  if (b.length - i != n3 - 1 || b[i] != 2) {
    return null;
  }
  ++i;
  while (b[i] != 0) {
    if (++i >= b.length) {
      return null;
    }
  }
  var ret = "";
  while (++i < b.length) {
    var c = b[i] & 255;
    if (c < 128) {
      ret += String.fromCharCode(c);
    } else if (c > 191 && c < 224) {
      ret += String.fromCharCode((c & 31) << 6 | b[i + 1] & 63);
      ++i;
    } else {
      ret += String.fromCharCode((c & 15) << 12 | (b[i + 1] & 63) << 6 | b[i + 2] & 63);
      i += 2;
    }
  }
  return ret;
}
var DIGEST_HEADERS = {
  md2: "3020300c06082a864886f70d020205000410",
  md5: "3020300c06082a864886f70d020505000410",
  sha1: "3021300906052b0e03021a05000414",
  sha224: "302d300d06096086480165030402040500041c",
  sha256: "3031300d060960864801650304020105000420",
  sha384: "3041300d060960864801650304020205000430",
  sha512: "3051300d060960864801650304020305000440",
  ripemd160: "3021300906052b2403020105000414"
};
function getDigestHeader(name) {
  return DIGEST_HEADERS[name] || "";
}
function removeDigestHeader(str) {
  for (var name_1 in DIGEST_HEADERS) {
    if (DIGEST_HEADERS.hasOwnProperty(name_1)) {
      var header = DIGEST_HEADERS[name_1];
      var len = header.length;
      if (str.substr(0, len) == header) {
        return str.substr(len);
      }
    }
  }
  return str;
}
var YAHOO = {};
YAHOO.lang = {
  extend: function(subc, superc, overrides) {
    if (!superc || !subc) {
      throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");
    }
    var F = function() {
    };
    F.prototype = superc.prototype;
    subc.prototype = new F();
    subc.prototype.constructor = subc;
    subc.superclass = superc.prototype;
    if (superc.prototype.constructor == Object.prototype.constructor) {
      superc.prototype.constructor = superc;
    }
    if (overrides) {
      var i;
      for (i in overrides) {
        subc.prototype[i] = overrides[i];
      }
      var _IEEnumFix = function() {
      }, ADD = ["toString", "valueOf"];
      try {
        if (/MSIE/.test(navigator2.userAgent)) {
          _IEEnumFix = function(r, s) {
            for (i = 0; i < ADD.length; i = i + 1) {
              var fname = ADD[i], f = s[fname];
              if (typeof f === "function" && f != Object.prototype[fname]) {
                r[fname] = f;
              }
            }
          };
        }
      } catch (ex) {
      }
      _IEEnumFix(subc.prototype, overrides);
    }
  }
};
var KJUR = {};
if (typeof KJUR.asn1 == "undefined" || !KJUR.asn1)
  KJUR.asn1 = {};
KJUR.asn1.ASN1Util = new function() {
  this.integerToByteHex = function(i) {
    var h = i.toString(16);
    if (h.length % 2 == 1)
      h = "0" + h;
    return h;
  };
  this.bigIntToMinTwosComplementsHex = function(bigIntegerValue) {
    var h = bigIntegerValue.toString(16);
    if (h.substr(0, 1) != "-") {
      if (h.length % 2 == 1) {
        h = "0" + h;
      } else {
        if (!h.match(/^[0-7]/)) {
          h = "00" + h;
        }
      }
    } else {
      var hPos = h.substr(1);
      var xorLen = hPos.length;
      if (xorLen % 2 == 1) {
        xorLen += 1;
      } else {
        if (!h.match(/^[0-7]/)) {
          xorLen += 2;
        }
      }
      var hMask = "";
      for (var i = 0; i < xorLen; i++) {
        hMask += "f";
      }
      var biMask = new BigInteger(hMask, 16);
      var biNeg = biMask.xor(bigIntegerValue).add(BigInteger.ONE);
      h = biNeg.toString(16).replace(/^-/, "");
    }
    return h;
  };
  this.getPEMStringFromHex = function(dataHex, pemHeader) {
    return hextopem(dataHex, pemHeader);
  };
  this.newObject = function(param) {
    var _KJUR = KJUR, _KJUR_asn1 = _KJUR.asn1, _DERBoolean = _KJUR_asn1.DERBoolean, _DERInteger = _KJUR_asn1.DERInteger, _DERBitString = _KJUR_asn1.DERBitString, _DEROctetString = _KJUR_asn1.DEROctetString, _DERNull = _KJUR_asn1.DERNull, _DERObjectIdentifier = _KJUR_asn1.DERObjectIdentifier, _DEREnumerated = _KJUR_asn1.DEREnumerated, _DERUTF8String = _KJUR_asn1.DERUTF8String, _DERNumericString = _KJUR_asn1.DERNumericString, _DERPrintableString = _KJUR_asn1.DERPrintableString, _DERTeletexString = _KJUR_asn1.DERTeletexString, _DERIA5String = _KJUR_asn1.DERIA5String, _DERUTCTime = _KJUR_asn1.DERUTCTime, _DERGeneralizedTime = _KJUR_asn1.DERGeneralizedTime, _DERSequence = _KJUR_asn1.DERSequence, _DERSet = _KJUR_asn1.DERSet, _DERTaggedObject = _KJUR_asn1.DERTaggedObject, _newObject = _KJUR_asn1.ASN1Util.newObject;
    var keys = Object.keys(param);
    if (keys.length != 1)
      throw "key of param shall be only one.";
    var key = keys[0];
    if (":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":" + key + ":") == -1)
      throw "undefined key: " + key;
    if (key == "bool")
      return new _DERBoolean(param[key]);
    if (key == "int")
      return new _DERInteger(param[key]);
    if (key == "bitstr")
      return new _DERBitString(param[key]);
    if (key == "octstr")
      return new _DEROctetString(param[key]);
    if (key == "null")
      return new _DERNull(param[key]);
    if (key == "oid")
      return new _DERObjectIdentifier(param[key]);
    if (key == "enum")
      return new _DEREnumerated(param[key]);
    if (key == "utf8str")
      return new _DERUTF8String(param[key]);
    if (key == "numstr")
      return new _DERNumericString(param[key]);
    if (key == "prnstr")
      return new _DERPrintableString(param[key]);
    if (key == "telstr")
      return new _DERTeletexString(param[key]);
    if (key == "ia5str")
      return new _DERIA5String(param[key]);
    if (key == "utctime")
      return new _DERUTCTime(param[key]);
    if (key == "gentime")
      return new _DERGeneralizedTime(param[key]);
    if (key == "seq") {
      var paramList = param[key];
      var a = [];
      for (var i = 0; i < paramList.length; i++) {
        var asn1Obj = _newObject(paramList[i]);
        a.push(asn1Obj);
      }
      return new _DERSequence({
        array: a
      });
    }
    if (key == "set") {
      var paramList = param[key];
      var a = [];
      for (var i = 0; i < paramList.length; i++) {
        var asn1Obj = _newObject(paramList[i]);
        a.push(asn1Obj);
      }
      return new _DERSet({
        array: a
      });
    }
    if (key == "tag") {
      var tagParam = param[key];
      if (Object.prototype.toString.call(tagParam) === "[object Array]" && tagParam.length == 3) {
        var obj = _newObject(tagParam[2]);
        return new _DERTaggedObject({
          tag: tagParam[0],
          explicit: tagParam[1],
          obj
        });
      } else {
        var newParam = {};
        if (tagParam.explicit !== void 0)
          newParam.explicit = tagParam.explicit;
        if (tagParam.tag !== void 0)
          newParam.tag = tagParam.tag;
        if (tagParam.obj === void 0)
          throw "obj shall be specified for 'tag'.";
        newParam.obj = _newObject(tagParam.obj);
        return new _DERTaggedObject(newParam);
      }
    }
  };
  this.jsonToASN1HEX = function(param) {
    var asn1Obj = this.newObject(param);
    return asn1Obj.getEncodedHex();
  };
}();
KJUR.asn1.ASN1Util.oidHexToInt = function(hex) {
  var s = "";
  var i01 = parseInt(hex.substr(0, 2), 16);
  var i0 = Math.floor(i01 / 40);
  var i1 = i01 % 40;
  var s = i0 + "." + i1;
  var binbuf = "";
  for (var i = 2; i < hex.length; i += 2) {
    var value = parseInt(hex.substr(i, 2), 16);
    var bin = ("00000000" + value.toString(2)).slice(-8);
    binbuf = binbuf + bin.substr(1, 7);
    if (bin.substr(0, 1) == "0") {
      var bi = new BigInteger(binbuf, 2);
      s = s + "." + bi.toString(10);
      binbuf = "";
    }
  }
  return s;
};
KJUR.asn1.ASN1Util.oidIntToHex = function(oidString) {
  var itox = function(i2) {
    var h2 = i2.toString(16);
    if (h2.length == 1)
      h2 = "0" + h2;
    return h2;
  };
  var roidtox = function(roid) {
    var h2 = "";
    var bi = new BigInteger(roid, 10);
    var b = bi.toString(2);
    var padLen = 7 - b.length % 7;
    if (padLen == 7)
      padLen = 0;
    var bPad = "";
    for (var i2 = 0; i2 < padLen; i2++)
      bPad += "0";
    b = bPad + b;
    for (var i2 = 0; i2 < b.length - 1; i2 += 7) {
      var b8 = b.substr(i2, 7);
      if (i2 != b.length - 7)
        b8 = "1" + b8;
      h2 += itox(parseInt(b8, 2));
    }
    return h2;
  };
  if (!oidString.match(/^[0-9.]+$/)) {
    throw "malformed oid string: " + oidString;
  }
  var h = "";
  var a = oidString.split(".");
  var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);
  h += itox(i0);
  a.splice(0, 2);
  for (var i = 0; i < a.length; i++) {
    h += roidtox(a[i]);
  }
  return h;
};
KJUR.asn1.ASN1Object = function() {
  var hV = "";
  this.getLengthHexFromValue = function() {
    if (typeof this.hV == "undefined" || this.hV == null) {
      throw "this.hV is null or undefined.";
    }
    if (this.hV.length % 2 == 1) {
      throw "value hex must be even length: n=" + hV.length + ",v=" + this.hV;
    }
    var n3 = this.hV.length / 2;
    var hN = n3.toString(16);
    if (hN.length % 2 == 1) {
      hN = "0" + hN;
    }
    if (n3 < 128) {
      return hN;
    } else {
      var hNlen = hN.length / 2;
      if (hNlen > 15) {
        throw "ASN.1 length too long to represent by 8x: n = " + n3.toString(16);
      }
      var head = 128 + hNlen;
      return head.toString(16) + hN;
    }
  };
  this.getEncodedHex = function() {
    if (this.hTLV == null || this.isModified) {
      this.hV = this.getFreshValueHex();
      this.hL = this.getLengthHexFromValue();
      this.hTLV = this.hT + this.hL + this.hV;
      this.isModified = false;
    }
    return this.hTLV;
  };
  this.getValueHex = function() {
    this.getEncodedHex();
    return this.hV;
  };
  this.getFreshValueHex = function() {
    return "";
  };
};
KJUR.asn1.DERAbstractString = function(params) {
  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);
  this.getString = function() {
    return this.s;
  };
  this.setString = function(newS) {
    this.hTLV = null;
    this.isModified = true;
    this.s = newS;
    this.hV = stohex(this.s);
  };
  this.setStringHex = function(newHexString) {
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = newHexString;
  };
  this.getFreshValueHex = function() {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params == "string") {
      this.setString(params);
    } else if (typeof params["str"] != "undefined") {
      this.setString(params["str"]);
    } else if (typeof params["hex"] != "undefined") {
      this.setStringHex(params["hex"]);
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERAbstractString, KJUR.asn1.ASN1Object);
KJUR.asn1.DERAbstractTime = function(params) {
  KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);
  this.localDateToUTC = function(d) {
    utc = d.getTime() + d.getTimezoneOffset() * 6e4;
    var utcDate = new Date(utc);
    return utcDate;
  };
  this.formatDate = function(dateObject, type, withMillis) {
    var pad = this.zeroPadding;
    var d = this.localDateToUTC(dateObject);
    var year = String(d.getFullYear());
    if (type == "utc")
      year = year.substr(2, 2);
    var month = pad(String(d.getMonth() + 1), 2);
    var day = pad(String(d.getDate()), 2);
    var hour = pad(String(d.getHours()), 2);
    var min = pad(String(d.getMinutes()), 2);
    var sec = pad(String(d.getSeconds()), 2);
    var s = year + month + day + hour + min + sec;
    if (withMillis === true) {
      var millis = d.getMilliseconds();
      if (millis != 0) {
        var sMillis = pad(String(millis), 3);
        sMillis = sMillis.replace(/[0]+$/, "");
        s = s + "." + sMillis;
      }
    }
    return s + "Z";
  };
  this.zeroPadding = function(s, len) {
    if (s.length >= len)
      return s;
    return new Array(len - s.length + 1).join("0") + s;
  };
  this.getString = function() {
    return this.s;
  };
  this.setString = function(newS) {
    this.hTLV = null;
    this.isModified = true;
    this.s = newS;
    this.hV = stohex(newS);
  };
  this.setByDateValue = function(year, month, day, hour, min, sec) {
    var dateObject = new Date(Date.UTC(year, month - 1, day, hour, min, sec, 0));
    this.setByDate(dateObject);
  };
  this.getFreshValueHex = function() {
    return this.hV;
  };
};
YAHOO.lang.extend(KJUR.asn1.DERAbstractTime, KJUR.asn1.ASN1Object);
KJUR.asn1.DERAbstractStructured = function(params) {
  KJUR.asn1.DERAbstractString.superclass.constructor.call(this);
  this.setByASN1ObjectArray = function(asn1ObjectArray) {
    this.hTLV = null;
    this.isModified = true;
    this.asn1Array = asn1ObjectArray;
  };
  this.appendASN1Object = function(asn1Object) {
    this.hTLV = null;
    this.isModified = true;
    this.asn1Array.push(asn1Object);
  };
  this.asn1Array = new Array();
  if (typeof params != "undefined") {
    if (typeof params["array"] != "undefined") {
      this.asn1Array = params["array"];
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERAbstractStructured, KJUR.asn1.ASN1Object);
KJUR.asn1.DERBoolean = function() {
  KJUR.asn1.DERBoolean.superclass.constructor.call(this);
  this.hT = "01";
  this.hTLV = "0101ff";
};
YAHOO.lang.extend(KJUR.asn1.DERBoolean, KJUR.asn1.ASN1Object);
KJUR.asn1.DERInteger = function(params) {
  KJUR.asn1.DERInteger.superclass.constructor.call(this);
  this.hT = "02";
  this.setByBigInteger = function(bigIntegerValue) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);
  };
  this.setByInteger = function(intValue) {
    var bi = new BigInteger(String(intValue), 10);
    this.setByBigInteger(bi);
  };
  this.setValueHex = function(newHexString) {
    this.hV = newHexString;
  };
  this.getFreshValueHex = function() {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params["bigint"] != "undefined") {
      this.setByBigInteger(params["bigint"]);
    } else if (typeof params["int"] != "undefined") {
      this.setByInteger(params["int"]);
    } else if (typeof params == "number") {
      this.setByInteger(params);
    } else if (typeof params["hex"] != "undefined") {
      this.setValueHex(params["hex"]);
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERInteger, KJUR.asn1.ASN1Object);
KJUR.asn1.DERBitString = function(params) {
  if (params !== void 0 && typeof params.obj !== "undefined") {
    var o = KJUR.asn1.ASN1Util.newObject(params.obj);
    params.hex = "00" + o.getEncodedHex();
  }
  KJUR.asn1.DERBitString.superclass.constructor.call(this);
  this.hT = "03";
  this.setHexValueIncludingUnusedBits = function(newHexStringIncludingUnusedBits) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = newHexStringIncludingUnusedBits;
  };
  this.setUnusedBitsAndHexValue = function(unusedBits, hValue) {
    if (unusedBits < 0 || 7 < unusedBits) {
      throw "unused bits shall be from 0 to 7: u = " + unusedBits;
    }
    var hUnusedBits = "0" + unusedBits;
    this.hTLV = null;
    this.isModified = true;
    this.hV = hUnusedBits + hValue;
  };
  this.setByBinaryString = function(binaryString) {
    binaryString = binaryString.replace(/0+$/, "");
    var unusedBits = 8 - binaryString.length % 8;
    if (unusedBits == 8)
      unusedBits = 0;
    for (var i = 0; i <= unusedBits; i++) {
      binaryString += "0";
    }
    var h = "";
    for (var i = 0; i < binaryString.length - 1; i += 8) {
      var b = binaryString.substr(i, 8);
      var x = parseInt(b, 2).toString(16);
      if (x.length == 1)
        x = "0" + x;
      h += x;
    }
    this.hTLV = null;
    this.isModified = true;
    this.hV = "0" + unusedBits + h;
  };
  this.setByBooleanArray = function(booleanArray) {
    var s = "";
    for (var i = 0; i < booleanArray.length; i++) {
      if (booleanArray[i] == true) {
        s += "1";
      } else {
        s += "0";
      }
    }
    this.setByBinaryString(s);
  };
  this.newFalseArray = function(nLength) {
    var a = new Array(nLength);
    for (var i = 0; i < nLength; i++) {
      a[i] = false;
    }
    return a;
  };
  this.getFreshValueHex = function() {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params == "string" && params.toLowerCase().match(/^[0-9a-f]+$/)) {
      this.setHexValueIncludingUnusedBits(params);
    } else if (typeof params["hex"] != "undefined") {
      this.setHexValueIncludingUnusedBits(params["hex"]);
    } else if (typeof params["bin"] != "undefined") {
      this.setByBinaryString(params["bin"]);
    } else if (typeof params["array"] != "undefined") {
      this.setByBooleanArray(params["array"]);
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERBitString, KJUR.asn1.ASN1Object);
KJUR.asn1.DEROctetString = function(params) {
  if (params !== void 0 && typeof params.obj !== "undefined") {
    var o = KJUR.asn1.ASN1Util.newObject(params.obj);
    params.hex = o.getEncodedHex();
  }
  KJUR.asn1.DEROctetString.superclass.constructor.call(this, params);
  this.hT = "04";
};
YAHOO.lang.extend(KJUR.asn1.DEROctetString, KJUR.asn1.DERAbstractString);
KJUR.asn1.DERNull = function() {
  KJUR.asn1.DERNull.superclass.constructor.call(this);
  this.hT = "05";
  this.hTLV = "0500";
};
YAHOO.lang.extend(KJUR.asn1.DERNull, KJUR.asn1.ASN1Object);
KJUR.asn1.DERObjectIdentifier = function(params) {
  var itox = function(i) {
    var h = i.toString(16);
    if (h.length == 1)
      h = "0" + h;
    return h;
  };
  var roidtox = function(roid) {
    var h = "";
    var bi = new BigInteger(roid, 10);
    var b = bi.toString(2);
    var padLen = 7 - b.length % 7;
    if (padLen == 7)
      padLen = 0;
    var bPad = "";
    for (var i = 0; i < padLen; i++)
      bPad += "0";
    b = bPad + b;
    for (var i = 0; i < b.length - 1; i += 7) {
      var b8 = b.substr(i, 7);
      if (i != b.length - 7)
        b8 = "1" + b8;
      h += itox(parseInt(b8, 2));
    }
    return h;
  };
  KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);
  this.hT = "06";
  this.setValueHex = function(newHexString) {
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = newHexString;
  };
  this.setValueOidString = function(oidString) {
    if (!oidString.match(/^[0-9.]+$/)) {
      throw "malformed oid string: " + oidString;
    }
    var h = "";
    var a = oidString.split(".");
    var i0 = parseInt(a[0]) * 40 + parseInt(a[1]);
    h += itox(i0);
    a.splice(0, 2);
    for (var i = 0; i < a.length; i++) {
      h += roidtox(a[i]);
    }
    this.hTLV = null;
    this.isModified = true;
    this.s = null;
    this.hV = h;
  };
  this.setValueName = function(oidName) {
    var oid = KJUR.asn1.x509.OID.name2oid(oidName);
    if (oid !== "") {
      this.setValueOidString(oid);
    } else {
      throw "DERObjectIdentifier oidName undefined: " + oidName;
    }
  };
  this.getFreshValueHex = function() {
    return this.hV;
  };
  if (params !== void 0) {
    if (typeof params === "string") {
      if (params.match(/^[0-2].[0-9.]+$/)) {
        this.setValueOidString(params);
      } else {
        this.setValueName(params);
      }
    } else if (params.oid !== void 0) {
      this.setValueOidString(params.oid);
    } else if (params.hex !== void 0) {
      this.setValueHex(params.hex);
    } else if (params.name !== void 0) {
      this.setValueName(params.name);
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier, KJUR.asn1.ASN1Object);
KJUR.asn1.DEREnumerated = function(params) {
  KJUR.asn1.DEREnumerated.superclass.constructor.call(this);
  this.hT = "0a";
  this.setByBigInteger = function(bigIntegerValue) {
    this.hTLV = null;
    this.isModified = true;
    this.hV = KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(bigIntegerValue);
  };
  this.setByInteger = function(intValue) {
    var bi = new BigInteger(String(intValue), 10);
    this.setByBigInteger(bi);
  };
  this.setValueHex = function(newHexString) {
    this.hV = newHexString;
  };
  this.getFreshValueHex = function() {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params["int"] != "undefined") {
      this.setByInteger(params["int"]);
    } else if (typeof params == "number") {
      this.setByInteger(params);
    } else if (typeof params["hex"] != "undefined") {
      this.setValueHex(params["hex"]);
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DEREnumerated, KJUR.asn1.ASN1Object);
KJUR.asn1.DERUTF8String = function(params) {
  KJUR.asn1.DERUTF8String.superclass.constructor.call(this, params);
  this.hT = "0c";
};
YAHOO.lang.extend(KJUR.asn1.DERUTF8String, KJUR.asn1.DERAbstractString);
KJUR.asn1.DERNumericString = function(params) {
  KJUR.asn1.DERNumericString.superclass.constructor.call(this, params);
  this.hT = "12";
};
YAHOO.lang.extend(KJUR.asn1.DERNumericString, KJUR.asn1.DERAbstractString);
KJUR.asn1.DERPrintableString = function(params) {
  KJUR.asn1.DERPrintableString.superclass.constructor.call(this, params);
  this.hT = "13";
};
YAHOO.lang.extend(KJUR.asn1.DERPrintableString, KJUR.asn1.DERAbstractString);
KJUR.asn1.DERTeletexString = function(params) {
  KJUR.asn1.DERTeletexString.superclass.constructor.call(this, params);
  this.hT = "14";
};
YAHOO.lang.extend(KJUR.asn1.DERTeletexString, KJUR.asn1.DERAbstractString);
KJUR.asn1.DERIA5String = function(params) {
  KJUR.asn1.DERIA5String.superclass.constructor.call(this, params);
  this.hT = "16";
};
YAHOO.lang.extend(KJUR.asn1.DERIA5String, KJUR.asn1.DERAbstractString);
KJUR.asn1.DERUTCTime = function(params) {
  KJUR.asn1.DERUTCTime.superclass.constructor.call(this, params);
  this.hT = "17";
  this.setByDate = function(dateObject) {
    this.hTLV = null;
    this.isModified = true;
    this.date = dateObject;
    this.s = this.formatDate(this.date, "utc");
    this.hV = stohex(this.s);
  };
  this.getFreshValueHex = function() {
    if (typeof this.date == "undefined" && typeof this.s == "undefined") {
      this.date = /* @__PURE__ */ new Date();
      this.s = this.formatDate(this.date, "utc");
      this.hV = stohex(this.s);
    }
    return this.hV;
  };
  if (params !== void 0) {
    if (params.str !== void 0) {
      this.setString(params.str);
    } else if (typeof params == "string" && params.match(/^[0-9]{12}Z$/)) {
      this.setString(params);
    } else if (params.hex !== void 0) {
      this.setStringHex(params.hex);
    } else if (params.date !== void 0) {
      this.setByDate(params.date);
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERUTCTime, KJUR.asn1.DERAbstractTime);
KJUR.asn1.DERGeneralizedTime = function(params) {
  KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this, params);
  this.hT = "18";
  this.withMillis = false;
  this.setByDate = function(dateObject) {
    this.hTLV = null;
    this.isModified = true;
    this.date = dateObject;
    this.s = this.formatDate(this.date, "gen", this.withMillis);
    this.hV = stohex(this.s);
  };
  this.getFreshValueHex = function() {
    if (this.date === void 0 && this.s === void 0) {
      this.date = /* @__PURE__ */ new Date();
      this.s = this.formatDate(this.date, "gen", this.withMillis);
      this.hV = stohex(this.s);
    }
    return this.hV;
  };
  if (params !== void 0) {
    if (params.str !== void 0) {
      this.setString(params.str);
    } else if (typeof params == "string" && params.match(/^[0-9]{14}Z$/)) {
      this.setString(params);
    } else if (params.hex !== void 0) {
      this.setStringHex(params.hex);
    } else if (params.date !== void 0) {
      this.setByDate(params.date);
    }
    if (params.millis === true) {
      this.withMillis = true;
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime, KJUR.asn1.DERAbstractTime);
KJUR.asn1.DERSequence = function(params) {
  KJUR.asn1.DERSequence.superclass.constructor.call(this, params);
  this.hT = "30";
  this.getFreshValueHex = function() {
    var h = "";
    for (var i = 0; i < this.asn1Array.length; i++) {
      var asn1Obj = this.asn1Array[i];
      h += asn1Obj.getEncodedHex();
    }
    this.hV = h;
    return this.hV;
  };
};
YAHOO.lang.extend(KJUR.asn1.DERSequence, KJUR.asn1.DERAbstractStructured);
KJUR.asn1.DERSet = function(params) {
  KJUR.asn1.DERSet.superclass.constructor.call(this, params);
  this.hT = "31";
  this.sortFlag = true;
  this.getFreshValueHex = function() {
    var a = new Array();
    for (var i = 0; i < this.asn1Array.length; i++) {
      var asn1Obj = this.asn1Array[i];
      a.push(asn1Obj.getEncodedHex());
    }
    if (this.sortFlag == true)
      a.sort();
    this.hV = a.join("");
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params.sortflag != "undefined" && params.sortflag == false)
      this.sortFlag = false;
  }
};
YAHOO.lang.extend(KJUR.asn1.DERSet, KJUR.asn1.DERAbstractStructured);
KJUR.asn1.DERTaggedObject = function(params) {
  KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);
  this.hT = "a0";
  this.hV = "";
  this.isExplicit = true;
  this.asn1Object = null;
  this.setASN1Object = function(isExplicitFlag, tagNoHex, asn1Object) {
    this.hT = tagNoHex;
    this.isExplicit = isExplicitFlag;
    this.asn1Object = asn1Object;
    if (this.isExplicit) {
      this.hV = this.asn1Object.getEncodedHex();
      this.hTLV = null;
      this.isModified = true;
    } else {
      this.hV = null;
      this.hTLV = asn1Object.getEncodedHex();
      this.hTLV = this.hTLV.replace(/^../, tagNoHex);
      this.isModified = false;
    }
  };
  this.getFreshValueHex = function() {
    return this.hV;
  };
  if (typeof params != "undefined") {
    if (typeof params["tag"] != "undefined") {
      this.hT = params["tag"];
    }
    if (typeof params["explicit"] != "undefined") {
      this.isExplicit = params["explicit"];
    }
    if (typeof params["obj"] != "undefined") {
      this.asn1Object = params["obj"];
      this.setASN1Object(this.isExplicit, this.hT, this.asn1Object);
    }
  }
};
YAHOO.lang.extend(KJUR.asn1.DERTaggedObject, KJUR.asn1.ASN1Object);
__extends(JSEncryptRSAKey, RSAKey);
function JSEncryptRSAKey(key) {
  var _this = RSAKey.call(this) || this;
  if (key) {
    if (typeof key === "string") {
      _this.parseKey(key);
    } else if (JSEncryptRSAKey.hasPrivateKeyProperty(key) || JSEncryptRSAKey.hasPublicKeyProperty(key)) {
      _this.parsePropertiesFrom(key);
    }
  }
  return _this;
}
JSEncryptRSAKey.prototype.parseKey = function(pem) {
  try {
    var modulus = 0;
    var public_exponent = 0;
    var reHex = /^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/;
    var der = reHex.test(pem) ? Hex.decode(pem) : Base64.unarmor(pem);
    var asn1 = ASN1.decode(der);
    if (asn1.sub.length === 3) {
      asn1 = asn1.sub[2].sub[0];
    }
    if (asn1.sub.length === 9) {
      modulus = asn1.sub[1].getHexStringValue();
      this.n = parseBigInt(modulus, 16);
      public_exponent = asn1.sub[2].getHexStringValue();
      this.e = parseInt(public_exponent, 16);
      var private_exponent = asn1.sub[3].getHexStringValue();
      this.d = parseBigInt(private_exponent, 16);
      var prime1 = asn1.sub[4].getHexStringValue();
      this.p = parseBigInt(prime1, 16);
      var prime2 = asn1.sub[5].getHexStringValue();
      this.q = parseBigInt(prime2, 16);
      var exponent1 = asn1.sub[6].getHexStringValue();
      this.dmp1 = parseBigInt(exponent1, 16);
      var exponent2 = asn1.sub[7].getHexStringValue();
      this.dmq1 = parseBigInt(exponent2, 16);
      var coefficient = asn1.sub[8].getHexStringValue();
      this.coeff = parseBigInt(coefficient, 16);
    } else if (asn1.sub.length === 2) {
      var bit_string = asn1.sub[1];
      var sequence = bit_string.sub[0];
      modulus = sequence.sub[0].getHexStringValue();
      this.n = parseBigInt(modulus, 16);
      public_exponent = sequence.sub[1].getHexStringValue();
      this.e = parseInt(public_exponent, 16);
    } else {
      return false;
    }
    return true;
  } catch (ex) {
    return false;
  }
};
JSEncryptRSAKey.prototype.getPrivateBaseKey = function() {
  var options = {
    array: [new KJUR.asn1.DERInteger({
      int: 0
    }), new KJUR.asn1.DERInteger({
      bigint: this.n
    }), new KJUR.asn1.DERInteger({
      int: this.e
    }), new KJUR.asn1.DERInteger({
      bigint: this.d
    }), new KJUR.asn1.DERInteger({
      bigint: this.p
    }), new KJUR.asn1.DERInteger({
      bigint: this.q
    }), new KJUR.asn1.DERInteger({
      bigint: this.dmp1
    }), new KJUR.asn1.DERInteger({
      bigint: this.dmq1
    }), new KJUR.asn1.DERInteger({
      bigint: this.coeff
    })]
  };
  var seq = new KJUR.asn1.DERSequence(options);
  return seq.getEncodedHex();
};
JSEncryptRSAKey.prototype.getPrivateBaseKeyB64 = function() {
  return hex2b64(this.getPrivateBaseKey());
};
JSEncryptRSAKey.prototype.getPublicBaseKey = function() {
  var first_sequence = new KJUR.asn1.DERSequence({
    array: [new KJUR.asn1.DERObjectIdentifier({
      oid: "1.2.840.113549.1.1.1"
    }), new KJUR.asn1.DERNull()]
  });
  var second_sequence = new KJUR.asn1.DERSequence({
    array: [new KJUR.asn1.DERInteger({
      bigint: this.n
    }), new KJUR.asn1.DERInteger({
      int: this.e
    })]
  });
  var bit_string = new KJUR.asn1.DERBitString({
    hex: "00" + second_sequence.getEncodedHex()
  });
  var seq = new KJUR.asn1.DERSequence({
    array: [first_sequence, bit_string]
  });
  return seq.getEncodedHex();
};
JSEncryptRSAKey.prototype.getPublicBaseKeyB64 = function() {
  return hex2b64(this.getPublicBaseKey());
};
JSEncryptRSAKey.wordwrap = function(str, width) {
  width = width || 64;
  if (!str) {
    return str;
  }
  var regex = "(.{1," + width + "})( +|$\n?)|(.{1," + width + "})";
  return str.match(RegExp(regex, "g")).join("\n");
};
JSEncryptRSAKey.prototype.getPrivateKey = function() {
  var key = "-----BEGIN RSA PRIVATE KEY-----\n";
  key += JSEncryptRSAKey.wordwrap(this.getPrivateBaseKeyB64()) + "\n";
  key += "-----END RSA PRIVATE KEY-----";
  return key;
};
JSEncryptRSAKey.prototype.getPublicKey = function() {
  var key = "-----BEGIN PUBLIC KEY-----\n";
  key += JSEncryptRSAKey.wordwrap(this.getPublicBaseKeyB64()) + "\n";
  key += "-----END PUBLIC KEY-----";
  return key;
};
JSEncryptRSAKey.hasPublicKeyProperty = function(obj) {
  obj = obj || {};
  return obj.hasOwnProperty("n") && obj.hasOwnProperty("e");
};
JSEncryptRSAKey.hasPrivateKeyProperty = function(obj) {
  obj = obj || {};
  return obj.hasOwnProperty("n") && obj.hasOwnProperty("e") && obj.hasOwnProperty("d") && obj.hasOwnProperty("p") && obj.hasOwnProperty("q") && obj.hasOwnProperty("dmp1") && obj.hasOwnProperty("dmq1") && obj.hasOwnProperty("coeff");
};
JSEncryptRSAKey.prototype.parsePropertiesFrom = function(obj) {
  this.n = obj.n;
  this.e = obj.e;
  if (obj.hasOwnProperty("d")) {
    this.d = obj.d;
    this.p = obj.p;
    this.q = obj.q;
    this.dmp1 = obj.dmp1;
    this.dmq1 = obj.dmq1;
    this.coeff = obj.coeff;
  }
};
function JSEncrypt(options) {
  options = options || {};
  this.default_key_size = parseInt(options.default_key_size, 10) || 1024;
  this.default_public_exponent = options.default_public_exponent || "010001";
  this.log = options.log || false;
  this.key = null;
}
JSEncrypt.prototype.setKey = function(key) {
  if (this.log && this.key) {
    console.warn("A key was already set, overriding existing.");
  }
  this.key = new JSEncryptRSAKey(key);
};
JSEncrypt.prototype.setPrivateKey = function(privkey) {
  this.setKey(privkey);
};
JSEncrypt.prototype.setPublicKey = function(pubkey) {
  this.setKey(pubkey);
};
JSEncrypt.prototype.decrypt = function(str) {
  try {
    return this.getKey().decrypt(b64tohex(str));
  } catch (ex) {
    return false;
  }
};
JSEncrypt.prototype.encrypt = function(str) {
  try {
    return hex2b64(this.getKey().encrypt(str));
  } catch (ex) {
    return false;
  }
};
JSEncrypt.prototype.sign = function(str, digestMethod, digestName) {
  try {
    return hex2b64(this.getKey().sign(str, digestMethod, digestName));
  } catch (ex) {
    return false;
  }
};
JSEncrypt.prototype.verify = function(str, signature, digestMethod) {
  try {
    return this.getKey().verify(str, b64tohex(signature), digestMethod);
  } catch (ex) {
    return false;
  }
};
JSEncrypt.prototype.getKey = function(cb) {
  if (!this.key) {
    this.key = new JSEncryptRSAKey();
    if (cb && {}.toString.call(cb) === "[object Function]") {
      this.key.generateAsync(this.default_key_size, this.default_public_exponent, cb);
      return;
    }
    this.key.generate(this.default_key_size, this.default_public_exponent);
  }
  return this.key;
};
JSEncrypt.prototype.getPrivateKey = function() {
  return this.getKey().getPrivateKey();
};
JSEncrypt.prototype.getPrivateKeyB64 = function() {
  return this.getKey().getPrivateBaseKeyB64();
};
JSEncrypt.prototype.getPublicKey = function() {
  return this.getKey().getPublicKey();
};
JSEncrypt.prototype.getPublicKeyB64 = function() {
  return this.getKey().getPublicBaseKeyB64();
};
JSEncrypt.version = "3.0.0-rc.1";

// node_modules/authing-js-sdk/build/module/lib/sm-crypto/sm2/index.js
var import_jsbn4 = __toESM(require_jsbn());

// node_modules/authing-js-sdk/build/module/lib/sm-crypto/sm2/asn1.js
var import_jsbn = __toESM(require_jsbn());
var __extends2 = /* @__PURE__ */ function() {
  var extendStatics2 = function(d, b) {
    extendStatics2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2) if (Object.prototype.hasOwnProperty.call(b2, p)) d2[p] = b2[p];
    };
    return extendStatics2(d, b);
  };
  return function(d, b) {
    if (typeof b !== "function" && b !== null)
      throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics2(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
function bigintToValue(bigint) {
  var h = bigint.toString(16);
  if (h[0] !== "-") {
    if (h.length % 2 === 1)
      h = "0" + h;
    else if (!h.match(/^[0-7]/))
      h = "00" + h;
  } else {
    h = h.substr(1);
    var len = h.length;
    if (len % 2 === 1)
      len += 1;
    else if (!h.match(/^[0-7]/))
      len += 2;
    var mask = "";
    for (var i = 0; i < len; i++)
      mask += "f";
    mask = new import_jsbn.BigInteger(mask, 16);
    h = mask.xor(bigint).add(import_jsbn.BigInteger.ONE);
    h = h.toString(16).replace(/^-/, "");
  }
  return h;
}
var ASN1Object = (
  /** @class */
  function() {
    function ASN1Object2() {
      this.tlv = null;
      this.t = "00";
      this.l = "00";
      this.v = "";
    }
    ASN1Object2.prototype.getEncodedHex = function() {
      if (!this.tlv) {
        this.v = this.getValue();
        this.l = this.getLength();
        this.tlv = this.t + this.l + this.v;
      }
      return this.tlv;
    };
    ASN1Object2.prototype.getLength = function() {
      var n3 = this.v.length / 2;
      var nHex = n3.toString(16);
      if (nHex.length % 2 === 1)
        nHex = "0" + nHex;
      if (n3 < 128) {
        return nHex;
      } else {
        var head = 128 + nHex.length / 2;
        return head.toString(16) + nHex;
      }
    };
    ASN1Object2.prototype.getValue = function() {
      return "";
    };
    return ASN1Object2;
  }()
);
var DERInteger = (
  /** @class */
  function(_super) {
    __extends2(DERInteger2, _super);
    function DERInteger2(bigint) {
      var _this = _super.call(this) || this;
      _this.t = "02";
      if (bigint)
        _this.v = bigintToValue(bigint);
      return _this;
    }
    DERInteger2.prototype.getValue = function() {
      return this.v;
    };
    return DERInteger2;
  }(ASN1Object)
);
var DERSequence = (
  /** @class */
  function(_super) {
    __extends2(DERSequence2, _super);
    function DERSequence2(asn1Array) {
      var _this = _super.call(this) || this;
      _this.t = "30";
      _this.asn1Array = asn1Array;
      return _this;
    }
    DERSequence2.prototype.getValue = function() {
      this.v = this.asn1Array.map(function(asn1Object) {
        return asn1Object.getEncodedHex();
      }).join("");
      return this.v;
    };
    return DERSequence2;
  }(ASN1Object)
);

// node_modules/authing-js-sdk/build/module/lib/sm-crypto/sm2/ec.js
var import_jsbn2 = __toESM(require_jsbn());
var THREE = new import_jsbn2.BigInteger("3");
var ECFieldElementFp = (
  /** @class */
  function() {
    function ECFieldElementFp2(q, x) {
      this.x = x;
      this.q = q;
    }
    ECFieldElementFp2.prototype.equals = function(other) {
      if (other === this)
        return true;
      return this.q.equals(other.q) && this.x.equals(other.x);
    };
    ECFieldElementFp2.prototype.toBigInteger = function() {
      return this.x;
    };
    ECFieldElementFp2.prototype.negate = function() {
      return new ECFieldElementFp2(this.q, this.x.negate().mod(this.q));
    };
    ECFieldElementFp2.prototype.add = function(b) {
      return new ECFieldElementFp2(this.q, this.x.add(b.toBigInteger()).mod(this.q));
    };
    ECFieldElementFp2.prototype.subtract = function(b) {
      return new ECFieldElementFp2(this.q, this.x.subtract(b.toBigInteger()).mod(this.q));
    };
    ECFieldElementFp2.prototype.multiply = function(b) {
      return new ECFieldElementFp2(this.q, this.x.multiply(b.toBigInteger()).mod(this.q));
    };
    ECFieldElementFp2.prototype.divide = function(b) {
      return new ECFieldElementFp2(this.q, this.x.multiply(b.toBigInteger().modInverse(this.q)).mod(this.q));
    };
    ECFieldElementFp2.prototype.square = function() {
      return new ECFieldElementFp2(this.q, this.x.square().mod(this.q));
    };
    return ECFieldElementFp2;
  }()
);
var ECPointFp = (
  /** @class */
  function() {
    function ECPointFp2(curve3, x, y, z) {
      this.curve = curve3;
      this.x = x;
      this.y = y;
      this.z = z == null ? import_jsbn2.BigInteger.ONE : z;
      this.zinv = null;
    }
    ECPointFp2.prototype.getX = function() {
      if (this.zinv === null)
        this.zinv = this.z.modInverse(this.curve.q);
      return this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q));
    };
    ECPointFp2.prototype.getY = function() {
      if (this.zinv === null)
        this.zinv = this.z.modInverse(this.curve.q);
      return this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q));
    };
    ECPointFp2.prototype.equals = function(other) {
      if (other === this)
        return true;
      if (this.isInfinity())
        return other.isInfinity();
      if (other.isInfinity())
        return this.isInfinity();
      var u = other.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(other.z)).mod(this.curve.q);
      if (!u.equals(import_jsbn2.BigInteger.ZERO))
        return false;
      var v = other.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(other.z)).mod(this.curve.q);
      return v.equals(import_jsbn2.BigInteger.ZERO);
    };
    ECPointFp2.prototype.isInfinity = function() {
      if (this.x === null && this.y === null)
        return true;
      return this.z.equals(import_jsbn2.BigInteger.ZERO) && !this.y.toBigInteger().equals(import_jsbn2.BigInteger.ZERO);
    };
    ECPointFp2.prototype.negate = function() {
      return new ECPointFp2(this.curve, this.x, this.y.negate(), this.z);
    };
    ECPointFp2.prototype.add = function(b) {
      if (this.isInfinity())
        return b;
      if (b.isInfinity())
        return this;
      var x1 = this.x.toBigInteger();
      var y1 = this.y.toBigInteger();
      var z1 = this.z;
      var x2 = b.x.toBigInteger();
      var y2 = b.y.toBigInteger();
      var z2 = b.z;
      var q = this.curve.q;
      var w1 = x1.multiply(z2).mod(q);
      var w2 = x2.multiply(z1).mod(q);
      var w3 = w1.subtract(w2);
      var w4 = y1.multiply(z2).mod(q);
      var w5 = y2.multiply(z1).mod(q);
      var w6 = w4.subtract(w5);
      if (import_jsbn2.BigInteger.ZERO.equals(w3)) {
        if (import_jsbn2.BigInteger.ZERO.equals(w6)) {
          return this.twice();
        }
        return this.curve.infinity;
      }
      var w7 = w1.add(w2);
      var w8 = z1.multiply(z2).mod(q);
      var w9 = w3.square().mod(q);
      var w10 = w3.multiply(w9).mod(q);
      var w11 = w8.multiply(w6.square()).subtract(w7.multiply(w9)).mod(q);
      var x3 = w3.multiply(w11).mod(q);
      var y3 = w6.multiply(w9.multiply(w1).subtract(w11)).subtract(w4.multiply(w10)).mod(q);
      var z3 = w10.multiply(w8).mod(q);
      return new ECPointFp2(this.curve, this.curve.fromBigInteger(x3), this.curve.fromBigInteger(y3), z3);
    };
    ECPointFp2.prototype.twice = function() {
      if (this.isInfinity())
        return this;
      if (!this.y.toBigInteger().signum())
        return this.curve.infinity;
      var x1 = this.x.toBigInteger();
      var y1 = this.y.toBigInteger();
      var z1 = this.z;
      var q = this.curve.q;
      var a = this.curve.a.toBigInteger();
      var w1 = x1.square().multiply(THREE).add(a.multiply(z1.square())).mod(q);
      var w2 = y1.shiftLeft(1).multiply(z1).mod(q);
      var w3 = y1.square().mod(q);
      var w4 = w3.multiply(x1).multiply(z1).mod(q);
      var w5 = w2.square().mod(q);
      var w6 = w1.square().subtract(w4.shiftLeft(3)).mod(q);
      var x3 = w2.multiply(w6).mod(q);
      var y3 = w1.multiply(w4.shiftLeft(2).subtract(w6)).subtract(w5.shiftLeft(1).multiply(w3)).mod(q);
      var z3 = w2.multiply(w5).mod(q);
      return new ECPointFp2(this.curve, this.curve.fromBigInteger(x3), this.curve.fromBigInteger(y3), z3);
    };
    ECPointFp2.prototype.multiply = function(k) {
      if (this.isInfinity())
        return this;
      if (!k.signum())
        return this.curve.infinity;
      var k3 = k.multiply(THREE);
      var neg = this.negate();
      var Q = this;
      for (var i = k3.bitLength() - 2; i > 0; i--) {
        Q = Q.twice();
        var k3Bit = k3.testBit(i);
        var kBit = k.testBit(i);
        if (k3Bit !== kBit) {
          Q = Q.add(k3Bit ? this : neg);
        }
      }
      return Q;
    };
    return ECPointFp2;
  }()
);
var ECCurveFp = (
  /** @class */
  function() {
    function ECCurveFp2(q, a, b) {
      this.q = q;
      this.a = this.fromBigInteger(a);
      this.b = this.fromBigInteger(b);
      this.infinity = new ECPointFp(this, null, null);
    }
    ECCurveFp2.prototype.equals = function(other) {
      if (other === this)
        return true;
      return this.q.equals(other.q) && this.a.equals(other.a) && this.b.equals(other.b);
    };
    ECCurveFp2.prototype.fromBigInteger = function(x) {
      return new ECFieldElementFp(this.q, x);
    };
    ECCurveFp2.prototype.decodePointHex = function(s) {
      switch (parseInt(s.substr(0, 2), 16)) {
        // 
        case 0:
          return this.infinity;
        case 2:
        case 3:
          return null;
        case 4:
        case 6:
        case 7:
          var len = (s.length - 2) / 2;
          var xHex = s.substr(2, len);
          var yHex = s.substr(len + 2, len);
          return new ECPointFp(this, this.fromBigInteger(new import_jsbn2.BigInteger(xHex, 16)), this.fromBigInteger(new import_jsbn2.BigInteger(yHex, 16)));
        default:
          return null;
      }
    };
    return ECCurveFp2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/sm-crypto/sm2/utils.js
var import_jsbn3 = __toESM(require_jsbn());
var rng = new import_jsbn3.SecureRandom();
var _a = generateEcparam();
var curve = _a.curve;
var G = _a.G;
var n = _a.n;
function getGlobalCurve() {
  return curve;
}
function generateEcparam() {
  var p = new import_jsbn3.BigInteger("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF", 16);
  var a = new import_jsbn3.BigInteger("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC", 16);
  var b = new import_jsbn3.BigInteger("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93", 16);
  var curve3 = new ECCurveFp(p, a, b);
  var gxHex = "32C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7";
  var gyHex = "BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0";
  var G3 = curve3.decodePointHex("04" + gxHex + gyHex);
  var n3 = new import_jsbn3.BigInteger("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123", 16);
  return { curve: curve3, G: G3, n: n3 };
}
function generateKeyPairHex(a, b, c) {
  var random = a ? new import_jsbn3.BigInteger(a, b, c) : new import_jsbn3.BigInteger(n.bitLength(), rng);
  var d = random.mod(n.subtract(import_jsbn3.BigInteger.ONE)).add(import_jsbn3.BigInteger.ONE);
  var privateKey = leftPad(d.toString(16), 64);
  var P = G.multiply(d);
  var Px = leftPad(P.getX().toBigInteger().toString(16), 64);
  var Py = leftPad(P.getY().toBigInteger().toString(16), 64);
  var publicKey = "04" + Px + Py;
  return { privateKey, publicKey };
}
function utf8ToHex(input) {
  input = unescape(encodeURIComponent(input));
  var length = input.length;
  var words = [];
  for (var i = 0; i < length; i++) {
    words[i >>> 2] |= (input.charCodeAt(i) & 255) << 24 - i % 4 * 8;
  }
  var hexChars = [];
  for (var i = 0; i < length; i++) {
    var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 255;
    hexChars.push((bite >>> 4).toString(16));
    hexChars.push((bite & 15).toString(16));
  }
  return hexChars.join("");
}
function leftPad(input, num) {
  if (input.length >= num)
    return input;
  return new Array(num - input.length + 1).join("0") + input;
}
function arrayToHex(arr) {
  return arr.map(function(item) {
    item = item.toString(16);
    return item.length === 1 ? "0" + item : item;
  }).join("");
}
function hexToArray(hexStr) {
  var words = [];
  var hexStrLength = hexStr.length;
  if (hexStrLength % 2 !== 0) {
    hexStr = leftPad(hexStr, hexStrLength + 1);
  }
  hexStrLength = hexStr.length;
  for (var i = 0; i < hexStrLength; i += 2) {
    words.push(parseInt(hexStr.substr(i, 2), 16));
  }
  return words;
}

// node_modules/authing-js-sdk/build/module/lib/sm-crypto/sm2/sm3.js
function rotl(x, n3) {
  var result = [];
  var a = ~~(n3 / 8);
  var b = n3 % 8;
  for (var i = 0, len = x.length; i < len; i++) {
    result[i] = (x[(i + a) % len] << b & 255) + (x[(i + a + 1) % len] >>> 8 - b & 255);
  }
  return result;
}
function xor(x, y) {
  var result = [];
  for (var i = x.length - 1; i >= 0; i--)
    result[i] = (x[i] ^ y[i]) & 255;
  return result;
}
function and(x, y) {
  var result = [];
  for (var i = x.length - 1; i >= 0; i--)
    result[i] = x[i] & y[i] & 255;
  return result;
}
function or(x, y) {
  var result = [];
  for (var i = x.length - 1; i >= 0; i--)
    result[i] = (x[i] | y[i]) & 255;
  return result;
}
function add(x, y) {
  var result = [];
  var temp = 0;
  for (var i = x.length - 1; i >= 0; i--) {
    var sum = x[i] + y[i] + temp;
    if (sum > 255) {
      temp = 1;
      result[i] = sum & 255;
    } else {
      temp = 0;
      result[i] = sum & 255;
    }
  }
  return result;
}
function not(x) {
  var result = [];
  for (var i = x.length - 1; i >= 0; i--)
    result[i] = ~x[i] & 255;
  return result;
}
function P0(X) {
  return xor(xor(X, rotl(X, 9)), rotl(X, 17));
}
function P1(X) {
  return xor(xor(X, rotl(X, 15)), rotl(X, 23));
}
function FF(X, Y, Z, j) {
  return j >= 0 && j <= 15 ? xor(xor(X, Y), Z) : or(or(and(X, Y), and(X, Z)), and(Y, Z));
}
function GG(X, Y, Z, j) {
  return j >= 0 && j <= 15 ? xor(xor(X, Y), Z) : or(and(X, Y), and(not(X), Z));
}
function CF(V, Bi) {
  var W = [];
  var M2 = [];
  for (var i = 0; i < 16; i++) {
    var start = i * 4;
    W.push(Bi.slice(start, start + 4));
  }
  for (var j = 16; j < 68; j++) {
    W.push(xor(xor(P1(xor(xor(W[j - 16], W[j - 9]), rotl(W[j - 3], 15))), rotl(W[j - 13], 7)), W[j - 6]));
  }
  for (var j = 0; j < 64; j++) {
    M2.push(xor(W[j], W[j + 4]));
  }
  var T1 = [121, 204, 69, 25];
  var T2 = [122, 135, 157, 138];
  var A = V.slice(0, 4);
  var B = V.slice(4, 8);
  var C = V.slice(8, 12);
  var D = V.slice(12, 16);
  var E = V.slice(16, 20);
  var F = V.slice(20, 24);
  var G3 = V.slice(24, 28);
  var H = V.slice(28, 32);
  var SS1;
  var SS2;
  var TT1;
  var TT2;
  for (var j = 0; j < 64; j++) {
    var T = j >= 0 && j <= 15 ? T1 : T2;
    SS1 = rotl(add(add(rotl(A, 12), E), rotl(T, j)), 7);
    SS2 = xor(SS1, rotl(A, 12));
    TT1 = add(add(add(FF(A, B, C, j), D), SS2), M2[j]);
    TT2 = add(add(add(GG(E, F, G3, j), H), SS1), W[j]);
    D = C;
    C = rotl(B, 9);
    B = A;
    A = TT1;
    H = G3;
    G3 = rotl(F, 19);
    F = E;
    E = P0(TT2);
  }
  return xor([].concat(A, B, C, D, E, F, G3, H), V);
}
function sm3(array) {
  var len = array.length * 8;
  var k = len % 512;
  k = k >= 448 ? 512 - k % 448 - 1 : 448 - k - 1;
  var kArr = new Array((k - 7) / 8);
  for (var i = 0, len_1 = kArr.length; i < len_1; i++)
    kArr[i] = 0;
  var lenArr = [];
  len = len.toString(2);
  for (var i = 7; i >= 0; i--) {
    if (len.length > 8) {
      var start = len.length - 8;
      lenArr[i] = parseInt(len.substr(start), 2);
      len = len.substr(0, start);
    } else if (len.length > 0) {
      lenArr[i] = parseInt(len, 2);
      len = "";
    } else {
      lenArr[i] = 0;
    }
  }
  var m = [].concat(array, [128], kArr, lenArr);
  var n3 = m.length / 64;
  var V = [115, 128, 22, 111, 73, 20, 178, 185, 23, 36, 66, 215, 218, 138, 6, 0, 169, 111, 48, 188, 22, 49, 56, 170, 227, 141, 238, 77, 176, 251, 14, 78];
  for (var i = 0; i < n3; i++) {
    var start = 64 * i;
    var B = m.slice(start, start + 64);
    V = CF(V, B);
  }
  return V;
}

// node_modules/authing-js-sdk/build/module/lib/sm-crypto/sm2/index.js
var __spreadArray2 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
    if (ar || !(i in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i);
      ar[i] = from[i];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var _a2 = generateEcparam();
var G2 = _a2.G;
var curve2 = _a2.curve;
var n2 = _a2.n;
var C1C2C3 = 0;
function doEncrypt(msg, publicKey, cipherMode) {
  if (cipherMode === void 0) {
    cipherMode = 1;
  }
  msg = typeof msg === "string" ? hexToArray(utf8ToHex(msg)) : Array.prototype.slice.call(msg);
  publicKey = getGlobalCurve().decodePointHex(publicKey);
  var keypair = generateKeyPairHex();
  var k = new import_jsbn4.BigInteger(keypair.privateKey, 16);
  var c1 = keypair.publicKey;
  if (c1.length > 128)
    c1 = c1.substr(c1.length - 128);
  var p = publicKey.multiply(k);
  var x2 = hexToArray(leftPad(p.getX().toBigInteger().toRadix(16), 64));
  var y2 = hexToArray(leftPad(p.getY().toBigInteger().toRadix(16), 64));
  var c3 = arrayToHex(sm3([].concat(x2, msg, y2)));
  var ct = 1;
  var offset = 0;
  var t = [];
  var z = [].concat(x2, y2);
  var nextT = function() {
    t = sm3(__spreadArray2(__spreadArray2([], z, true), [
      ct >> 24 & 255,
      ct >> 16 & 255,
      ct >> 8 & 255,
      ct & 255
    ], false));
    ct++;
    offset = 0;
  };
  nextT();
  for (var i = 0, len = msg.length; i < len; i++) {
    if (offset === t.length)
      nextT();
    msg[i] ^= t[offset++] & 255;
  }
  var c2 = arrayToHex(msg);
  return cipherMode === C1C2C3 ? c1 + c2 + c3 : c1 + c3 + c2;
}

// node_modules/authing-js-sdk/build/module/lib/browserInfo.js
var __awaiter2 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator2 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var BrowserInfoFun = function() {
  return __awaiter2(void 0, void 0, void 0, function() {
    var _a3, pluginCount, pluginList;
    return __generator2(this, function(_b) {
      switch (_b.label) {
        case 0:
          return [4, getInstalledPlugins()];
        case 1:
          _a3 = _b.sent(), pluginCount = _a3.pluginCount, pluginList = _a3.pluginList;
          return [2, {
            //
            os: getUserOsInfo(),
            //
            version: getBrowserVersion(),
            //
            appCodeName: getAppCodeName(),
            //
            vendor: getBrowserVendor(),
            //
            screenHeight: getScreenHeight(),
            //
            screenWidth: getScreenWidth(),
            //
            colorDepth: getScreenColorDepth(),
            //
            product: getBrowserProduct(),
            //
            language: navigator.language,
            //
            onLine: getBrowserOnline(),
            //MIME
            mimeTypes: getBrowserMimeTypes(),
            //MIME
            mimeTypesLength: getBrowserMimeTypesLength(),
            //
            productSub: getBrowserProductSub(),
            //cookie
            cookie: getBrowserCookieEnabled(),
            //
            pluginsLength: pluginCount,
            //
            plugins: pluginList,
            // userAgent
            userAgent: navigator.userAgent,
            //
            type: "Browser"
          }];
      }
    });
  });
};
function getBrowserMimeTypes() {
  var mimeTypes = navigator.mimeTypes;
  var supportedTypes = [];
  for (var i = 0; i < mimeTypes.length; i++) {
    var mimeType = mimeTypes[i];
    supportedTypes.push({
      type: mimeType.type,
      description: mimeType.description,
      suffixes: mimeType.suffixes
    });
  }
  return JSON.stringify(supportedTypes);
}
function getBrowserMimeTypesLength() {
  if (navigator.mimeTypes.length) {
    return navigator.mimeTypes.length;
  }
  return 0;
}
function getBrowserCookieEnabled() {
  if (navigator.cookieEnabled) {
    return navigator.cookieEnabled;
  }
  document.cookie = "__testAuthingCookie=1";
  var cookieEnabled = document.cookie.indexOf("__testAuthingCookie=") !== -1;
  document.cookie = "__testAuthingCookie=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
  return cookieEnabled;
}
function getBrowserOnline() {
  if (navigator.onLine) {
    return navigator.onLine;
  }
  return true;
}
function getBrowserVendor() {
  var userAgent = navigator.userAgent;
  var browserVendor = "Unknown";
  if (userAgent.includes("Chrome")) {
    browserVendor = "Google";
  } else if (userAgent.includes("Firefox")) {
    browserVendor = "Mozilla";
  } else if (userAgent.includes("Trident") || userAgent.includes("MSIE")) {
    browserVendor = "Microsoft";
  } else if (userAgent.includes("Edge")) {
    browserVendor = "Microsoft (EdgeHTML)";
  } else if (userAgent.includes("Edg")) {
    browserVendor = "Microsoft (Chromium)";
  } else if (userAgent.includes("Safari")) {
    browserVendor = "Apple";
  }
  return browserVendor;
}
var getInstalledPlugins = function() {
  return new Promise(function(resolve) {
    return __awaiter2(void 0, void 0, void 0, function() {
      var fp, result, pluginCount, pluginList;
      return __generator2(this, function(_a3) {
        switch (_a3.label) {
          case 0:
            return [4, index.load()];
          case 1:
            fp = _a3.sent();
            return [4, fp.get()];
          case 2:
            result = _a3.sent();
            pluginCount = result.components.plugins.value.length;
            pluginList = result.components.plugins.value;
            resolve({ pluginCount, pluginList: JSON.stringify(pluginList) });
            return [
              2
              /*return*/
            ];
        }
      });
    });
  });
};
function getBrowserProduct() {
  var userAgent = navigator.userAgent;
  var browserProduct = "Unknown";
  if (userAgent.indexOf("Trident") !== -1) {
    browserProduct = "Trident";
  } else if (userAgent.indexOf("Gecko") !== -1 && userAgent.indexOf("KHTML") === -1) {
    browserProduct = "Gecko";
  } else if (userAgent.indexOf("WebKit") !== -1) {
    browserProduct = "WebKit";
  } else if (userAgent.indexOf("Blink") !== -1) {
    browserProduct = "Blink";
  }
  return browserProduct;
}
function getBrowserProductSub() {
  var userAgent = navigator.userAgent;
  if (userAgent.includes("Firefox")) {
    return "20030107";
  } else if (userAgent.includes("Chrome")) {
    return "20030107";
  } else if (userAgent.includes("Trident") || userAgent.includes("MSIE")) {
    return "20000101";
  } else {
    return "0";
  }
}
function getScreenColorDepth() {
  var colorDepth = window.screen.colorDepth || window.screen.pixelDepth;
  if (navigator.userAgent.indexOf("Chrome") !== -1) {
    return colorDepth * window.devicePixelRatio;
  } else if (navigator.userAgent.indexOf("Firefox") !== -1) {
    return colorDepth;
  } else if (navigator.userAgent.indexOf("Trident") !== -1) {
    return screen.deviceXDPI;
  } else {
    return colorDepth;
  }
}
function getScreenWidth() {
  var screenWidth = 0;
  if (typeof window.innerWidth === "number") {
    screenWidth = window.innerWidth;
  } else if (document.documentElement && document.documentElement.clientWidth) {
    screenWidth = document.documentElement.clientWidth;
  } else if (document.body && document.body.clientWidth) {
    screenWidth = document.body.clientWidth;
  }
  return screenWidth;
}
function getScreenHeight() {
  if (navigator.userAgent.indexOf("Chrome") !== -1) {
    return window.screen.height;
  } else if (navigator.userAgent.indexOf("Firefox") !== -1) {
    return window.screen.height;
  } else if (navigator.userAgent.indexOf("Trident") !== -1 || navigator.userAgent.indexOf("MSIE") !== -1) {
    return screen.height;
  } else {
    return window.innerHeight;
  }
}
function getUserOsInfo() {
  var userAgent = navigator.userAgent;
  if (userAgent.indexOf("Windows NT 10.0") !== -1)
    return "Windows 10";
  if (userAgent.indexOf("Windows NT 6.2") !== -1)
    return "Windows 8";
  if (userAgent.indexOf("Windows NT 6.1") !== -1)
    return "Windows 7";
  if (userAgent.indexOf("Windows NT 6.0") !== -1)
    return "Windows Vista";
  if (userAgent.indexOf("Windows NT 5.1") !== -1)
    return "Windows XP";
  if (userAgent.indexOf("Windows NT 5.0") !== -1)
    return "Windows 2000";
  if (userAgent.indexOf("Mac") !== -1)
    return "Mac OS";
  if (userAgent.indexOf("X11") !== -1)
    return "UNIX";
  if (userAgent.indexOf("Linux") !== -1)
    return "Linux";
  return "Other";
}
function getBrowserVersion() {
  var userAgent = navigator.userAgent;
  var version2 = "Unknown";
  if (/Chrome\/([\d.]+)/.test(userAgent)) {
    version2 = userAgent.match(/Chrome\/([\d.]+)/)[1];
  } else if (/Firefox\/([\d.]+)/.test(userAgent)) {
    version2 = userAgent.match(/Firefox\/([\d.]+)/)[1];
  } else if (/MSIE ([\d.]+)/.test(userAgent)) {
    version2 = userAgent.match(/MSIE ([\d.]+)/)[1];
  } else if (/Trident\/[\d](?:[\d.]+)?; rv:([0-9.]+)/.test(userAgent)) {
    version2 = userAgent.match(/Trident\/[\d](?:[\d.]+)?; rv:([0-9.]+)/)[1];
  }
  return version2;
}
function getAppCodeName() {
  var userAgent = navigator.userAgent;
  var browserCodeName = "Unknown";
  if (userAgent.indexOf("Chrome") !== -1) {
    browserCodeName = "Chrome";
  } else if (userAgent.indexOf("Firefox") !== -1) {
    browserCodeName = "Firefox";
  } else if (userAgent.indexOf("Safari") !== -1) {
    browserCodeName = "Safari";
  } else if (userAgent.indexOf("Edge") !== -1) {
    browserCodeName = "Edge";
  } else if (userAgent.indexOf("Trident") !== -1) {
    browserCodeName = "Internet Explorer";
  }
  return browserCodeName;
}
var handleFingerprint = function(localDeviceFingersObj) {
  var fingerObj = {
    userAgentFingerprint: localDeviceFingersObj.userAgent,
    audioFingerprint: localDeviceFingersObj.audio,
    canvasFingerprint: localDeviceFingersObj.canvas,
    screenResolutionFingerprint: localDeviceFingersObj.screenResolution,
    webglFingerprint: localDeviceFingersObj.webgl,
    fontsFingerprint: localDeviceFingersObj.fonts,
    pluginsFingerprint: localDeviceFingersObj.plugins
  };
  return fingerObj;
};
var getBrowserInfo = function() {
  var agent = navigator.userAgent.toLowerCase();
  var regStr_ie = /msie [\d.]+;/gi;
  var regStr_ff = /firefox\/[\d.]+/gi;
  var regStr_chrome = /chrome\/[\d.]+/gi;
  var regStr_Edg = /edg\/[\d.]+/gi;
  var regStr_saf = /safari\/[\d.]+/gi;
  var regStr_safVersion = /version\/[\d.]+/gi;
  if (agent.indexOf("msie") > 0) {
    return agent.match(regStr_ie);
  }
  if (agent.indexOf("firefox") > 0) {
    return agent.match(regStr_ff);
  }
  if (agent.indexOf("edg") > 0) {
    return agent.match(regStr_Edg);
  }
  if (agent.indexOf("chrome") > 0) {
    return agent.match(regStr_chrome);
  }
  if (agent.indexOf("safari") > 0 && agent.indexOf("chrome") < 0) {
    var bro = agent.match(regStr_saf)[0].split("/")[0];
    var ver = agent.match(regStr_safVersion)[0].split("/")[1];
    var user2 = bro + "/" + ver;
    return [user2];
  }
};
var getWebGLValues = function() {
  var canvas = document.createElement("canvas");
  var gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
  if (!gl) {
    return "";
  }
  var webGLValues = {
    // @ts-ignore
    renderer: gl.getParameter(gl.RENDERER),
    // @ts-ignore
    vendor: gl.getParameter(gl.VENDOR),
    // @ts-ignore
    version: gl.getParameter(gl.VERSION),
    // @ts-ignore
    shadingLanguageVersion: gl.getParameter(gl.SHADING_LANGUAGE_VERSION),
    // @ts-ignore
    maxVertexAttributes: gl.getParameter(gl.MAX_VERTEX_ATTRIBS),
    // @ts-ignore
    maxTextureSize: gl.getParameter(gl.MAX_TEXTURE_SIZE)
    // 
  };
  return webGLValues;
};

// node_modules/authing-js-sdk/build/module/lib/utils.js
var __awaiter3 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator3 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var encrypt = function(plainText, publicKey, encryption) {
  return __awaiter3(void 0, void 0, void 0, function() {
    return __generator3(this, function(_a3) {
      return [2, new Promise(function(resolve, reject) {
        if (encryption && (encryption === null || encryption === void 0 ? void 0 : encryption.type) === "sm2") {
          if (!encryption.publicKey) {
            throw new Error(": encryption.publicKey");
          }
          var encrypted_1 = doEncrypt(plainText, encryption.publicKey);
          return resolve("sm2:".concat(encrypted_1));
        }
        var jsencrypt = new JSEncrypt({});
        jsencrypt.setPublicKey(publicKey);
        var encrypted = jsencrypt.encrypt(plainText);
        if (encrypted !== false) {
          resolve(encrypted);
        } else {
          reject(encrypted);
        }
      })];
    });
  });
};
function buildTree(nodes) {
  var rootNodes = [nodes.find(function(x) {
    return x.root === true;
  })];
  var mapChildren = function(childId) {
    var node = nodes.find(function(x) {
      return x.id === childId;
    }) || null;
    if (Array.isArray(node.children) && node.children.length > 0) {
      node.children = node.children.map(mapChildren).filter(function(node2) {
        return node2 !== null;
      });
    }
    return node;
  };
  var tree = rootNodes.map(function(node) {
    node.children = node.children.map(mapChildren).filter(function(node2) {
      return node2 !== null;
    });
    return node;
  });
  return tree[0];
}
var popupCenter = function(url, _a3) {
  var _b = _a3 === void 0 ? { w: 585, h: 649 } : _a3, w = _b.w, h = _b.h;
  var dualScreenLeft = window.screenLeft !== void 0 ? window.screenLeft : window.screenX;
  var dualScreenTop = window.screenTop !== void 0 ? window.screenTop : window.screenY;
  var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;
  var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;
  var systemZoom = width / window.screen.availWidth;
  var left = (width - w) / 2 / systemZoom + dualScreenLeft;
  var top = (height - h) / 2 / systemZoom + dualScreenTop;
  var newWindow = window.open(url, "_blank", "\n      toolbar=no,\n      menubar=no,\n      scrollbars=no,\n      resizable=no,\n      location=no,\n      status=no\n      width=".concat(w / systemZoom, ",\n      height=").concat(h / systemZoom, ",\n      top=").concat(top, ",\n      left=").concat(left, "\n      "));
  newWindow === null || newWindow === void 0 ? void 0 : newWindow.focus();
  return newWindow;
};
var createCssClassStyleSheet = function(className, styleSheet) {
  var styleTag = document.createElement("style");
  var styleText = "\n    .".concat(className, " {\n      ").concat(styleSheet, "\n    }\n  ");
  var textNode = document.createTextNode(styleText);
  styleTag.appendChild(textNode);
  document.head.appendChild(styleTag);
};
var serialize = function(obj) {
  var str = [];
  for (var p in obj)
    if (obj.hasOwnProperty(p)) {
      if (obj[p] !== void 0) {
        str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
      }
    }
  return str.join("&");
};
var convertUdv = function(data) {
  for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
    var item = data_1[_i];
    var dataType = item.dataType, value = item.value;
    if (dataType === UdfDataType.Number) {
      item.value = JSON.parse(value);
    } else if (dataType === UdfDataType.Boolean) {
      item.value = JSON.parse(value);
    } else if (dataType === UdfDataType.Datetime) {
      item.value = new Date(parseInt(value));
    } else if (dataType === UdfDataType.Object) {
      item.value = JSON.parse(value);
    }
  }
  return data;
};
var isNumeric = function(str) {
  if (typeof str != "string")
    return false;
  return (
    // @ts-ignore
    !isNaN(str) && !isNaN(parseFloat(str))
  );
};
var convertUdvToKeyValuePair = function(data) {
  data = data || [];
  for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {
    var item = data_2[_i];
    var dataType = item.dataType, value = item.value;
    if (dataType === UdfDataType.Number) {
      item.value = JSON.parse(value);
    } else if (dataType === UdfDataType.Boolean) {
      item.value = JSON.parse(value);
    } else if (dataType === UdfDataType.Datetime) {
      item.value = isNumeric(value) ? new Date(parseInt(value)) : new Date(value);
    } else if (dataType === UdfDataType.Object) {
      item.value = JSON.parse(value);
    }
  }
  var ret = {};
  for (var _a3 = 0, data_3 = data; _a3 < data_3.length; _a3++) {
    var item = data_3[_a3];
    ret[item.key] = item.value;
  }
  return ret;
};
var isWechatBrowser = function() {
  return typeof navigator !== "undefined" && /MicroMessenger/i.test(navigator === null || navigator === void 0 ? void 0 : navigator.userAgent);
};
var isLarkBrowser = function() {
  return typeof navigator !== "undefined" && /Lark/i.test(navigator.userAgent);
};
var isMobileBrowser = function() {
  return isWechatBrowser() || isLarkBrowser();
};
var formatAuthorizedResources = function(resources) {
  return resources.map(function(resource) {
    for (var key in resource) {
      if (!resource[key]) {
        delete resource[key];
      }
    }
    return resource;
  });
};
function generateUidKey(number) {
  var map = [];
  for (var i = 97; i < 123; i++) {
    map.push(String.fromCharCode(i));
  }
  var arr = [];
  while (number--) {
    var rand = Math.floor(Math.random() * 16);
    arr.push(map[rand]);
  }
  return arr.join("");
}
var xhrUpload = function(file, url) {
  return new Promise(function(resolve, reject) {
    var formData = new FormData();
    formData.append("file", file, file instanceof Blob ? "personal.jpeg" : void 0);
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
      if (this.readyState === 4) {
        try {
          var res = JSON.parse(this.responseText);
          var code = res.code, message = res.message, data = res.data;
          if (code !== 200) {
            reject({
              code,
              message
            });
          }
          resolve(data);
        } catch (error) {
          var code = 500;
          var message = ", error = ".concat(error.message);
          reject({
            code,
            message
          });
        }
      }
    };
    xhr.open("POST", url);
    xhr.send(formData);
  });
};
function uploadFile(opts) {
  var url = opts.url, accept = opts.accept, multiple = opts.multiple;
  return new Promise(function(resolve, reject) {
    var inputElem = document.createElement("input");
    inputElem.type = "file";
    inputElem.accept = accept;
    inputElem.multiple = multiple;
    inputElem.onchange = function() {
      var files = inputElem.files;
      if (!multiple) {
        var file = files[0];
        xhrUpload(file, url).then(function(res) {
          return resolve(res);
        }).catch(function(error) {
          return reject(error);
        });
      } else {
        var promises = [];
        var i = 0;
        while (i < files.length) {
          promises.push(xhrUpload(files[i], url));
          i++;
        }
        Promise.all(promises).then(function(res) {
          return resolve(res);
        }).catch(function(error) {
          return reject(error);
        });
      }
    };
    inputElem.click();
  });
}
var convertObjectToKeyValueList = function(data) {
  var ret = [];
  for (var _i = 0, _a3 = Object.keys(data); _i < _a3.length; _i++) {
    var key = _a3[_i];
    ret.push({
      key,
      value: data[key]
    });
  }
  return ret;
};
var createFingerprint = function() {
  return new Promise(function(resolve) {
    return __awaiter3(void 0, void 0, void 0, function() {
      var fp, result, fingerParamsObj, browserId;
      return __generator3(this, function(_a3) {
        switch (_a3.label) {
          case 0:
            return [4, index.load()];
          case 1:
            fp = _a3.sent();
            return [4, fp.get()];
          case 2:
            result = _a3.sent();
            fingerParamsObj = {
              canvas: "",
              webgl: "",
              plugins: "",
              audio: "",
              fonts: "",
              userAgent: "",
              screenResolution: ""
            };
            fingerParamsObj.canvas = sha256WithLengthControl(result.components.canvas.value.toString());
            fingerParamsObj.webgl = getWebGLValues() ? sha256WithLengthControl(getWebGLValues().toString()) : "";
            fingerParamsObj.plugins = sha256WithLengthControl(result.components.plugins.value.toString());
            fingerParamsObj.audio = sha256WithLengthControl(result.components.audio.value.toString());
            fingerParamsObj.fonts = sha256WithLengthControl(result.components.fonts.value.toString());
            fingerParamsObj.userAgent = sha256WithLengthControl(navigator.userAgent.toString());
            fingerParamsObj.screenResolution = sha256WithLengthControl(result.components.screenResolution.value.toString());
            browserId = result.visitorId;
            localStorage.setItem("deviceFingers", JSON.stringify(fingerParamsObj));
            localStorage.setItem("browserId", browserId);
            resolve({ deviceFingers: fingerParamsObj, browserId });
            return [
              2
              /*return*/
            ];
        }
      });
    });
  });
};
function sha256WithLengthControl(input, outputLength) {
  if (outputLength === void 0) {
    outputLength = 32;
  }
  var hash = import_crypto_js.default.SHA256(input);
  var hashSubstring = hash.toString(import_crypto_js.default.enc.Hex).substring(0, outputLength);
  return hashSubstring;
}
function generateRandomString(length) {
  if (length === void 0) {
    length = 30;
  }
  var result = "";
  var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  var charactersLength = characters.length;
  for (var i = 0; i < length; i++) {
    result += characters.charAt(Math.floor(Math.random() * charactersLength));
  }
  return result;
}
var pickBy = function(obj, predicate) {
  var ret = {};
  for (var _i = 0, _a3 = Object.keys(obj); _i < _a3.length; _i++) {
    var key = _a3[_i];
    if (predicate(obj[key], key)) {
      ret[key] = obj[key];
    }
  }
  return ret;
};

// node_modules/authing-js-sdk/build/module/lib/graphqlapi.js
var __awaiter4 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator4 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var getChildrenNodes = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ChildrenNodesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var org = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = OrgDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var isRootNode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = IsRootNodeDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var rootNode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RootNodeDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var orgs = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = OrgsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var user = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UserDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var createOrg = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = CreateOrgDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var deleteOrg = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeleteOrgDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var checkPasswordStrength = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = CheckPasswordStrengthDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var registerByEmail = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RegisterByEmailDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var loginByEmail = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      query = LoginByEmailDocument;
      token = tokenProvider.getToken();
      return [2, garpqhlClient.request({
        query,
        token,
        variables
      })];
    });
  });
};
var loginByUsername = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      query = LoginByUsernameDocument;
      token = tokenProvider.getToken();
      return [2, garpqhlClient.request({
        query,
        token,
        variables
      })];
    });
  });
};
var loginByPhoneCode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      query = LoginByPhoneCodeDocument;
      token = tokenProvider.getToken();
      return [2, garpqhlClient.request({
        query,
        token,
        variables
      })];
    });
  });
};
var loginByPhonePassword = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      query = LoginByPhonePasswordDocument;
      token = tokenProvider.getToken();
      return [2, garpqhlClient.request({
        query,
        token,
        variables
      })];
    });
  });
};
var loginBySubAccount = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      query = LoginBySubAccountDocument;
      token = tokenProvider.getToken();
      return [2, garpqhlClient.request({
        query,
        token,
        variables
      })];
    });
  });
};
var registerByUsername = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      query = RegisterByUsernameDocument;
      token = tokenProvider.getToken();
      return [2, garpqhlClient.request({
        query,
        token,
        variables
      })];
    });
  });
};
var registerByPhoneCode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      query = RegisterByPhoneCodeDocument;
      token = tokenProvider.getToken();
      return [2, garpqhlClient.request({
        query,
        token,
        variables
      })];
    });
  });
};
var addRole = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = CreateRoleDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var assignRole = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AssignRoleDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var revokeRole = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RevokeRoleDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var addMember = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AddMemberDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var moveMembers = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = MoveMembersDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var getMembersById = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = NodeByIdWithMembersDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var sendEmail = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SendEmailDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var sendFirstLoginVerifyEmail = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SendFirstLoginVerifyEmailDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [4, garpqhlClient.request({
            query,
            token,
            variables
          })];
        case 2:
          return [2, _a3.sent()];
      }
    });
  });
};
var resetPassword = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ResetPasswordDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var resetPasswordByFirstLoginToken = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ResetPasswordByFirstLoginTokenDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var resetPasswordByForceResetToken = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ResetPasswordByForceResetTokenDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var users = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UsersDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var usersWithCustomData = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UsersWithCustomDataDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var archivedUsers = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ArchivedUsersDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updateUserpool = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdateUserpoolDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updateUser = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdateUserDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var searchUser = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SearchUserDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var searchUserWithCustomData = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SearchUserWithCustomDataDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var findUser = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = FindUserDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var findUserWithCustomData = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = FindUserWithCustomDataDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var createUser = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = CreateUserDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deleteUser = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeleteUserDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deleteUsers = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeleteUsersDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var roles = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RolesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var role = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RoleDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var roleWithUsers = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RoleWithUsersDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var roleWithUsersWithCustomData = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RoleWithUsersWithCustomDataDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updateRole = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdateRoleDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var addNode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AddNodeV2Document;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updateNode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdateNodeDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deleteNode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeleteNodeDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var nodeById = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = NodeByIdDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var nodeByCode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = NodeByCodeDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var moveNode = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = MoveNodeDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var removeMembers = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RemoveMemberDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var refreshToken = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RefreshTokenDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var isUserExists = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = IsUserExistsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updatePassword = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdatePasswordDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updatePhone = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdatePhoneDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updateEmail = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdateEmailDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var bindPhone = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = BindPhoneDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var bindEmail = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = BindEmailDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var unbindPhone = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UnbindPhoneDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var getUserRoles = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = GetUserRolesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var getUserDepartments = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = GetUserDepartmentsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var setMainDepartment = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SetMainDepartmentDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var allow = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AllowDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var getWhiteList = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = WhitelistDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var removeWhiteList = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RemoveWhitelistDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var addWhiteList = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AddWhitelistDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var udv = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UdvDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var udfValueBatch = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UdfValueBatchDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var setUdv = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SetUdvDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var setUdvBatch = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SetUdvBatchDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var setUdfValueBatch = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SetUdfValueBatchDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var removeUdv = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RemoveUdvDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var setUdf = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SetUdfDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var removeUdf = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RemoveUdfDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var udf = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UdfDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deleteRole = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeleteRoleDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deleteRoles = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeleteRolesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var policies = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = PoliciesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var createPolicy = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = CreatePolicyDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var policy = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = PolicyDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updatePolicy = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdatePolicyDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deletePolicy = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeletePolicyDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deletePolicies = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeletePoliciesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var policyAssignments = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = PolicyAssignmentsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var addPolicyAssignments = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AddPolicyAssignmentsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var removePolicyAssignments = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RemovePolicyAssignmentsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var enablePolicyAssignment = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = EnablePolicyAssignmentDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var disablePolicyAssignment = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DisbalePolicyAssignmentDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var checkLoginStatus = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = CheckLoginStatusDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var getGroups = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = GroupsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var group = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = GroupDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var groupWithUsers = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = GroupWithUsersDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var groupWithUsersWithCustomData = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = GroupWithUsersWithCustomDataDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var createGroup = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = CreateGroupDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var updateGroup = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UpdateGroupDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var deleteGroups = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = DeleteGroupsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var addUserToGroup = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AddUserToGroupDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var removeUserFromGroup = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = RemoveUserFromGroupDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var getUserGroups = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = GetUserGroupsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var unbindEmail = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = UnbindEmailDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var getAccessToken = function(garpqhlClient, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query;
    return __generator4(this, function(_a3) {
      query = AccessTokenDocument;
      return [2, garpqhlClient.request({
        query,
        variables
      })];
    });
  });
};
var refreshAccessToken = function(garpqhlClient, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query;
    return __generator4(this, function(_a3) {
      query = RefreshTokenDocument;
      return [2, garpqhlClient.request({
        query,
        variables
      })];
    });
  });
};
var listUserAuthorizedResources = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ListUserAuthorizedResourcesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var listRoleAuthorizedResources = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ListRoleAuthorizedResourcesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var listGroupAuthorizedResources = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ListGroupAuthorizedResourcesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var listNodeByIdAuthorizedResources = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ListNodeByIdAuthorizedResourcesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var listNodeByCodeAuthorizedResources = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = ListNodeByCodeAuthorizedResourcesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var listAuthorizedResources = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AuthorizedResourcesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var authorizeResource = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AuthorizeResourceDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var authorizedTargets = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = AuthorizedTargetsDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};
var searchNodes = function(garpqhlClient, tokenProvider, variables) {
  return __awaiter4(void 0, void 0, void 0, function() {
    var query, token;
    return __generator4(this, function(_a3) {
      switch (_a3.label) {
        case 0:
          query = SearchNodesDocument;
          return [4, tokenProvider.getToken()];
        case 1:
          token = _a3.sent();
          return [2, garpqhlClient.request({
            query,
            token,
            variables
          })];
      }
    });
  });
};

// node_modules/authing-js-sdk/build/module/lib/management/OrgManagementClient.js
var __assign2 = function() {
  __assign2 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign2.apply(this, arguments);
};
var __awaiter5 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator5 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var OrgManagementClient = (
  /** @class */
  function() {
    function OrgManagementClient2(options, graphqlClient, httpClient, tokenProvider) {
      this.options = options;
      this.httpClient = httpClient;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    OrgManagementClient2.prototype.buildTree = function(org2) {
      org2.tree = buildTree(JSON.parse(JSON.stringify(org2.nodes)));
      return org2;
    };
    OrgManagementClient2.prototype.create = function(name, description, code, tenantId) {
      return __awaiter5(this, void 0, void 0, function() {
        var org2;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, createOrg(this.graphqlClient, this.tokenProvider, {
                name,
                description,
                code,
                tenantId
              })];
            case 1:
              org2 = _a3.sent().createOrg;
              return [2, org2];
          }
        });
      });
    };
    OrgManagementClient2.prototype.deleteById = function(id) {
      return __awaiter5(this, void 0, void 0, function() {
        var res;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteOrg(this.graphqlClient, this.tokenProvider, {
                id
              })];
            case 1:
              res = _a3.sent();
              return [2, res.deleteOrg];
          }
        });
      });
    };
    OrgManagementClient2.prototype.list = function(page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter5(this, void 0, void 0, function() {
        var _a3, list, totalCount;
        var _this = this;
        return __generator5(this, function(_b) {
          switch (_b.label) {
            case 0:
              return [4, orgs(this.graphqlClient, this.tokenProvider, {
                page,
                limit
              })];
            case 1:
              _a3 = _b.sent().orgs, list = _a3.list, totalCount = _a3.totalCount;
              return [2, {
                totalCount,
                list: list.map(function(org2) {
                  return _this.buildTree(org2);
                })
              }];
          }
        });
      });
    };
    OrgManagementClient2.prototype.getAllOrgs = function(page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter5(this, void 0, void 0, function() {
        var count, data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/orgs/count")
              })];
            case 1:
              count = _a3.sent().count;
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/orgs"),
                params: {
                  page,
                  limit
                }
              })];
            case 2:
              data = _a3.sent();
              return [2, {
                totalCount: count,
                list: data
              }];
          }
        });
      });
    };
    OrgManagementClient2.prototype.addNode = function(orgId, parentNodeId, data) {
      return __awaiter5(this, void 0, void 0, function() {
        var name, code, order, nameI18n, description, descriptionI18n, node;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              name = data.name, code = data.code, order = data.order, nameI18n = data.nameI18n, description = data.description, descriptionI18n = data.descriptionI18n;
              return [4, addNode(this.graphqlClient, this.tokenProvider, {
                orgId,
                parentNodeId,
                name,
                code,
                order,
                nameI18n,
                description,
                descriptionI18n
              })];
            case 1:
              node = _a3.sent().addNodeV2;
              return [2, node];
          }
        });
      });
    };
    OrgManagementClient2.prototype.getNodeByCode = function(orgId, code) {
      return __awaiter5(this, void 0, void 0, function() {
        var node;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, nodeByCode(this.graphqlClient, this.tokenProvider, {
                orgId,
                code
              })];
            case 1:
              node = _a3.sent().nodeByCode;
              return [2, node];
          }
        });
      });
    };
    OrgManagementClient2.prototype.getNodeById = function(nodeId) {
      return __awaiter5(this, void 0, void 0, function() {
        var node;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, nodeById(this.graphqlClient, this.tokenProvider, {
                id: nodeId
              })];
            case 1:
              node = _a3.sent().nodeById;
              return [2, node];
          }
        });
      });
    };
    OrgManagementClient2.prototype.updateNode = function(id, updates) {
      return __awaiter5(this, void 0, void 0, function() {
        var name, code, description, node;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              name = updates.name, code = updates.code, description = updates.description;
              return [4, updateNode(this.graphqlClient, this.tokenProvider, {
                id,
                name,
                code,
                description
              })];
            case 1:
              node = _a3.sent().updateNode;
              return [2, node];
          }
        });
      });
    };
    OrgManagementClient2.prototype.findById = function(id) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, org(this.graphqlClient, this.tokenProvider, {
                id
              })];
            case 1:
              data = _a3.sent().org;
              return [2, this.buildTree(data)];
          }
        });
      });
    };
    OrgManagementClient2.prototype.deleteNode = function(orgId, nodeId) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteNode(this.graphqlClient, this.tokenProvider, {
                orgId,
                nodeId
              })];
            case 1:
              data = _a3.sent().deleteNode;
              return [2, data];
          }
        });
      });
    };
    OrgManagementClient2.prototype.moveNode = function(orgId, nodeId, targetParentId) {
      return __awaiter5(this, void 0, void 0, function() {
        var org2;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, moveNode(this.graphqlClient, this.tokenProvider, {
                orgId,
                nodeId,
                targetParentId
              })];
            case 1:
              org2 = _a3.sent().moveNode;
              return [2, this.buildTree(org2)];
          }
        });
      });
    };
    OrgManagementClient2.prototype.isRootNode = function(orgId, nodeId) {
      return __awaiter5(this, void 0, void 0, function() {
        var res;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, isRootNode(this.graphqlClient, this.tokenProvider, {
                orgId,
                nodeId
              })];
            case 1:
              res = _a3.sent();
              return [2, res.isRootNode];
          }
        });
      });
    };
    OrgManagementClient2.prototype.listChildren = function(nodeId) {
      return __awaiter5(this, void 0, void 0, function() {
        var res;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getChildrenNodes(this.graphqlClient, this.tokenProvider, {
                nodeId
              })];
            case 1:
              res = _a3.sent();
              return [2, res.childrenNodes];
          }
        });
      });
    };
    OrgManagementClient2.prototype.rootNode = function(orgId) {
      return __awaiter5(this, void 0, void 0, function() {
        var res;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, rootNode(this.graphqlClient, this.tokenProvider, {
                orgId
              })];
            case 1:
              res = _a3.sent();
              return [2, res.rootNode];
          }
        });
      });
    };
    OrgManagementClient2.prototype.importByJson = function(json) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/orgs/import"),
                data: {
                  filetype: "json",
                  file: json
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    OrgManagementClient2.prototype.addMembers = function(nodeId, userIds) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, addMember(this.graphqlClient, this.tokenProvider, {
                nodeId,
                userIds
              })];
            case 1:
              data = _a3.sent().addMember;
              return [2, data.users];
          }
        });
      });
    };
    OrgManagementClient2.prototype.moveMembers = function(options) {
      return __awaiter5(this, void 0, void 0, function() {
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, moveMembers(this.graphqlClient, this.tokenProvider, options)];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    OrgManagementClient2.prototype.listMembers = function(nodeId, options) {
      return __awaiter5(this, void 0, void 0, function() {
        var nodeById2;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getMembersById(this.graphqlClient, this.tokenProvider, __assign2({ id: nodeId }, options))];
            case 1:
              nodeById2 = _a3.sent().nodeById;
              return [2, nodeById2.users];
          }
        });
      });
    };
    OrgManagementClient2.prototype.removeMembers = function(nodeId, userIds) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removeMembers(this.graphqlClient, this.tokenProvider, {
                nodeId,
                userIds
              })];
            case 1:
              data = _a3.sent().removeMember;
              return [2, data.users];
          }
        });
      });
    };
    OrgManagementClient2.prototype.setMainDepartment = function(userId, departmentId) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, setMainDepartment(this.graphqlClient, this.tokenProvider, {
                userId,
                departmentId
              })];
            case 1:
              data = _a3.sent().setMainDepartment;
              return [2, data];
          }
        });
      });
    };
    OrgManagementClient2.prototype.exportAll = function() {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/orgs/export")
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    OrgManagementClient2.prototype.exportByOrgId = function(orgId) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/orgs/export?org_id=").concat(orgId)
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    OrgManagementClient2.prototype.listAuthorizedResourcesByNodeId = function(nodeId, namespace, options) {
      return __awaiter5(this, void 0, void 0, function() {
        var resourceType, node, _a3, list, totalCount;
        return __generator5(this, function(_b) {
          switch (_b.label) {
            case 0:
              resourceType = (options || {}).resourceType;
              return [4, listNodeByIdAuthorizedResources(this.graphqlClient, this.tokenProvider, {
                id: nodeId,
                namespace,
                resourceType
              })];
            case 1:
              node = _b.sent().nodeById;
              if (!node) {
                throw new Error("");
              }
              _a3 = node.authorizedResources, list = _a3.list, totalCount = _a3.totalCount;
              list = formatAuthorizedResources(list);
              return [2, {
                list,
                totalCount
              }];
          }
        });
      });
    };
    OrgManagementClient2.prototype.listAuthorizedResourcesByNodeCode = function(orgId, code, namespace, options) {
      return __awaiter5(this, void 0, void 0, function() {
        var resourceType, node, _a3, list, totalCount;
        return __generator5(this, function(_b) {
          switch (_b.label) {
            case 0:
              resourceType = (options || {}).resourceType;
              return [4, listNodeByCodeAuthorizedResources(this.graphqlClient, this.tokenProvider, {
                orgId,
                code,
                namespace,
                resourceType
              })];
            case 1:
              node = _b.sent().nodeByCode;
              if (!node) {
                throw new Error("");
              }
              _a3 = node.authorizedResources, list = _a3.list, totalCount = _a3.totalCount;
              list = formatAuthorizedResources(list);
              return [2, {
                list,
                totalCount
              }];
          }
        });
      });
    };
    OrgManagementClient2.prototype.startSync = function(options) {
      return __awaiter5(this, void 0, void 0, function() {
        var providerType, adConnectorId, url, body;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              providerType = options.providerType, adConnectorId = options.adConnectorId;
              url = "";
              body = {};
              if (providerType === "wechatwork") {
                url = "".concat(this.options.host, "/connections/enterprise/wechatwork/start-sync");
              } else if (providerType === "dingtalk") {
                url = "".concat(this.options.host, "/connections/enterprise/dingtalk/start-sync");
              } else if (providerType === "ad") {
                if (!adConnectorId) {
                  throw new Error("must provider adConnectorId");
                }
                url = "".concat(this.options.host, "/api/v2/ad/sync");
                body = {
                  connectionId: adConnectorId
                };
              }
              return [4, this.httpClient.request({
                method: "POST",
                url,
                data: body
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    OrgManagementClient2.prototype.searchNodes = function(keyword) {
      return __awaiter5(this, void 0, void 0, function() {
        var data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, searchNodes(this.graphqlClient, this.tokenProvider, {
                keyword
              })];
            case 1:
              data = _a3.sent().searchNodes;
              return [2, data];
          }
        });
      });
    };
    OrgManagementClient2.prototype.getOrgByTenantId = function(tenantId) {
      return __awaiter5(this, void 0, void 0, function() {
        var url, data;
        return __generator5(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              url = "".concat(this.options.host, "/api/v2/orgs/by-tenant?tenant_id=").concat(tenantId);
              return [4, this.httpClient.request({
                method: "GET",
                url
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    return OrgManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/version.js
var SDK_VERSION = "4.21.8";

// node_modules/authing-js-sdk/build/module/lib/common/GraphqlClient.js
var import_axios = __toESM(require_axios2());
var __assign3 = function() {
  __assign3 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign3.apply(this, arguments);
};
var __awaiter6 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator6 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var GraphqlClient = (
  /** @class */
  function() {
    function GraphqlClient2(endpoint, options) {
      this.endpoint = endpoint;
      this.options = options;
      this.axios = import_axios.default.create({
        withCredentials: true
      });
    }
    GraphqlClient2.prototype.setOptions = function(options) {
      this.options = options;
    };
    GraphqlClient2.prototype.request = function(options) {
      var _a3, _b;
      return __awaiter6(this, void 0, void 0, function() {
        var query, token, variables, headers, data, errors, responseData, error_1, statusCode, errorDetail, errmsg_1, errcode_1, data_1;
        var _this = this;
        return __generator6(this, function(_c) {
          switch (_c.label) {
            case 0:
              query = options.query, token = options.token, variables = options.variables;
              headers = {
                "content-type": "application/json"
              };
              headers[this.options.headers["app-id"]] = this.options.appId || "";
              headers[this.options.headers["tenant-id"]] = this.options.tenantId;
              headers[this.options.headers["userpool-id"]] = // @ts-ignore
              this.options.userPoolId || "";
              headers[this.options.headers["request-from"]] = this.options.requestFrom || "sdk";
              headers[this.options.headers["sdk-version"]] = "js:".concat(SDK_VERSION);
              headers[this.options.headers.lang] = this.options.lang || "";
              token && (headers.Authorization = "Bearer ".concat(token));
              data = null;
              errors = null;
              _c.label = 1;
            case 1:
              _c.trys.push([1, 3, , 4]);
              return [4, this.axios({
                url: this.endpoint,
                data: {
                  query,
                  variables
                },
                method: "post",
                headers: __assign3({}, pickBy(headers, function(i) {
                  return !!i;
                })),
                timeout: this.options.timeout
              })];
            case 2:
              responseData = _c.sent().data;
              data = responseData.data;
              errors = responseData.errors;
              return [3, 4];
            case 3:
              error_1 = _c.sent();
              statusCode = error_1.code || ((_a3 = error_1 === null || error_1 === void 0 ? void 0 : error_1.response) === null || _a3 === void 0 ? void 0 : _a3.status);
              errorDetail = error_1.message || ((_b = error_1 === null || error_1 === void 0 ? void 0 : error_1.response) === null || _b === void 0 ? void 0 : _b.data);
              this.options.onError(statusCode || 500, error_1.message, errorDetail);
              throw {
                code: statusCode || 500,
                message: error_1.message,
                data: errorDetail
              };
            case 4:
              if ((errors === null || errors === void 0 ? void 0 : errors.length) > 0) {
                errmsg_1 = null;
                errcode_1 = null;
                data_1 = null;
                errors.map(function(err) {
                  var msg = err.message;
                  var code = msg.code, message = msg.message, _data = msg.data;
                  errcode_1 = code;
                  errmsg_1 = message;
                  data_1 = _data;
                  _this.options.onError(code, message, data_1);
                });
                throw { code: errcode_1, message: errmsg_1, data: data_1 };
              }
              return [2, data];
          }
        });
      });
    };
    return GraphqlClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/ManagementTokenProvider.js
var import_jwt_decode = __toESM(require_lib());
var __awaiter7 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator7 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var ManagementTokenProvider = (
  /** @class */
  function() {
    function ManagementTokenProvider2(options, graphqlClient) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      var accessToken = this.options.accessToken;
      if (accessToken) {
        this._accessToken = accessToken;
        var decoded = (0, import_jwt_decode.default)(accessToken);
        var exp = decoded.exp;
        this._accessTokenExpriredAt = exp * 1e3;
      }
    }
    ManagementTokenProvider2.prototype.getClientWhenSdkInit = function() {
      return __awaiter7(this, void 0, void 0, function() {
        var res;
        return __generator7(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getAccessToken(this.graphqlClient, {
                userPoolId: this.options.userPoolId,
                secret: this.options.secret
              })];
            case 1:
              res = _a3.sent();
              return [2, res.accessToken.accessToken];
          }
        });
      });
    };
    ManagementTokenProvider2.prototype.refreshToken = function() {
      return __awaiter7(this, void 0, void 0, function() {
        var res;
        return __generator7(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, refreshAccessToken(this.graphqlClient, {
                accessToken: this.options.accessToken
              })];
            case 1:
              res = _a3.sent();
              return [2, res.refreshAccessToken.accessToken];
          }
        });
      });
    };
    ManagementTokenProvider2.prototype.getToken = function() {
      return __awaiter7(this, void 0, void 0, function() {
        return __generator7(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (this.options.accessToken) {
                return [2, this.options.accessToken];
              }
              if (this._accessToken && this._accessTokenExpriredAt > (/* @__PURE__ */ new Date()).getTime() + 3600 * 1e3) {
                return [2, this._accessToken];
              }
              return [4, this.getAccessTokenFromServer()];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ManagementTokenProvider2.prototype.getAccessTokenFromServer = function() {
      return __awaiter7(this, void 0, void 0, function() {
        var accessToken, decoded, exp;
        return __generator7(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              accessToken = null;
              if (!this.options.secret) return [3, 2];
              return [4, this.getClientWhenSdkInit()];
            case 1:
              accessToken = _a3.sent();
              return [3, 4];
            case 2:
              return [4, this.refreshToken()];
            case 3:
              accessToken = _a3.sent();
              _a3.label = 4;
            case 4:
              this._accessToken = accessToken;
              decoded = (0, import_jwt_decode.default)(this._accessToken);
              exp = decoded.exp;
              this._accessTokenExpriredAt = exp * 1e3;
              return [2, this._accessToken];
          }
        });
      });
    };
    return ManagementTokenProvider2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/UserpoolManagementClient.js
var __awaiter8 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator8 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var UserPoolManagementClient = (
  /** @class */
  function() {
    function UserPoolManagementClient2(options, httpClient, graphqlClient, tokenProvider) {
      this.options = options;
      this.httpClient = httpClient;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    UserPoolManagementClient2.prototype.detail = function() {
      return __awaiter8(this, void 0, void 0, function() {
        var userPool;
        return __generator8(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/userpools/detail")
              })];
            case 1:
              userPool = _a3.sent();
              return [2, userPool];
          }
        });
      });
    };
    UserPoolManagementClient2.prototype.update = function(updates) {
      return __awaiter8(this, void 0, void 0, function() {
        var res;
        return __generator8(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, updateUserpool(this.graphqlClient, this.tokenProvider, {
                input: updates
              })];
            case 1:
              res = _a3.sent();
              return [2, res.updateUserpool];
          }
        });
      });
    };
    UserPoolManagementClient2.prototype.listEnv = function() {
      return __awaiter8(this, void 0, void 0, function() {
        return __generator8(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/env")
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    UserPoolManagementClient2.prototype.addEnv = function(key, value) {
      return __awaiter8(this, void 0, void 0, function() {
        return __generator8(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/env"),
                data: {
                  key,
                  value
                }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    UserPoolManagementClient2.prototype.removeEnv = function(key) {
      return __awaiter8(this, void 0, void 0, function() {
        return __generator8(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/env/").concat(key)
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    return UserPoolManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/UsersManagementClient.js
var __assign4 = function() {
  __assign4 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign4.apply(this, arguments);
};
var __awaiter9 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator9 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var UsersManagementClient = (
  /** @class */
  function() {
    function UsersManagementClient2(options, graphqlClient, httpClient, fastHttpClient, tokenProvider, publickKeyManager) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
      this.fastHttpClient = fastHttpClient;
      this.publickKeyManager = publickKeyManager;
    }
    UsersManagementClient2.prototype.create = function(userInfo, options) {
      return __awaiter9(this, void 0, void 0, function() {
        var _a3, _b, keepPassword, _c, resetPasswordOnFirstLogin, identity, _d, _e, _f, _g, user2;
        return __generator9(this, function(_h) {
          switch (_h.label) {
            case 0:
              _a3 = options || {}, _b = _a3.keepPassword, keepPassword = _b === void 0 ? false : _b, _c = _a3.resetPasswordOnFirstLogin, resetPasswordOnFirstLogin = _c === void 0 ? false : _c, identity = _a3.identity;
              if (!(userInfo === null || userInfo === void 0 ? void 0 : userInfo.password)) return [3, 3];
              _d = userInfo;
              _f = (_e = this.options).encryptFunction;
              _g = [userInfo.password];
              return [4, this.publickKeyManager.getPublicKey()];
            case 1:
              return [4, _f.apply(_e, _g.concat([_h.sent(), this.options.encryption]))];
            case 2:
              _d.password = _h.sent();
              _h.label = 3;
            case 3:
              return [4, createUser(this.graphqlClient, this.tokenProvider, {
                userInfo,
                keepPassword,
                resetPasswordOnFirstLogin,
                identity
              })];
            case 4:
              user2 = _h.sent().createUser;
              return [2, user2];
          }
        });
      });
    };
    UsersManagementClient2.prototype.update = function(id, updates) {
      return __awaiter9(this, void 0, void 0, function() {
        var _a3, _b, _c, _d, user2;
        return __generator9(this, function(_e) {
          switch (_e.label) {
            case 0:
              if (!(updates && updates.password)) return [3, 3];
              _a3 = updates;
              _c = (_b = this.options).encryptFunction;
              _d = [updates.password];
              return [4, this.publickKeyManager.getPublicKey()];
            case 1:
              return [4, _c.apply(_b, _d.concat([_e.sent(), this.options.encryption]))];
            case 2:
              _a3.password = _e.sent();
              _e.label = 3;
            case 3:
              return [4, updateUser(this.graphqlClient, this.tokenProvider, {
                id,
                input: updates
              })];
            case 4:
              user2 = _e.sent().updateUser;
              return [2, user2];
          }
        });
      });
    };
    UsersManagementClient2.prototype.detail = function(userId, options) {
      return __awaiter9(this, void 0, void 0, function() {
        var _a3, withCustomData, data;
        return __generator9(this, function(_b) {
          switch (_b.label) {
            case 0:
              _a3 = (options || {}).withCustomData, withCustomData = _a3 === void 0 ? false : _a3;
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/users/").concat(userId),
                params: { with_custom_data: withCustomData },
                method: "GET"
              })];
            case 1:
              data = _b.sent();
              if (withCustomData && data) {
                data.customData = convertUdvToKeyValuePair(data.customData);
                return [2, data];
              }
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.delete = function(userId) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteUser(this.graphqlClient, this.tokenProvider, {
                id: userId
              })];
            case 1:
              data = _a3.sent().deleteUser;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.deleteMany = function(userIds) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteUsers(this.graphqlClient, this.tokenProvider, {
                ids: userIds
              })];
            case 1:
              data = _a3.sent().deleteUsers;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.batch = function(ids, options) {
      return __awaiter9(this, void 0, void 0, function() {
        var _a3, _b, queryField, _c, withCustomData, users2;
        return __generator9(this, function(_d) {
          switch (_d.label) {
            case 0:
              _a3 = options || {}, _b = _a3.queryField, queryField = _b === void 0 ? "id" : _b, _c = _a3.withCustomData, withCustomData = _c === void 0 ? false : _c;
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/users/batch"),
                method: "POST",
                data: {
                  ids,
                  type: queryField,
                  withCustomData
                }
              })];
            case 1:
              users2 = _d.sent();
              if (withCustomData) {
                users2.map(function(user2) {
                  user2.customData = convertUdvToKeyValuePair(user2.customData);
                  return user2;
                });
                return [2, users2];
              }
              return [2, users2];
          }
        });
      });
    };
    UsersManagementClient2.prototype.list = function(page, limit, options) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter9(this, void 0, void 0, function() {
        var _a3, _b, withCustomData, _c, excludeUsersInOrg, data, totalCount, list, data;
        return __generator9(this, function(_d) {
          switch (_d.label) {
            case 0:
              _a3 = options || {}, _b = _a3.withCustomData, withCustomData = _b === void 0 ? false : _b, _c = _a3.excludeUsersInOrg, excludeUsersInOrg = _c === void 0 ? false : _c;
              if (!withCustomData) return [3, 2];
              return [4, usersWithCustomData(this.graphqlClient, this.tokenProvider, {
                page,
                limit,
                excludeUsersInOrg
              })];
            case 1:
              data = _d.sent().users;
              totalCount = data.totalCount, list = data.list;
              list = list.map(function(user2) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
                return user2;
              });
              return [2, {
                totalCount,
                list
              }];
            case 2:
              return [4, users(this.graphqlClient, this.tokenProvider, {
                page,
                limit,
                excludeUsersInOrg
              })];
            case 3:
              data = _d.sent().users;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.filter = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/users/filter"),
                data: options
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.listArchivedUsers = function(page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, archivedUsers(this.graphqlClient, this.tokenProvider, {
                page,
                limit
              })];
            case 1:
              data = _a3.sent().archivedUsers;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.exists = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        var username, email, phone, externalId, data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              username = options.username, email = options.email, phone = options.phone, externalId = options.externalId;
              return [4, isUserExists(this.graphqlClient, this.tokenProvider, {
                username,
                email,
                phone,
                externalId
              })];
            case 1:
              data = _a3.sent().isUserExists;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.find = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        var username, email, phone, externalId, _a3, withCustomData, identity, user2, user2;
        return __generator9(this, function(_b) {
          switch (_b.label) {
            case 0:
              username = options.username, email = options.email, phone = options.phone, externalId = options.externalId, _a3 = options.withCustomData, withCustomData = _a3 === void 0 ? false : _a3, identity = options.identity;
              if (!withCustomData) return [3, 2];
              return [4, findUserWithCustomData(this.graphqlClient, this.tokenProvider, {
                username,
                email,
                phone,
                externalId
              })];
            case 1:
              user2 = _b.sent().findUser;
              user2.customData = convertUdvToKeyValuePair(user2.customData);
              return [2, user2];
            case 2:
              return [4, findUser(this.graphqlClient, this.tokenProvider, {
                username,
                email,
                phone,
                externalId,
                identity
              })];
            case 3:
              user2 = _b.sent().findUser;
              return [2, user2];
          }
        });
      });
    };
    UsersManagementClient2.prototype.search = function(query, options) {
      return __awaiter9(this, void 0, void 0, function() {
        var fields, _a3, page, _b, limit, departmentOpts, groupOpts, roleOpts, _c, withCustomData, data, data, totalCount, list;
        return __generator9(this, function(_d) {
          switch (_d.label) {
            case 0:
              options = options || {};
              fields = options.fields, _a3 = options.page, page = _a3 === void 0 ? 1 : _a3, _b = options.limit, limit = _b === void 0 ? 10 : _b, departmentOpts = options.departmentOpts, groupOpts = options.groupOpts, roleOpts = options.roleOpts, _c = options.withCustomData, withCustomData = _c === void 0 ? false : _c;
              if (!!withCustomData) return [3, 2];
              return [4, searchUser(this.graphqlClient, this.tokenProvider, {
                query,
                fields,
                page,
                limit,
                departmentOpts,
                groupOpts,
                roleOpts
              })];
            case 1:
              data = _d.sent().searchUser;
              return [2, data];
            case 2:
              return [4, searchUserWithCustomData(this.graphqlClient, this.tokenProvider, {
                query,
                fields,
                page,
                limit,
                departmentOpts,
                groupOpts,
                roleOpts
              })];
            case 3:
              data = _d.sent().searchUser;
              totalCount = data.totalCount, list = data.list;
              list = list.map(function(user2) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
                return user2;
              });
              return [2, {
                totalCount,
                list
              }];
          }
        });
      });
    };
    UsersManagementClient2.prototype.refreshToken = function(id) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, refreshToken(this.graphqlClient, this.tokenProvider, {
                id
              })];
            case 1:
              data = _a3.sent().refreshToken;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.listGroups = function(userId) {
      return __awaiter9(this, void 0, void 0, function() {
        var user2;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getUserGroups(this.graphqlClient, this.tokenProvider, {
                id: userId
              })];
            case 1:
              user2 = _a3.sent().user;
              return [2, user2.groups];
          }
        });
      });
    };
    UsersManagementClient2.prototype.addGroup = function(userId, group2) {
      return __awaiter9(this, void 0, void 0, function() {
        var res;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, addUserToGroup(this.graphqlClient, this.tokenProvider, {
                userIds: [userId],
                code: group2
              })];
            case 1:
              res = _a3.sent();
              return [2, res.addUserToGroup];
          }
        });
      });
    };
    UsersManagementClient2.prototype.removeGroup = function(userId, group2) {
      return __awaiter9(this, void 0, void 0, function() {
        var res;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removeUserFromGroup(this.graphqlClient, this.tokenProvider, {
                code: group2,
                userIds: [userId]
              })];
            case 1:
              res = _a3.sent();
              return [2, res.removeUserFromGroup];
          }
        });
      });
    };
    UsersManagementClient2.prototype.listRoles = function(userId, namespace) {
      return __awaiter9(this, void 0, void 0, function() {
        var user2;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getUserRoles(this.graphqlClient, this.tokenProvider, {
                id: userId,
                namespace
              })];
            case 1:
              user2 = _a3.sent().user;
              if (!user2) {
                throw new Error("");
              }
              return [2, user2.roles];
          }
        });
      });
    };
    UsersManagementClient2.prototype.addRoles = function(userId, roles2, namespace) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, assignRole(this.graphqlClient, this.tokenProvider, {
                roleCodes: roles2,
                userIds: [userId],
                namespace
              })];
            case 1:
              data = _a3.sent().assignRole;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.removeRoles = function(userId, roles2, namespace) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, revokeRole(this.graphqlClient, this.tokenProvider, {
                roleCodes: roles2,
                userIds: [userId],
                namespace
              })];
            case 1:
              data = _a3.sent().revokeRole;
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.listOrgs = function(userId) {
      return __awaiter9(this, void 0, void 0, function() {
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/users/").concat(userId, "/orgs")
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    UsersManagementClient2.prototype.listDepartment = function(userId) {
      return __awaiter9(this, void 0, void 0, function() {
        var departments;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getUserDepartments(this.graphqlClient, this.tokenProvider, {
                id: userId
              })];
            case 1:
              departments = _a3.sent().user.departments;
              return [2, departments];
          }
        });
      });
    };
    UsersManagementClient2.prototype.listAuthorizedResources = function(userId, namespace, options) {
      return __awaiter9(this, void 0, void 0, function() {
        var resourceType, user2, _a3, list, totalCount;
        return __generator9(this, function(_b) {
          switch (_b.label) {
            case 0:
              resourceType = (options || {}).resourceType;
              return [4, listUserAuthorizedResources(this.graphqlClient, this.tokenProvider, {
                id: userId,
                namespace,
                resourceType
              })];
            case 1:
              user2 = _b.sent().user;
              if (!user2) {
                throw new Error("");
              }
              _a3 = user2.authorizedResources, list = _a3.list, totalCount = _a3.totalCount;
              list = formatAuthorizedResources(list);
              return [2, {
                list,
                totalCount
              }];
          }
        });
      });
    };
    UsersManagementClient2.prototype.getUdfValue = function(userId) {
      return __awaiter9(this, void 0, void 0, function() {
        var list;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, udv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId
              })];
            case 1:
              list = _a3.sent().udv;
              return [2, convertUdvToKeyValuePair(list)];
          }
        });
      });
    };
    UsersManagementClient2.prototype.getUdfValueBatch = function(userIds) {
      return __awaiter9(this, void 0, void 0, function() {
        var result, ret, _i, result_1, _a3, targetId, data;
        return __generator9(this, function(_b) {
          switch (_b.label) {
            case 0:
              if (userIds.length === 0) {
                throw new Error("empty user id list");
              }
              return [4, udfValueBatch(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetIds: userIds
              })];
            case 1:
              result = _b.sent().udfValueBatch;
              ret = {};
              for (_i = 0, result_1 = result; _i < result_1.length; _i++) {
                _a3 = result_1[_i], targetId = _a3.targetId, data = _a3.data;
                ret[targetId] = convertUdvToKeyValuePair(data);
              }
              return [2, ret];
          }
        });
      });
    };
    UsersManagementClient2.prototype.setUdfValue = function(userId, data) {
      return __awaiter9(this, void 0, void 0, function() {
        var result;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (Object.keys(data).length === 0) {
                throw new Error("empty udf value list");
              }
              return [4, setUdvBatch(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId,
                udvList: Object.keys(data).map(function(key) {
                  return {
                    key,
                    value: JSON.stringify(data[key])
                  };
                })
              })];
            case 1:
              result = _a3.sent().setUdvBatch;
              return [2, result];
          }
        });
      });
    };
    UsersManagementClient2.prototype.setUdfValueBatch = function(input) {
      return __awaiter9(this, void 0, void 0, function() {
        var params;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (input.length === 0) {
                throw new Error("empty input list");
              }
              params = [];
              input.forEach(function(_a4) {
                var userId = _a4.userId, data = _a4.data;
                for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {
                  var key = _b[_i];
                  params.push({
                    targetId: userId,
                    key,
                    value: JSON.stringify(data[key])
                  });
                }
              });
              return [4, setUdfValueBatch(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                input: params
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    UsersManagementClient2.prototype.removeUdfValue = function(userId, key) {
      return __awaiter9(this, void 0, void 0, function() {
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removeUdv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId,
                key
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    UsersManagementClient2.prototype.hasRole = function(userId, roleCode, namespace) {
      return __awaiter9(this, void 0, void 0, function() {
        var roleList, hasRole;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.listRoles(userId, namespace)];
            case 1:
              roleList = _a3.sent();
              if (roleList.totalCount < 1) {
                return [2, false];
              }
              hasRole = false;
              roleList.list.forEach(function(item) {
                if (item.code === roleCode) {
                  hasRole = true;
                }
              });
              return [2, hasRole];
          }
        });
      });
    };
    UsersManagementClient2.prototype.kick = function(userIds) {
      return __awaiter9(this, void 0, void 0, function() {
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/users/kick"),
                method: "POST",
                data: {
                  userIds
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    UsersManagementClient2.prototype.logout = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!options || !options.userId) {
                throw new Error(" options.userId ID");
              }
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/logout"),
                method: "GET",
                params: {
                  appId: options.appId,
                  userId: options.userId
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    UsersManagementClient2.prototype.checkLoginStatus = function(userId, appId, deviceId) {
      return __awaiter9(this, void 0, void 0, function() {
        var result;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/users/login-status"),
                params: {
                  userId,
                  appId,
                  deviceId
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    UsersManagementClient2.prototype.listUserActions = function(options) {
      var _a3;
      if (options === void 0) {
        options = {
          page: 1,
          limit: 10
        };
      }
      return __awaiter9(this, void 0, void 0, function() {
        var requestParam, result, list, totalCount;
        var _this = this;
        return __generator9(this, function(_b) {
          switch (_b.label) {
            case 0:
              requestParam = {};
              if (options === null || options === void 0 ? void 0 : options.clientIp) {
                requestParam.clientip = options.clientIp;
              }
              if (options === null || options === void 0 ? void 0 : options.operationNames) {
                requestParam.operation_name = options.operationNames;
              }
              if ((_a3 = options === null || options === void 0 ? void 0 : options.userIds) === null || _a3 === void 0 ? void 0 : _a3.length) {
                requestParam.operator_arn = options.userIds.map(function(userId) {
                  return "arn:cn:authing:".concat(_this.options.userPoolId, ":user:").concat(userId);
                });
              }
              if (options === null || options === void 0 ? void 0 : options.page) {
                requestParam.page = options.page;
              }
              if (options === null || options === void 0 ? void 0 : options.limit) {
                requestParam.limit = options.limit;
              }
              if (options === null || options === void 0 ? void 0 : options.excludeNonAppRecords) {
                requestParam.exclude_non_app_records = "1";
              }
              if (options === null || options === void 0 ? void 0 : options.appIds) {
                requestParam.app_id = options === null || options === void 0 ? void 0 : options.appIds;
              }
              if ((options === null || options === void 0 ? void 0 : options.start) !== void 0) {
                requestParam.start = options === null || options === void 0 ? void 0 : options.start;
              }
              if ((options === null || options === void 0 ? void 0 : options.end) !== void 0) {
                requestParam.end = options === null || options === void 0 ? void 0 : options.end;
              }
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/analysis/user-action"),
                params: __assign4({}, requestParam)
              })];
            case 1:
              result = _b.sent();
              list = result.list, totalCount = result.totalCount;
              return [2, {
                list: list.map(function(log) {
                  var _a4, _b2, _c, _d, _e, _f;
                  return {
                    userpoolId: log.userpool_id,
                    userId: (_a4 = log.user) === null || _a4 === void 0 ? void 0 : _a4.id,
                    username: (_b2 = log.user) === null || _b2 === void 0 ? void 0 : _b2.displayName,
                    cityName: (_c = log.geoip) === null || _c === void 0 ? void 0 : _c.city_name,
                    regionName: (_d = log.geoip) === null || _d === void 0 ? void 0 : _d.region_name,
                    clientIp: (_e = log.geoip) === null || _e === void 0 ? void 0 : _e.ip,
                    operationDesc: log.operation_desc,
                    operationName: log.operation_name,
                    timestamp: log.timestamp,
                    appId: log.app_id,
                    appName: (_f = log.app) === null || _f === void 0 ? void 0 : _f.name
                  };
                }),
                totalCount
              }];
          }
        });
      });
    };
    UsersManagementClient2.prototype.sendFirstLoginVerifyEmail = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, sendFirstLoginVerifyEmail(this.graphqlClient, this.tokenProvider, options)];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    UsersManagementClient2.prototype.getUserTenants = function(userId) {
      return __awaiter9(this, void 0, void 0, function() {
        var result;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/users/").concat(userId, "/tenants")
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    UsersManagementClient2.prototype.linkIdentity = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        var result;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.fastHttpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/users/identity/link"),
                data: __assign4({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    UsersManagementClient2.prototype.unlinkIdentity = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        var result;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.fastHttpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/users/identity/unlink"),
                data: __assign4({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    UsersManagementClient2.prototype.getApplicationLoginUserNum = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/analysis/total-login-count"),
                params: { appId: options.appId }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.getUdfFieldUserNum = function(options) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/analysis/exist-defined-field-count"),
                params: {
                  definedFieldKey: options.definedFieldKey,
                  appId: options.appId
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.resignUser = function(userId) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/resign-user"),
                data: {
                  userId
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    UsersManagementClient2.prototype.resignUserBatch = function(userIds) {
      return __awaiter9(this, void 0, void 0, function() {
        var data;
        return __generator9(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/resign-user-batch"),
                data: {
                  userIds
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    return UsersManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/common/HttpClient.js
var import_axios2 = __toESM(require_axios2());
var __extends3 = /* @__PURE__ */ function() {
  var extendStatics2 = function(d, b) {
    extendStatics2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2) if (Object.prototype.hasOwnProperty.call(b2, p)) d2[p] = b2[p];
    };
    return extendStatics2(d, b);
  };
  return function(d, b) {
    if (typeof b !== "function" && b !== null)
      throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics2(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var __assign5 = function() {
  __assign5 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign5.apply(this, arguments);
};
var __awaiter10 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator10 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var HttpClient = (
  /** @class */
  function() {
    function HttpClient2(options, tokenProvider) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.axios = import_axios2.default.create({
        withCredentials: true
      });
    }
    HttpClient2.prototype.setOptions = function(options) {
      this.options = options;
    };
    HttpClient2.prototype.request = function(config) {
      var _a3;
      return __awaiter10(this, void 0, void 0, function() {
        var headers, token, data, code, message, statusCode;
        return __generator10(this, function(_b) {
          switch (_b.label) {
            case 0:
              headers = {};
              headers[this.options.headers["app-id"]] = this.options.appId || "";
              headers[this.options.headers["tenant-id"]] = this.options.tenantId;
              headers[this.options.headers["userpool-id"]] = this.options.userPoolId || "";
              headers[this.options.headers["request-from"]] = this.options.requestFrom || "sdk";
              headers[this.options.headers["sdk-version"]] = "js:".concat(SDK_VERSION);
              headers[this.options.headers.lang] = this.options.lang || "";
              if (!!config.unSetToken) return [3, 3];
              if (!!(config && config.headers && config.headers.authorization)) return [3, 2];
              return [4, (_a3 = this.tokenProvider) === null || _a3 === void 0 ? void 0 : _a3.getToken()];
            case 1:
              token = _b.sent();
              token && (headers.Authorization = "Bearer ".concat(token));
              return [3, 3];
            case 2:
              headers.authorization = config.headers.authorization;
              _b.label = 3;
            case 3:
              config.headers = headers;
              config.timeout = this.options.timeout;
              return [4, this.axios.request(__assign5(__assign5({}, config), { headers: __assign5({}, pickBy(config.headers, function(i) {
                return !!i;
              })) }))];
            case 4:
              data = _b.sent().data;
              code = data.code, message = data.message, statusCode = data.statusCode;
              if (code === 200 || statusCode === 200) {
                return [2, data.data];
              } else {
                this.options.onError(code, message, data.data);
                throw new Error(JSON.stringify({ code, message, data: data.data }));
              }
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    return HttpClient2;
  }()
);
var FastHttpClient = (
  /** @class */
  function(_super) {
    __extends3(FastHttpClient2, _super);
    function FastHttpClient2(options, tokenProvider) {
      return _super.call(this, options, tokenProvider) || this;
    }
    FastHttpClient2.prototype.request = function(config) {
      return __awaiter10(this, void 0, void 0, function() {
        var headers, token, data;
        return __generator10(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              headers = {};
              headers[this.options.headers["app-id"]] = this.options.appId || "";
              headers[this.options.headers["tenant-id"]] = this.options.tenantId;
              headers[this.options.headers["userpool-id"]] = this.options.userPoolId || "";
              headers[this.options.headers["request-from"]] = this.options.requestFrom || "sdk";
              headers[this.options.headers["sdk-version"]] = "js:".concat(SDK_VERSION);
              headers[this.options.headers.lang] = this.options.lang || "";
              if (!!(config && config.headers && config.headers.authorization)) return [3, 2];
              return [4, this.tokenProvider.getToken()];
            case 1:
              token = _a3.sent();
              token && (headers.Authorization = "Bearer ".concat(token));
              return [3, 3];
            case 2:
              headers.authorization = config.headers.authorization;
              _a3.label = 3;
            case 3:
              config.headers = headers;
              config.timeout = this.options.timeout;
              return [4, this.axios.request(__assign5(__assign5({}, config), { headers: __assign5({}, pickBy(config.headers, function(i) {
                return !!i;
              })) }))];
            case 4:
              data = _a3.sent().data;
              return [2, data];
          }
        });
      });
    };
    return FastHttpClient2;
  }(HttpClient)
);
var NaiveHttpClient = (
  /** @class */
  function(_super) {
    __extends3(NaiveHttpClient2, _super);
    function NaiveHttpClient2(options, tokenProvider) {
      return _super.call(this, options, tokenProvider) || this;
    }
    NaiveHttpClient2.prototype.request = function(config) {
      return __awaiter10(this, void 0, void 0, function() {
        var headers, data;
        return __generator10(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              headers = {};
              headers[this.options.headers["app-id"]] = this.options.appId || "";
              headers[this.options.headers["userpool-id"]] = headers[this.options.headers["tenant-id"]] = this.options.tenantId;
              this.options.userPoolId || "";
              headers[this.options.headers["request-from"]] = this.options.requestFrom || "sdk";
              headers[this.options.headers["sdk-version"]] = "js:".concat(SDK_VERSION);
              headers[this.options.headers.lang] = this.options.lang || "";
              config.headers = __assign5(__assign5({}, headers), config.headers);
              config.timeout = this.options.timeout;
              return [4, this.axios.request(__assign5(__assign5({}, config), { headers: __assign5({}, pickBy(config.headers, function(i) {
                return !!i;
              })) }))];
            case 1:
              data = _a3.sent().data;
              return [2, data];
          }
        });
      });
    };
    return NaiveHttpClient2;
  }(HttpClient)
);

// node_modules/authing-js-sdk/build/module/lib/management/ManagementClient.js
var import_axios3 = __toESM(require_axios2());

// node_modules/authing-js-sdk/build/module/lib/management/RolesManagementClient.js
var __awaiter11 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator11 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var RolesManagementClient = (
  /** @class */
  function() {
    function RolesManagementClient2(options, graphqlClient, httpClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.httpClient = httpClient;
      this.tokenProvider = tokenProvider;
    }
    RolesManagementClient2.prototype.create = function(code, description, namespace) {
      return __awaiter11(this, void 0, void 0, function() {
        var res;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, addRole(this.graphqlClient, this.tokenProvider, {
                code,
                description,
                namespace
              })];
            case 1:
              res = _a3.sent();
              return [2, res.createRole];
          }
        });
      });
    };
    RolesManagementClient2.prototype.delete = function(code, namespace) {
      return __awaiter11(this, void 0, void 0, function() {
        var data;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteRole(this.graphqlClient, this.tokenProvider, {
                code,
                namespace
              })];
            case 1:
              data = _a3.sent().deleteRole;
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.deleteMany = function(codeList, namespace) {
      return __awaiter11(this, void 0, void 0, function() {
        var data;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteRoles(this.graphqlClient, this.tokenProvider, {
                codeList,
                namespace
              })];
            case 1:
              data = _a3.sent().deleteRoles;
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.update = function(code, options) {
      return __awaiter11(this, void 0, void 0, function() {
        var description, newCode, namespace, data;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              description = options.description, newCode = options.newCode, namespace = options.namespace;
              return [4, updateRole(this.graphqlClient, this.tokenProvider, {
                code,
                description,
                newCode,
                namespace
              })];
            case 1:
              data = _a3.sent().updateRole;
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.detail = function(code, namespace) {
      return __awaiter11(this, void 0, void 0, function() {
        var data;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, role(this.graphqlClient, this.tokenProvider, {
                code,
                namespace
              })];
            case 1:
              data = _a3.sent().role;
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.findByCode = function(code, namespace) {
      return __awaiter11(this, void 0, void 0, function() {
        var data;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.detail(code, namespace)];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.list = function(options) {
      return __awaiter11(this, void 0, void 0, function() {
        var _a3, _b, page, _c, limit, namespace, data;
        return __generator11(this, function(_d) {
          switch (_d.label) {
            case 0:
              _a3 = options || {}, _b = _a3.page, page = _b === void 0 ? 1 : _b, _c = _a3.limit, limit = _c === void 0 ? 10 : _c, namespace = _a3.namespace;
              return [4, roles(this.graphqlClient, this.tokenProvider, {
                page,
                limit,
                namespace
              })];
            case 1:
              data = _d.sent().roles;
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.listUsers = function(code, options) {
      return __awaiter11(this, void 0, void 0, function() {
        var _a3, namespace, _b, withCustomData, _c, page, _d, limit, data, data, _e, totalCount, list;
        return __generator11(this, function(_f) {
          switch (_f.label) {
            case 0:
              _a3 = options || {}, namespace = _a3.namespace, _b = _a3.withCustomData, withCustomData = _b === void 0 ? false : _b, _c = _a3.page, page = _c === void 0 ? 1 : _c, _d = _a3.limit, limit = _d === void 0 ? 10 : _d;
              if (!!withCustomData) return [3, 2];
              return [4, roleWithUsers(this.graphqlClient, this.tokenProvider, {
                code,
                namespace,
                page,
                limit
              })];
            case 1:
              data = _f.sent().role;
              if (!data) {
                return [2, {
                  totalCount: 0,
                  list: []
                }];
              }
              return [2, data.users];
            case 2:
              return [4, roleWithUsersWithCustomData(this.graphqlClient, this.tokenProvider, {
                code,
                namespace,
                page,
                limit
              })];
            case 3:
              data = _f.sent().role;
              if (!data) {
                return [2, {
                  totalCount: 0,
                  list: []
                }];
              }
              _e = data.users, totalCount = _e.totalCount, list = _e.list;
              list = list.map(function(user2) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
                return user2;
              });
              return [2, {
                totalCount,
                // @ts-ignore
                list
              }];
          }
        });
      });
    };
    RolesManagementClient2.prototype.findUsers = function(code, options) {
      return __awaiter11(this, void 0, void 0, function() {
        var _a3, _b, namespace, _c, search, _d, page, _e, limit, data;
        return __generator11(this, function(_f) {
          switch (_f.label) {
            case 0:
              _a3 = options || {}, _b = _a3.namespace, namespace = _b === void 0 ? "default" : _b, _c = _a3.search, search = _c === void 0 ? "" : _c, _d = _a3.page, page = _d === void 0 ? 1 : _d, _e = _a3.limit, limit = _e === void 0 ? 10 : _e;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/roles/roleUsers"),
                data: {
                  namespace,
                  code,
                  limit,
                  page,
                  search
                }
              })];
            case 1:
              data = _f.sent();
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.addUsers = function(code, userIds, namespace) {
      return __awaiter11(this, void 0, void 0, function() {
        var res;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, assignRole(this.graphqlClient, this.tokenProvider, {
                roleCode: code,
                userIds,
                namespace
              })];
            case 1:
              res = _a3.sent();
              return [2, res.assignRole];
          }
        });
      });
    };
    RolesManagementClient2.prototype.removeUsers = function(code, userIds, namespace) {
      return __awaiter11(this, void 0, void 0, function() {
        var res;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, revokeRole(this.graphqlClient, this.tokenProvider, {
                roleCode: code,
                userIds,
                namespace
              })];
            case 1:
              res = _a3.sent();
              return [2, res.revokeRole];
          }
        });
      });
    };
    RolesManagementClient2.prototype.listPolicies = function(code, page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter11(this, void 0, void 0, function() {
        var data;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, policyAssignments(this.graphqlClient, this.tokenProvider, {
                targetType: PolicyAssignmentTargetType.Role,
                targetIdentifier: code,
                page,
                limit
              })];
            case 1:
              data = _a3.sent().policyAssignments;
              return [2, data];
          }
        });
      });
    };
    RolesManagementClient2.prototype.addPolicies = function(code, policies2) {
      return __awaiter11(this, void 0, void 0, function() {
        var res;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, addPolicyAssignments(this.graphqlClient, this.tokenProvider, {
                targetType: PolicyAssignmentTargetType.User,
                targetIdentifiers: [code],
                policies: policies2
              })];
            case 1:
              res = _a3.sent();
              return [2, res.addPolicyAssignments];
          }
        });
      });
    };
    RolesManagementClient2.prototype.removePolicies = function(code, policies2) {
      return __awaiter11(this, void 0, void 0, function() {
        var res;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removePolicyAssignments(this.graphqlClient, this.tokenProvider, {
                targetType: PolicyAssignmentTargetType.User,
                targetIdentifiers: [code],
                policies: policies2
              })];
            case 1:
              res = _a3.sent();
              return [2, res.removePolicyAssignments];
          }
        });
      });
    };
    RolesManagementClient2.prototype.listAuthorizedResources = function(code, namespace, options) {
      return __awaiter11(this, void 0, void 0, function() {
        var resourceType, role2, _a3, list, totalCount;
        return __generator11(this, function(_b) {
          switch (_b.label) {
            case 0:
              resourceType = (options || {}).resourceType;
              return [4, listRoleAuthorizedResources(this.graphqlClient, this.tokenProvider, {
                code,
                namespace,
                resourceType
              })];
            case 1:
              role2 = _b.sent().role;
              if (!role2) {
                throw new Error("");
              }
              _a3 = role2.authorizedResources, list = _a3.list, totalCount = _a3.totalCount;
              list = formatAuthorizedResources(list);
              return [2, {
                list,
                totalCount
              }];
          }
        });
      });
    };
    RolesManagementClient2.prototype.getUdfValue = function(roleId) {
      return __awaiter11(this, void 0, void 0, function() {
        var list;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, udv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.Role,
                targetId: roleId
              })];
            case 1:
              list = _a3.sent().udv;
              return [2, convertUdvToKeyValuePair(list)];
          }
        });
      });
    };
    RolesManagementClient2.prototype.getSpecificUdfValue = function(roleId, udfKey) {
      return __awaiter11(this, void 0, void 0, function() {
        var list, udfMap, udfValue, key;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, udv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.Role,
                targetId: roleId
              })];
            case 1:
              list = _a3.sent().udv;
              udfMap = convertUdvToKeyValuePair(list);
              udfValue = {};
              for (key in udfMap) {
                if (udfKey === key) {
                  udfValue[key] = udfMap[key];
                }
              }
              return [2, udfValue];
          }
        });
      });
    };
    RolesManagementClient2.prototype.getUdfValueBatch = function(roleIds) {
      return __awaiter11(this, void 0, void 0, function() {
        var result, ret, _i, result_1, _a3, targetId, data;
        return __generator11(this, function(_b) {
          switch (_b.label) {
            case 0:
              if (roleIds.length === 0) {
                throw new Error("empty user id list");
              }
              return [4, udfValueBatch(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.Role,
                targetIds: roleIds
              })];
            case 1:
              result = _b.sent().udfValueBatch;
              ret = {};
              for (_i = 0, result_1 = result; _i < result_1.length; _i++) {
                _a3 = result_1[_i], targetId = _a3.targetId, data = _a3.data;
                ret[targetId] = convertUdvToKeyValuePair(data);
              }
              return [2, ret];
          }
        });
      });
    };
    RolesManagementClient2.prototype.setUdfValue = function(roleId, data) {
      return __awaiter11(this, void 0, void 0, function() {
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (Object.keys(data).length === 0) {
                throw new Error("empty udf value list");
              }
              return [4, setUdvBatch(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.Role,
                targetId: roleId,
                udvList: Object.keys(data).map(function(key) {
                  return {
                    key,
                    value: JSON.stringify(data[key])
                  };
                })
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    RolesManagementClient2.prototype.setUdfValueBatch = function(input) {
      return __awaiter11(this, void 0, void 0, function() {
        var params;
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (input.length === 0) {
                throw new Error("empty input list");
              }
              params = [];
              input.forEach(function(_a4) {
                var userId = _a4.roleId, data = _a4.data;
                for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {
                  var key = _b[_i];
                  params.push({
                    targetId: userId,
                    key,
                    value: JSON.stringify(data[key])
                  });
                }
              });
              return [4, setUdfValueBatch(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.Role,
                input: params
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    RolesManagementClient2.prototype.removeUdfValue = function(roleId, key) {
      return __awaiter11(this, void 0, void 0, function() {
        return __generator11(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removeUdv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.Role,
                targetId: roleId,
                key
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    return RolesManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/PoliciesManagementClient.js
var __awaiter12 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator12 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var PoliciesManagementClient = (
  /** @class */
  function() {
    function PoliciesManagementClient2(options, graphqlClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    PoliciesManagementClient2.prototype.create = function(_a3) {
      var code = _a3.code, statements = _a3.statements, description = _a3.description, namespace = _a3.namespace;
      return __awaiter12(this, void 0, void 0, function() {
        var res;
        return __generator12(this, function(_b) {
          switch (_b.label) {
            case 0:
              return [4, createPolicy(this.graphqlClient, this.tokenProvider, {
                code,
                statements,
                description,
                namespace
              })];
            case 1:
              res = _b.sent();
              return [2, res.createPolicy];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.delete = function(code, namespace) {
      return __awaiter12(this, void 0, void 0, function() {
        var data;
        return __generator12(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deletePolicy(this.graphqlClient, this.tokenProvider, {
                code,
                namespace
              })];
            case 1:
              data = _a3.sent().deletePolicy;
              return [2, data];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.deleteMany = function(codeList, namespace) {
      return __awaiter12(this, void 0, void 0, function() {
        var data;
        return __generator12(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deletePolicies(this.graphqlClient, this.tokenProvider, {
                codeList,
                namespace
              })];
            case 1:
              data = _a3.sent().deletePolicies;
              return [2, data];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.update = function(code, updates) {
      return __awaiter12(this, void 0, void 0, function() {
        var description, statements, newCode, namespace, data;
        return __generator12(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              description = updates.description, statements = updates.statements, newCode = updates.newCode, namespace = updates.namespace;
              return [4, updatePolicy(this.graphqlClient, this.tokenProvider, {
                code,
                description,
                statements,
                newCode,
                namespace
              })];
            case 1:
              data = _a3.sent().updatePolicy;
              return [2, data];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.detail = function(code, namespace) {
      return __awaiter12(this, void 0, void 0, function() {
        var data;
        return __generator12(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, policy(this.graphqlClient, this.tokenProvider, {
                code,
                namespace
              })];
            case 1:
              data = _a3.sent().policy;
              return [2, data];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.list = function(options) {
      return __awaiter12(this, void 0, void 0, function() {
        var _a3, page, _b, limit, namespace, data;
        return __generator12(this, function(_c) {
          switch (_c.label) {
            case 0:
              options = options || {};
              _a3 = options.page, page = _a3 === void 0 ? 1 : _a3, _b = options.limit, limit = _b === void 0 ? 10 : _b, namespace = options.namespace;
              return [4, policies(this.graphqlClient, this.tokenProvider, {
                page,
                limit,
                namespace
              })];
            case 1:
              data = _c.sent().policies;
              return [2, data];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.listAssignments = function(_a3) {
      var code = _a3.code, namespace = _a3.namespace, _b = _a3.page, page = _b === void 0 ? 1 : _b, _c = _a3.limit, limit = _c === void 0 ? 10 : _c;
      return __awaiter12(this, void 0, void 0, function() {
        var data;
        return __generator12(this, function(_d) {
          switch (_d.label) {
            case 0:
              return [4, policyAssignments(this.graphqlClient, this.tokenProvider, {
                code,
                page,
                limit,
                namespace
              })];
            case 1:
              data = _d.sent().policyAssignments;
              return [2, data];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.addAssignments = function(policies2, targetType, targetIdentifiers, options) {
      return __awaiter12(this, void 0, void 0, function() {
        var _a3, inheritByChildren, namespace, res;
        return __generator12(this, function(_b) {
          switch (_b.label) {
            case 0:
              _a3 = options || {}, inheritByChildren = _a3.inheritByChildren, namespace = _a3.namespace;
              return [4, addPolicyAssignments(this.graphqlClient, this.tokenProvider, {
                policies: policies2,
                targetType,
                targetIdentifiers,
                inheritByChildren,
                namespace
              })];
            case 1:
              res = _b.sent();
              return [2, res.addPolicyAssignments];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.removeAssignments = function(policies2, targetType, targetIdentifiers, namespace) {
      return __awaiter12(this, void 0, void 0, function() {
        var res;
        return __generator12(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removePolicyAssignments(this.graphqlClient, this.tokenProvider, {
                policies: policies2,
                targetType,
                targetIdentifiers,
                namespace
              })];
            case 1:
              res = _a3.sent();
              return [2, res.removePolicyAssignments];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.enableAssignment = function(policy2, targetType, targetIdentifier, namespace) {
      return __awaiter12(this, void 0, void 0, function() {
        var res;
        return __generator12(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, enablePolicyAssignment(this.graphqlClient, this.tokenProvider, {
                policy: policy2,
                targetType,
                targetIdentifier,
                namespace
              })];
            case 1:
              res = _a3.sent();
              return [2, res.enablePolicyAssignment];
          }
        });
      });
    };
    PoliciesManagementClient2.prototype.disableAssignment = function(policy2, targetType, targetIdentifier, namespace) {
      return __awaiter12(this, void 0, void 0, function() {
        var res;
        return __generator12(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, disablePolicyAssignment(this.graphqlClient, this.tokenProvider, {
                policy: policy2,
                targetType,
                targetIdentifier,
                namespace
              })];
            case 1:
              res = _a3.sent();
              return [2, res.disbalePolicyAssignment];
          }
        });
      });
    };
    return PoliciesManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/UdfManagementClient.js
var __awaiter13 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator13 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var UdfManagementClient = (
  /** @class */
  function() {
    function UdfManagementClient2(options, graphqlClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    UdfManagementClient2.prototype.set = function(targetType, key, dataType, label) {
      return __awaiter13(this, void 0, void 0, function() {
        var data;
        return __generator13(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, setUdf(this.graphqlClient, this.tokenProvider, {
                targetType,
                dataType,
                key,
                label
              })];
            case 1:
              data = _a3.sent().setUdf;
              return [2, data];
          }
        });
      });
    };
    UdfManagementClient2.prototype.remove = function(targetType, key) {
      return __awaiter13(this, void 0, void 0, function() {
        var list;
        return __generator13(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removeUdf(this.graphqlClient, this.tokenProvider, {
                targetType,
                key
              })];
            case 1:
              list = _a3.sent().removeUdf;
              return [2, list];
          }
        });
      });
    };
    UdfManagementClient2.prototype.list = function(targetType) {
      return __awaiter13(this, void 0, void 0, function() {
        var list;
        return __generator13(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, udf(this.graphqlClient, this.tokenProvider, {
                targetType
              })];
            case 1:
              list = _a3.sent().udf;
              return [2, list];
          }
        });
      });
    };
    UdfManagementClient2.prototype.listUdv = function(targetType, targetId) {
      return __awaiter13(this, void 0, void 0, function() {
        var list;
        return __generator13(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, udv(this.graphqlClient, this.tokenProvider, {
                targetType,
                targetId
              })];
            case 1:
              list = _a3.sent().udv;
              return [2, convertUdv(list)];
          }
        });
      });
    };
    UdfManagementClient2.prototype.setUdvBatch = function(targetType, targetId, udvList) {
      return __awaiter13(this, void 0, void 0, function() {
        var list;
        return __generator13(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, setUdvBatch(this.graphqlClient, this.tokenProvider, {
                targetType,
                targetId,
                udvList: udvList.map(function(item) {
                  return {
                    key: item.key,
                    value: JSON.stringify(item.value)
                  };
                })
              })];
            case 1:
              list = _a3.sent().setUdvBatch;
              return [2, convertUdv(list)];
          }
        });
      });
    };
    return UdfManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/GroupsManagementClient.js
var __awaiter14 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator14 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var GroupsManagementClient = (
  /** @class */
  function() {
    function GroupsManagementClient2(options, graphqlClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    GroupsManagementClient2.prototype.create = function(code, name, description) {
      return __awaiter14(this, void 0, void 0, function() {
        var res;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, createGroup(this.graphqlClient, this.tokenProvider, {
                code,
                name,
                description
              })];
            case 1:
              res = _a3.sent();
              return [2, res.createGroup];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.delete = function(code) {
      return __awaiter14(this, void 0, void 0, function() {
        var data;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteGroups(this.graphqlClient, this.tokenProvider, {
                codeList: [code]
              })];
            case 1:
              data = _a3.sent().deleteGroups;
              return [2, data];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.update = function(code, input) {
      return __awaiter14(this, void 0, void 0, function() {
        var description, newCode, name, data;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              description = input.description, newCode = input.newCode, name = input.name;
              return [4, updateGroup(this.graphqlClient, this.tokenProvider, {
                code,
                name,
                description,
                newCode
              })];
            case 1:
              data = _a3.sent().updateGroup;
              return [2, data];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.detail = function(code) {
      return __awaiter14(this, void 0, void 0, function() {
        var data;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, group(this.graphqlClient, this.tokenProvider, {
                code
              })];
            case 1:
              data = _a3.sent().group;
              return [2, data];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.list = function(page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter14(this, void 0, void 0, function() {
        var data;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getGroups(this.graphqlClient, this.tokenProvider, {
                page,
                limit
              })];
            case 1:
              data = _a3.sent().groups;
              return [2, data];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.deleteMany = function(codeList) {
      return __awaiter14(this, void 0, void 0, function() {
        var data;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, deleteGroups(this.graphqlClient, this.tokenProvider, {
                codeList
              })];
            case 1:
              data = _a3.sent().deleteGroups;
              return [2, data];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.listUsers = function(code, options) {
      return __awaiter14(this, void 0, void 0, function() {
        var _a3, _b, withCustomData, _c, page, _d, limit, data, data, _e, totalCount, list;
        return __generator14(this, function(_f) {
          switch (_f.label) {
            case 0:
              _a3 = options || {}, _b = _a3.withCustomData, withCustomData = _b === void 0 ? false : _b, _c = _a3.page, page = _c === void 0 ? 1 : _c, _d = _a3.limit, limit = _d === void 0 ? 10 : _d;
              if (!!withCustomData) return [3, 2];
              return [4, groupWithUsers(this.graphqlClient, this.tokenProvider, {
                code,
                page,
                limit
              })];
            case 1:
              data = _f.sent().group;
              return [2, data.users];
            case 2:
              return [4, groupWithUsersWithCustomData(this.graphqlClient, this.tokenProvider, {
                code,
                page,
                limit
              })];
            case 3:
              data = _f.sent().group;
              _e = data.users, totalCount = _e.totalCount, list = _e.list;
              list = list.map(function(user2) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
                return user2;
              });
              return [2, {
                totalCount,
                // @ts-ignore
                list
              }];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.addUsers = function(code, userIds) {
      return __awaiter14(this, void 0, void 0, function() {
        var res;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, addUserToGroup(this.graphqlClient, this.tokenProvider, {
                code,
                userIds
              })];
            case 1:
              res = _a3.sent();
              return [2, res.addUserToGroup];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.removeUsers = function(code, userIds) {
      return __awaiter14(this, void 0, void 0, function() {
        var res;
        return __generator14(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removeUserFromGroup(this.graphqlClient, this.tokenProvider, {
                code,
                userIds
              })];
            case 1:
              res = _a3.sent();
              return [2, res.removeUserFromGroup];
          }
        });
      });
    };
    GroupsManagementClient2.prototype.listAuthorizedResources = function(code, namespace, options) {
      return __awaiter14(this, void 0, void 0, function() {
        var resourceType, group2, _a3, list, totalCount;
        return __generator14(this, function(_b) {
          switch (_b.label) {
            case 0:
              resourceType = (options || {}).resourceType;
              return [4, listGroupAuthorizedResources(this.graphqlClient, this.tokenProvider, {
                code,
                namespace,
                resourceType
              })];
            case 1:
              group2 = _b.sent().group;
              if (!group2) {
                throw new Error("");
              }
              _a3 = group2.authorizedResources, list = _a3.list, totalCount = _a3.totalCount;
              list = formatAuthorizedResources(list);
              return [2, {
                list,
                totalCount
              }];
          }
        });
      });
    };
    return GroupsManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/AclManagementClient.js
var __assign6 = function() {
  __assign6 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign6.apply(this, arguments);
};
var __awaiter15 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator15 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var AclManagementClient = (
  /** @class */
  function() {
    function AclManagementClient2(options, graphqlClient, httpClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.httpClient = httpClient;
      this.tokenProvider = tokenProvider;
    }
    AclManagementClient2.randomString = function(randomLenth) {
      if (randomLenth === void 0) {
        randomLenth = 32;
      }
      randomLenth = randomLenth || 32;
      var t = "abcdefhijkmnprstwxyz2345678";
      var a = t.length;
      var n3 = "";
      for (var i = 0; i < randomLenth; i++) {
        n3 += t.charAt(Math.floor(Math.random() * a));
      }
      return n3;
    };
    AclManagementClient2.prototype.allow = function(userId, resource, action, namespace) {
      return __awaiter15(this, void 0, void 0, function() {
        var data;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, allow(this.graphqlClient, this.tokenProvider, {
                resource,
                action,
                userId,
                namespace
              })];
            case 1:
              data = _a3.sent().allow;
              return [2, data];
          }
        });
      });
    };
    AclManagementClient2.prototype.isAllowed = function(userId, resource, action, opts) {
      return __awaiter15(this, void 0, void 0, function() {
        var _a3, namespace, tenantId, allowed;
        var _b;
        return __generator15(this, function(_c) {
          switch (_c.label) {
            case 0:
              _a3 = opts || {}, namespace = _a3.namespace, tenantId = _a3.tenantId;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/acl/is-allowed"),
                data: {
                  namespace,
                  userId,
                  resource,
                  action,
                  tenantId
                },
                headers: (_b = {}, _b[this.options.headers["tenant-id"]] = tenantId, _b)
              })];
            case 1:
              allowed = _c.sent().allowed;
              return [2, allowed];
          }
        });
      });
    };
    AclManagementClient2.prototype.listAuthorizedResources = function(targetType, targetIdentifier, namespace, options) {
      return __awaiter15(this, void 0, void 0, function() {
        var resourceType, _a3, list, totalCount;
        return __generator15(this, function(_b) {
          switch (_b.label) {
            case 0:
              resourceType = (options || {}).resourceType;
              return [4, listAuthorizedResources(this.graphqlClient, this.tokenProvider, {
                targetType,
                targetIdentifier,
                namespace,
                resourceType
              })];
            case 1:
              _a3 = _b.sent().authorizedResources, list = _a3.list, totalCount = _a3.totalCount;
              list = formatAuthorizedResources(list);
              return [2, {
                list,
                totalCount
              }];
          }
        });
      });
    };
    AclManagementClient2.prototype.listAuthorizedResourcesBatch = function(params) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, tenantId, targets, resourceType, data;
        var _a3;
        return __generator15(this, function(_b) {
          switch (_b.label) {
            case 0:
              namespace = params.namespace, tenantId = params.tenantId, targets = params.targets, resourceType = params.resourceType;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/acl/list-authorized-resources-batch"),
                data: {
                  namespace,
                  resourceType,
                  targets
                },
                headers: (_a3 = {}, _a3[this.options.headers["tenant-id"]] = tenantId, _a3)
              })];
            case 1:
              data = _b.sent();
              return [2, data];
          }
        });
      });
    };
    AclManagementClient2.prototype.authorizeResource = function(params) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, resource, opts, data;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              namespace = params.namespace, resource = params.resource, opts = params.opts;
              return [4, authorizeResource(this.graphqlClient, this.tokenProvider, {
                namespace,
                resource,
                opts
              })];
            case 1:
              data = _a3.sent().authorizeResource;
              return [2, data];
          }
        });
      });
    };
    AclManagementClient2.prototype.authorizeResources = function(params) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, tenantId, opts;
        var _a3;
        return __generator15(this, function(_b) {
          switch (_b.label) {
            case 0:
              namespace = params.namespace, tenantId = params.tenantId, opts = params.opts;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/acl/authorize-resources"),
                data: {
                  namespace,
                  opts
                },
                headers: (_a3 = {}, _a3[this.options.headers["tenant-id"]] = tenantId, _a3)
              })];
            case 1:
              _b.sent();
              return [2, true];
          }
        });
      });
    };
    AclManagementClient2.prototype.revokeResources = function(params) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, tenantId, opts;
        var _a3;
        return __generator15(this, function(_b) {
          switch (_b.label) {
            case 0:
              namespace = params.namespace, tenantId = params.tenantId, opts = params.opts;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/acl/revoke-resources"),
                data: {
                  namespace,
                  opts
                },
                headers: (_a3 = {}, _a3[this.options.headers["tenant-id"]] = tenantId, _a3)
              })];
            case 1:
              _b.sent();
              return [2, true];
          }
        });
      });
    };
    AclManagementClient2.prototype.revokeResource = function(params) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, resource, opts;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              namespace = params.namespace, resource = params.resource, opts = params.opts;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/acl/revoke-resource"),
                data: {
                  namespace,
                  resource,
                  opts
                }
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    AclManagementClient2.prototype.getAuthorizedTargets = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var data;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!options) {
                throw new Error(" options.namespaceoptions.resourceoptions.actions");
              }
              if (!options.namespace) {
                throw new Error(" options.namespace");
              }
              if (!options.resource) {
                throw new Error(" options.resource");
              }
              if (!options.resourceType) {
                throw new Error(" options.resourceType");
              }
              return [4, authorizedTargets(this.graphqlClient, this.tokenProvider, {
                namespace: options.namespace,
                resourceType: options.resourceType,
                resource: options.resource,
                targetType: options.targetType,
                actions: options.actions
              })];
            case 1:
              data = _a3.sent().authorizedTargets;
              return [2, data];
          }
        });
      });
    };
    AclManagementClient2.prototype.listResources = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/resources"),
                params: {
                  namespace: (options === null || options === void 0 ? void 0 : options.namespace) || (options === null || options === void 0 ? void 0 : options.namespaceCode),
                  type: options === null || options === void 0 ? void 0 : options.type,
                  limit: (options === null || options === void 0 ? void 0 : options.limit) || 10,
                  page: (options === null || options === void 0 ? void 0 : options.page) || 1
                }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AclManagementClient2.prototype.getResourceById = function(id) {
      return __awaiter15(this, void 0, void 0, function() {
        var data;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/resources/detail"),
                params: {
                  id
                }
              })];
            case 1:
              data = _a3.sent();
              if (!data) {
                return [2, null];
              }
              return [2, data];
          }
        });
      });
    };
    AclManagementClient2.prototype.getResourceByCode = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, code, data;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              namespace = options.namespace, code = options.code;
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/resources/detail"),
                params: {
                  namespace,
                  code
                }
              })];
            case 1:
              data = _a3.sent();
              if (!data) {
                return [2, null];
              }
              return [2, data];
          }
        });
      });
    };
    AclManagementClient2.prototype.getResources = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.listResources(options)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AclManagementClient2.prototype.createResource = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!options) {
                throw new Error("");
              }
              if (!options.code) {
                throw new Error("");
              }
              if (!options.actions || (options === null || options === void 0 ? void 0 : options.actions.length) === 0) {
                throw new Error("");
              }
              if (!options.namespace) {
                throw new Error("");
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/resources"),
                data: options
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AclManagementClient2.prototype.updateResource = function(code, options) {
      return __awaiter15(this, void 0, void 0, function() {
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!code) {
                throw new Error("");
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/resources/").concat(code),
                data: options
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AclManagementClient2.prototype.deleteResource = function(code, namespace) {
      return __awaiter15(this, void 0, void 0, function() {
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!code) {
                throw new Error("");
              }
              if (!namespace) {
                throw new Error("");
              }
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/resources/").concat(code),
                params: {
                  namespace
                }
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    AclManagementClient2.prototype.getApplicationAccessPolicies = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var appId, page, limit;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!(options === null || options === void 0 ? void 0 : options.appId)) {
                throw new Error(" appId");
              }
              appId = options.appId, page = options.page, limit = options.limit;
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/authorization/records"),
                params: {
                  page,
                  limit
                }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AclManagementClient2.prototype.enableApplicationAccessPolicy = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, targetIdentifiers, targetType, appId, inheritByChildren;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!(options === null || options === void 0 ? void 0 : options.appId)) {
                throw new Error(" appId");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetType)) {
                throw new Error(" USERROLEORGGROUP");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetIdentifiers)) {
                throw new Error(" id");
              }
              namespace = options.namespace, targetIdentifiers = options.targetIdentifiers, targetType = options.targetType, appId = options.appId, inheritByChildren = options.inheritByChildren;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/authorization/enable-effect"),
                data: {
                  targetType,
                  namespace,
                  targetIdentifiers,
                  inheritByChildren
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    AclManagementClient2.prototype.disableApplicationAccessPolicy = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, targetIdentifiers, targetType, appId, inheritByChildren;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!(options === null || options === void 0 ? void 0 : options.appId)) {
                throw new Error(" appId");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetType)) {
                throw new Error(" USERROLEORGGROUP");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetIdentifiers)) {
                throw new Error(" id");
              }
              namespace = options.namespace, targetIdentifiers = options.targetIdentifiers, targetType = options.targetType, appId = options.appId, inheritByChildren = options.inheritByChildren;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/authorization/disable-effect"),
                data: {
                  targetType,
                  namespace,
                  targetIdentifiers,
                  inheritByChildren
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    AclManagementClient2.prototype.deleteApplicationAccessPolicy = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, targetIdentifiers, targetType, appId, inheritByChildren;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!(options === null || options === void 0 ? void 0 : options.appId)) {
                throw new Error(" appId");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetType)) {
                throw new Error(" USERROLEORGGROUP");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetIdentifiers)) {
                throw new Error(" id");
              }
              namespace = options.namespace, targetIdentifiers = options.targetIdentifiers, targetType = options.targetType, appId = options.appId, inheritByChildren = options.inheritByChildren;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/authorization/revoke"),
                data: {
                  targetType,
                  namespace,
                  targetIdentifiers,
                  inheritByChildren
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    AclManagementClient2.prototype.allowAccessApplication = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, targetIdentifiers, targetType, appId, inheritByChildren;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!(options === null || options === void 0 ? void 0 : options.appId)) {
                throw new Error(" appId");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetType)) {
                throw new Error(" USERROLEORGGROUP");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetIdentifiers)) {
                throw new Error(" id");
              }
              namespace = options.namespace, targetIdentifiers = options.targetIdentifiers, targetType = options.targetType, appId = options.appId, inheritByChildren = options.inheritByChildren;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/authorization/allow"),
                data: {
                  targetType,
                  namespace,
                  targetIdentifiers,
                  inheritByChildren
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    AclManagementClient2.prototype.denyAccessApplication = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        var namespace, targetIdentifiers, targetType, appId, inheritByChildren;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!(options === null || options === void 0 ? void 0 : options.appId)) {
                throw new Error(" appId");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetType)) {
                throw new Error(" USERROLEORGGROUP");
              }
              if (!(options === null || options === void 0 ? void 0 : options.targetIdentifiers)) {
                throw new Error(" id");
              }
              namespace = options.namespace, targetIdentifiers = options.targetIdentifiers, targetType = options.targetType, appId = options.appId, inheritByChildren = options.inheritByChildren;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/authorization/deny"),
                data: {
                  targetType,
                  namespace,
                  targetIdentifiers,
                  inheritByChildren
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    AclManagementClient2.prototype.updateDefaultApplicationAccessPolicy = function(options) {
      return __awaiter15(this, void 0, void 0, function() {
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!(options === null || options === void 0 ? void 0 : options.appId)) {
                throw new Error(" id");
              }
              if (!(options === null || options === void 0 ? void 0 : options.defaultStrategy)) {
                throw new Error(" ALLOW_ALLDENY_ALL");
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(options.appId),
                data: {
                  permissionStrategy: { defaultStrategy: options.defaultStrategy }
                }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AclManagementClient2.prototype.programmaticAccessAccountList = function(appId, page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter15(this, void 0, void 0, function() {
        var result;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/programmatic-access-accounts?limit=").concat(limit, "&page=").concat(page)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AclManagementClient2.prototype.createProgrammaticAccessAccount = function(appId, options) {
      if (options === void 0) {
        options = {
          tokenLifetime: 600
        };
      }
      return __awaiter15(this, void 0, void 0, function() {
        var result;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/programmatic-access-accounts"),
                data: __assign6({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AclManagementClient2.prototype.deleteProgrammaticAccessAccount = function(programmaticAccessAccountId) {
      return __awaiter15(this, void 0, void 0, function() {
        var error_1;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/applications/programmatic-access-accounts?id=").concat(programmaticAccessAccountId)
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_1 = _a3.sent();
              throw error_1;
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AclManagementClient2.prototype.refreshProgrammaticAccessAccountSecret = function(programmaticAccessAccountId, programmaticAccessAccountSecret) {
      if (programmaticAccessAccountSecret === void 0) {
        programmaticAccessAccountSecret = AclManagementClient2.randomString(32);
      }
      return __awaiter15(this, void 0, void 0, function() {
        var result;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "PATCH",
                url: "".concat(this.options.host, "/api/v2/applications/programmatic-access-accounts"),
                data: {
                  id: programmaticAccessAccountId,
                  secret: programmaticAccessAccountSecret
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AclManagementClient2.prototype.enableProgrammaticAccessAccount = function(programmaticAccessAccountId) {
      return __awaiter15(this, void 0, void 0, function() {
        var result;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "PATCH",
                url: "".concat(this.options.host, "/api/v2/applications/programmatic-access-accounts"),
                data: {
                  id: programmaticAccessAccountId,
                  enabled: true
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AclManagementClient2.prototype.disableProgrammaticAccessAccount = function(programmaticAccessAccountId) {
      return __awaiter15(this, void 0, void 0, function() {
        var result;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "PATCH",
                url: "".concat(this.options.host, "/api/v2/applications/programmatic-access-accounts"),
                data: {
                  id: programmaticAccessAccountId,
                  enabled: false
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AclManagementClient2.prototype.listNamespaces = function(page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter15(this, void 0, void 0, function() {
        var result;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/resource-namespace/").concat(this.options.userPoolId, "?") + serialize({
                  page: page === null || page === void 0 ? void 0 : page.toString(),
                  limit: limit === null || limit === void 0 ? void 0 : limit.toString()
                })
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AclManagementClient2.prototype.deleteNamespace = function(code) {
      return __awaiter15(this, void 0, void 0, function() {
        var error_2;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/resource-namespace/").concat(this.options.userPoolId, "/code/").concat(code)
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_2 = _a3.sent();
              throw error_2;
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AclManagementClient2.prototype.createNamespace = function(code, name, description) {
      return __awaiter15(this, void 0, void 0, function() {
        var data, error_3;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/resource-namespace/").concat(this.options.userPoolId),
                data: {
                  name,
                  code,
                  description
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
            case 2:
              error_3 = _a3.sent();
              throw error_3;
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AclManagementClient2.prototype.updateNamespace = function(code, updates) {
      return __awaiter15(this, void 0, void 0, function() {
        var data, error_4;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "PUT",
                url: "".concat(this.options.host, "/api/v2/resource-namespace/").concat(this.options.userPoolId, "/code/").concat(code),
                data: {
                  name: updates.name,
                  code: updates.code,
                  description: updates.description
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
            case 2:
              error_4 = _a3.sent();
              throw error_4;
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AclManagementClient2.prototype.getPoliciesAssignmentsCondition = function(namespace, policyCode, targetType) {
      return __awaiter15(this, void 0, void 0, function() {
        var result;
        return __generator15(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/policies/assignments/by-target?namespace=").concat(namespace, "&policy_code=").concat(policyCode, "&target_type=").concat(targetType)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    return AclManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/WhitelistManagementClient.js
var __awaiter16 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator16 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var WhitelistManagementClient = (
  /** @class */
  function() {
    function WhitelistManagementClient2(options, graphqlClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    WhitelistManagementClient2.prototype.list = function(type) {
      return __awaiter16(this, void 0, void 0, function() {
        var whitelist;
        return __generator16(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getWhiteList(this.graphqlClient, this.tokenProvider, {
                type
              })];
            case 1:
              whitelist = _a3.sent().whitelist;
              return [2, whitelist];
          }
        });
      });
    };
    WhitelistManagementClient2.prototype.add = function(type, list) {
      return __awaiter16(this, void 0, void 0, function() {
        var whiteList;
        return __generator16(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, addWhiteList(this.graphqlClient, this.tokenProvider, {
                type,
                list
              })];
            case 1:
              whiteList = _a3.sent().addWhitelist;
              return [2, whiteList];
          }
        });
      });
    };
    WhitelistManagementClient2.prototype.remove = function(type, list) {
      return __awaiter16(this, void 0, void 0, function() {
        var whiteList;
        return __generator16(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, removeWhiteList(this.graphqlClient, this.tokenProvider, {
                type,
                list
              })];
            case 1:
              whiteList = _a3.sent().removeWhitelist;
              return [2, whiteList];
          }
        });
      });
    };
    WhitelistManagementClient2.prototype.enable = function(type) {
      return __awaiter16(this, void 0, void 0, function() {
        var updates;
        return __generator16(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              updates = {};
              if (type === WhitelistType.Email) {
                updates.emailEnabled = true;
              } else if (type === WhitelistType.Phone) {
                updates.phoneEnabled = true;
              } else if (type === WhitelistType.Username) {
                updates.usernameEnabled = true;
              } else {
                this.options.onError(500, "");
              }
              return [4, updateUserpool(this.graphqlClient, this.tokenProvider, {
                input: {
                  whitelist: updates
                }
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    WhitelistManagementClient2.prototype.disable = function(type) {
      return __awaiter16(this, void 0, void 0, function() {
        var updates;
        return __generator16(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              updates = {};
              if (type === WhitelistType.Email) {
                updates.emailEnabled = false;
              } else if (type === WhitelistType.Phone) {
                updates.phoneEnabled = false;
              } else if (type === WhitelistType.Username) {
                updates.usernameEnabled = false;
              } else {
                this.options.onError(500, "");
              }
              return [4, updateUserpool(this.graphqlClient, this.tokenProvider, {
                input: {
                  whitelist: updates
                }
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    return WhitelistManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/StatisticsManagementClient.js
var __assign7 = function() {
  __assign7 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign7.apply(this, arguments);
};
var __awaiter17 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator17 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var StatisticsManagementClient = (
  /** @class */
  function() {
    function StatisticsManagementClient2(options, httpClient, tokenProvider) {
      this.options = options;
      this.httpClient = httpClient;
      this.tokenProvider = tokenProvider;
    }
    StatisticsManagementClient2.prototype.listUserActions = function(options) {
      return __awaiter17(this, void 0, void 0, function() {
        var requestParam, result;
        return __generator17(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              requestParam = {};
              if (options === null || options === void 0 ? void 0 : options.clientIp) {
                requestParam.clientip = options.clientIp;
              }
              if (options === null || options === void 0 ? void 0 : options.eventType) {
                requestParam.eventType = options.eventType;
              }
              if (options === null || options === void 0 ? void 0 : options.userId) {
                requestParam.userId = options.userId;
              }
              if (options === null || options === void 0 ? void 0 : options.appId) {
                requestParam.app_id = options === null || options === void 0 ? void 0 : options.appId;
              }
              if (options === null || options === void 0 ? void 0 : options.page) {
                requestParam.page = options.page;
              }
              if (options === null || options === void 0 ? void 0 : options.limit) {
                requestParam.limit = options.limit;
              }
              if ((options === null || options === void 0 ? void 0 : options.start) !== void 0) {
                requestParam.start = options === null || options === void 0 ? void 0 : options.start;
              }
              if ((options === null || options === void 0 ? void 0 : options.end) !== void 0) {
                requestParam.end = options === null || options === void 0 ? void 0 : options.end;
              }
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/analysis/user-action"),
                params: __assign7({}, requestParam)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    StatisticsManagementClient2.prototype.listAuditLogs = function(options) {
      return __awaiter17(this, void 0, void 0, function() {
        var requestParam, result;
        return __generator17(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              requestParam = {};
              if (options === null || options === void 0 ? void 0 : options.clientIp) {
                requestParam.clientip = options.clientIp;
              }
              if (options === null || options === void 0 ? void 0 : options.eventType) {
                requestParam.eventType = options.eventType;
              }
              if (options === null || options === void 0 ? void 0 : options.userId) {
                requestParam.userId = options.userId;
              }
              if (options === null || options === void 0 ? void 0 : options.appId) {
                requestParam.app_id = options === null || options === void 0 ? void 0 : options.appId;
              }
              if (options === null || options === void 0 ? void 0 : options.page) {
                requestParam.page = options.page;
              }
              if (options === null || options === void 0 ? void 0 : options.limit) {
                requestParam.limit = options.limit;
              }
              if ((options === null || options === void 0 ? void 0 : options.start) !== void 0) {
                requestParam.start = options === null || options === void 0 ? void 0 : options.start;
              }
              if ((options === null || options === void 0 ? void 0 : options.end) !== void 0) {
                requestParam.end = options === null || options === void 0 ? void 0 : options.end;
              }
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/analysis/audit"),
                params: __assign7({}, requestParam)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    return StatisticsManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/ManagementClient.js
var import_jwt_decode2 = __toESM(require_lib());

// node_modules/authing-js-sdk/build/module/lib/authentication/BaseAuthenticationClient.js
var BaseAuthenticationClient = (
  /** @class */
  function() {
    function BaseAuthenticationClient2(options) {
      this.options = options;
    }
    Object.defineProperty(BaseAuthenticationClient2.prototype, "appHost", {
      get: function() {
        var _a3 = this.options, appHost = _a3.appHost, domain = _a3.domain, host = _a3.host;
        if (appHost) {
          return appHost.replace(/\/$/, "");
        } else if (domain) {
          var hostUrl = new URL(this.options.host);
          return "".concat(hostUrl.protocol, "//").concat(this.options.domain);
        } else {
          return host;
        }
      },
      enumerable: false,
      configurable: true
    });
    return BaseAuthenticationClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/common/PublicKeyManager.js
var __awaiter18 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator18 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var PublicKeyManager = (
  /** @class */
  function() {
    function PublicKeyManager2(options, httpClient) {
      this.options = options;
      this.baseClient = new BaseAuthenticationClient(this.options);
      this.httpClient = httpClient;
    }
    PublicKeyManager2.prototype.getPublicKey = function() {
      return __awaiter18(this, void 0, void 0, function() {
        var api, data, publicKey;
        return __generator18(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (this.options.publicKey) {
                return [2, this.options.publicKey];
              }
              if (this.publicKey) {
                return [2, this.publicKey];
              }
              api = "".concat(this.baseClient.appHost, "/api/v2/.well-known");
              return [4, this.httpClient.request({
                method: "GET",
                url: api
              })];
            case 1:
              data = _a3.sent();
              publicKey = data.publicKey;
              this.publicKey = publicKey;
              return [2, this.publicKey];
          }
        });
      });
    };
    return PublicKeyManager2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/UserActionManagementClient.js
var __awaiter19 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator19 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var UserActionManagementClient = (
  /** @class */
  function() {
    function UserActionManagementClient2(options, httpClient, tokenProvider) {
      this.options = options;
      this.httpClient = httpClient;
      this.tokenProvider = tokenProvider;
    }
    UserActionManagementClient2.prototype.list = function(options) {
      var _a3, _b;
      if (options === void 0) {
        options = {
          page: 1,
          limit: 10
        };
      }
      return __awaiter19(this, void 0, void 0, function() {
        var result;
        return __generator19(this, function(_c) {
          switch (_c.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/analysis/user-action?") + serialize({
                  page: (_a3 = options.page) === null || _a3 === void 0 ? void 0 : _a3.toString(),
                  limit: (_b = options.limit) === null || _b === void 0 ? void 0 : _b.toString(),
                  clientip: options.clientIp,
                  operation_name: options.operationName,
                  operator_arn: options.operatoArn
                })
              })];
            case 1:
              result = _c.sent();
              return [2, result];
          }
        });
      });
    };
    return UserActionManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/AgreementManagementClient.js
var __assign8 = function() {
  __assign8 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign8.apply(this, arguments);
};
var __awaiter20 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator20 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var AgreementManagementClient = (
  /** @class */
  function() {
    function AgreementManagementClient2(options, graphqlClient, httpClient, tokenProvider) {
      this.options = options;
      this.httpClient = httpClient;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    AgreementManagementClient2.prototype.create = function(appId, agreement) {
      return __awaiter20(this, void 0, void 0, function() {
        var mergedData, data;
        return __generator20(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              mergedData = __assign8({ lang: "zh-CN", required: true }, agreement);
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/agreements"),
                method: "POST",
                data: mergedData
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    AgreementManagementClient2.prototype.list = function(appId) {
      return __awaiter20(this, void 0, void 0, function() {
        var data;
        return __generator20(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/agreements"),
                method: "GET"
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    AgreementManagementClient2.prototype.delete = function(appId, agreementId) {
      return __awaiter20(this, void 0, void 0, function() {
        return __generator20(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/agreements/").concat(agreementId),
                method: "DELETE"
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    AgreementManagementClient2.prototype.modify = function(appId, agreementId, updates) {
      return __awaiter20(this, void 0, void 0, function() {
        var data;
        return __generator20(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/agreements/").concat(agreementId),
                method: "PUT",
                data: updates
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    AgreementManagementClient2.prototype.sort = function(appId, order) {
      return __awaiter20(this, void 0, void 0, function() {
        return __generator20(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/agreements/sort"),
                method: "POST",
                data: {
                  ids: order
                }
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    return AgreementManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/ApplicationsManagementClient.js
var __assign9 = function() {
  __assign9 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign9.apply(this, arguments);
};
var __awaiter21 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator21 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var ApplicationsManagementClient = (
  /** @class */
  function() {
    function ApplicationsManagementClient2(options, httpClient, graphqlClient, tokenProvider) {
      this.options = options;
      this.httpClient = httpClient;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
      this.acl = new AclManagementClient(options, graphqlClient, httpClient, tokenProvider);
      this.roles = new RolesManagementClient(options, graphqlClient, httpClient, tokenProvider);
      this.agreements = new AgreementManagementClient(options, graphqlClient, httpClient, tokenProvider);
    }
    ApplicationsManagementClient2.prototype.list = function(params) {
      return __awaiter21(this, void 0, void 0, function() {
        var _a3, _b, page, _c, limit, data;
        return __generator21(this, function(_d) {
          switch (_d.label) {
            case 0:
              _a3 = params || {}, _b = _a3.page, page = _b === void 0 ? 1 : _b, _c = _a3.limit, limit = _c === void 0 ? 10 : _c;
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/applications"),
                method: "GET",
                params: {
                  page,
                  limit
                }
              })];
            case 1:
              data = _d.sent();
              return [2, data];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.create = function(options) {
      return __awaiter21(this, void 0, void 0, function() {
        var result;
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications"),
                data: __assign9({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.delete = function(appId) {
      return __awaiter21(this, void 0, void 0, function() {
        var error_1;
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId)
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_1 = _a3.sent();
              throw error_1;
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.findById = function(id) {
      return __awaiter21(this, void 0, void 0, function() {
        var data;
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!id) {
                throw new Error("params id is required!");
              }
              return [4, this.httpClient.request({
                url: "".concat(this.options.host, "/api/v2/applications/").concat(id),
                method: "GET"
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.listResources = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.getResources(__assign9(__assign9({}, options), { namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.createResource = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.createResource(__assign9(__assign9({}, options), { namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.updateResource = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.updateResource(options.code, __assign9(__assign9({}, options), { namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.deleteResource = function(appId, code) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.deleteResource(code, appId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.getAccessPolicies = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.getApplicationAccessPolicies(__assign9(__assign9({}, options), { appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.enableAccessPolicy = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.enableApplicationAccessPolicy(__assign9(__assign9({}, options), { appId, namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.disableAccessPolicy = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.disableApplicationAccessPolicy(__assign9(__assign9({}, options), { appId, namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.deleteAccessPolicy = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.deleteApplicationAccessPolicy(__assign9(__assign9({}, options), { appId, namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.allowAccess = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.allowAccessApplication(__assign9(__assign9({}, options), { appId, namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.denyAccess = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.denyAccessApplication(__assign9(__assign9({}, options), { appId, namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.updateDefaultAccessPolicy = function(appId, defaultStrategy) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.acl.updateDefaultApplicationAccessPolicy({
                appId,
                defaultStrategy
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.createRole = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.create(options.code, options.description, appId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.deleteRole = function(appId, code) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.delete(code, appId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.deleteRoles = function(appId, codes) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.deleteMany(codes, appId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.updateRole = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.update(options.code, __assign9(__assign9({}, options), { namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.findRole = function(appId, code) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          return [2, this.roles.detail(code, appId)];
        });
      });
    };
    ApplicationsManagementClient2.prototype.getRoles = function(appId, options) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.list(__assign9(__assign9({}, options), { namespace: appId }))];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.getUsersByRoleCode = function(appId, code) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.listUsers(code, {
                namespace: appId
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.addUsersToRole = function(appId, code, userIds) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.addUsers(code, userIds, appId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.removeUsersFromRole = function(appId, code, userIds) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.removeUsers(code, userIds, appId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.listAuthorizedResourcesByRole = function(appId, code, resourceType) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.roles.listAuthorizedResources(code, appId, {
                resourceType
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.createAgreement = function(appId, agreement) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.agreements.create(appId, agreement)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.deleteAgreement = function(appId, agreementId) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.agreements.delete(appId, agreementId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.modifyAgreement = function(appId, agreementId, updates) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.agreements.modify(appId, agreementId, updates)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.listAgreement = function(appId) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.agreements.list(appId)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.sortAgreement = function(appId, order) {
      return __awaiter21(this, void 0, void 0, function() {
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.agreements.sort(appId, order)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.activeUsers = function(appId, page, limit) {
      if (page === void 0) {
        page = 1;
      }
      if (limit === void 0) {
        limit = 10;
      }
      return __awaiter21(this, void 0, void 0, function() {
        var result;
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId, "/active-users?page=").concat(page, "&limit=").concat(limit)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.refreshApplicationSecret = function(appId) {
      return __awaiter21(this, void 0, void 0, function() {
        var result;
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "PATCH",
                url: "".concat(this.options.host, "/api/v2/application/").concat(appId, "/refresh-secret")
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.changeApplicationType = function(appId, type) {
      return __awaiter21(this, void 0, void 0, function() {
        var result;
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/applications/").concat(appId),
                data: {
                  appType: type.toString()
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    ApplicationsManagementClient2.prototype.applicationTenants = function(appId) {
      return __awaiter21(this, void 0, void 0, function() {
        var result;
        return __generator21(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/application/").concat(appId, "/tenants")
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    return ApplicationsManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/MFAManagementClient.js
var __awaiter22 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator22 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var MFAManagementClient = (
  /** @class */
  function() {
    function MFAManagementClient2(options, graphqlClient, httpClient, tokenProvider) {
      this.options = options;
      this.httpClient = httpClient;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
    }
    MFAManagementClient2.prototype.getStatus = function(userId) {
      return __awaiter22(this, void 0, void 0, function() {
        var data;
        return __generator22(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/users/").concat(userId, "/mfa-bound")
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MFAManagementClient2.prototype.unAssociateMfa = function(userId, type) {
      return __awaiter22(this, void 0, void 0, function() {
        return __generator22(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/users/").concat(userId, "/mfa-bound?type=").concat(type)
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    MFAManagementClient2.prototype.importTotp = function(userId, secret, recoveryCode) {
      return __awaiter22(this, void 0, void 0, function() {
        return __generator22(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!userId || !secret) {
                throw new Error(" IDTOTP ");
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/mfa/totp/import"),
                data: { userId, secret, recoveryCode }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    return MFAManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/PrincipalManagement.js
var __awaiter23 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator23 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var PrincipalManagementClient = (
  /** @class */
  function() {
    function PrincipalManagementClient2(options, graphqlClient, httpClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.httpClient = httpClient;
      this.tokenProvider = tokenProvider;
    }
    PrincipalManagementClient2.prototype.detail = function(userId) {
      return __awaiter23(this, void 0, void 0, function() {
        var api, data;
        return __generator23(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.options.host, "/api/v2/users/").concat(userId, "/management/principal_authentication");
              return [4, this.httpClient.request({
                method: "GET",
                url: api
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    PrincipalManagementClient2.prototype.authenticate = function(userId, info) {
      return __awaiter23(this, void 0, void 0, function() {
        var api, params;
        return __generator23(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.options.host, "/api/v2/users/").concat(userId, "/management/principal_authentication");
              if (info.type === "P") {
                params = {
                  type: "P",
                  name: info.name,
                  idCard: info.idCard,
                  ext: info.bankCard
                };
              } else {
                params = {
                  type: "E",
                  name: info.enterpriseName,
                  idCard: info.enterpriseCode,
                  ext: info.legalPersonName
                };
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: params
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    return PrincipalManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/TenantManagementClient.js
var __assign10 = function() {
  __assign10 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign10.apply(this, arguments);
};
var __awaiter24 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator24 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var TenantManagementClient = (
  /** @class */
  function() {
    function TenantManagementClient2(options, graphqlClient, httpClient, tokenProvider) {
      this.options = options;
      this.graphqlClient = graphqlClient;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
    }
    TenantManagementClient2.prototype.list = function(params) {
      return __awaiter24(this, void 0, void 0, function() {
        var _a3, _b, page, _c, limit, result;
        return __generator24(this, function(_d) {
          switch (_d.label) {
            case 0:
              _a3 = params || {}, _b = _a3.page, page = _b === void 0 ? 1 : _b, _c = _a3.limit, limit = _c === void 0 ? 10 : _c;
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/tenants?page=").concat(page, "&limit=").concat(limit)
              })];
            case 1:
              result = _d.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.details = function(tenantId) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.create = function(options) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/tenant"),
                data: __assign10({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.update = function(tenantId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId),
                data: __assign10({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.delete = function(tenantId) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.config = function(tenantId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId),
                data: __assign10({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.members = function(tenantId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var _a3, page, _b, limit, result;
        return __generator24(this, function(_c) {
          switch (_c.label) {
            case 0:
              _a3 = options.page, page = _a3 === void 0 ? 1 : _a3, _b = options.limit, limit = _b === void 0 ? 10 : _b;
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId, "/users?page=").concat(page, "&limit=").concat(limit)
              })];
            case 1:
              result = _c.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.addMembers = function(tenantId, userIds) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId, "/user"),
                data: {
                  userIds
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.removeMembers = function(tenantId, userId) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId, "/user?userId=").concat(userId)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.listExtIdp = function(tenantId) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/extIdp?tenantId=").concat(tenantId)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.extIdpDetail = function(extIdpId) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v2/extIdp/").concat(extIdpId)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.createExtIdp = function(options) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/extIdp"),
                data: __assign10({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.updateExtIdp = function(extIdpId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "PUT",
                url: "".concat(this.options.host, "/api/v2/extIdp/").concat(extIdpId),
                data: __assign10({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.deleteExtIdp = function(extIdpId) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/extIdp/").concat(extIdpId)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.createExtIdpConnection = function(options) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/extIdpConn"),
                data: __assign10({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.updateExtIdpConnection = function(extIdpConnectionId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "PUT",
                url: "".concat(this.options.host, "/api/v2/extIdpConn/").concat(extIdpConnectionId),
                data: __assign10({}, options)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.deleteExtIdpConnection = function(extIdpConnectionId) {
      return __awaiter24(this, void 0, void 0, function() {
        var result;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/extIdpConn/").concat(extIdpConnectionId)
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    TenantManagementClient2.prototype.checkExtIdpConnectionIdentifierUnique = function(identifier) {
      return __awaiter24(this, void 0, void 0, function() {
        var error_1;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/check/extIdpConn/identifier"),
                data: {
                  identifier
                }
              })];
            case 1:
              _a3.sent();
              return [2, false];
            case 2:
              error_1 = _a3.sent();
              return [2, true];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    TenantManagementClient2.prototype.changeExtIdpConnectionState = function(extIdpConnectionId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var error_2;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "PUT",
                url: "".concat(this.options.host, "/api/v2/extIdpConn/").concat(extIdpConnectionId, "/state"),
                data: __assign10({}, options)
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_2 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    TenantManagementClient2.prototype.batchChangeExtIdpConnectionState = function(extIdpId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var error_3;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "PUT",
                url: "".concat(this.options.host, "/api/v2/extIdp/").concat(extIdpId, "/connState"),
                data: __assign10({}, options)
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_3 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    TenantManagementClient2.prototype.setTanentAdmin = function(tenantId, options) {
      return __awaiter24(this, void 0, void 0, function() {
        var error_4;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "PUT",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId, "/admin"),
                data: __assign10({}, options)
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_4 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    TenantManagementClient2.prototype.deleteTanentAdmin = function(tenantId, userId) {
      return __awaiter24(this, void 0, void 0, function() {
        var error_5;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "DELETE",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId, "/admin/").concat(userId),
                data: {}
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_5 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    TenantManagementClient2.prototype.updateTenantMember = function(tenantId, userId, isEnabled) {
      return __awaiter24(this, void 0, void 0, function() {
        var error_6;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "PUT",
                url: "".concat(this.options.host, "/api/v2/tenant/").concat(tenantId, "/").concat(userId),
                data: {
                  isEnabled
                }
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_6 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    TenantManagementClient2.prototype.batchInsertResource = function(options) {
      return __awaiter24(this, void 0, void 0, function() {
        var error_7;
        return __generator24(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/resources/bulk"),
                data: __assign10({}, options)
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_7 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    return TenantManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/EventManagementClient.js
var __awaiter25 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator25 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var EventManagementClient = (
  /** @class */
  function() {
    function EventManagementClient2(options, httpClient, tokenProvider) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
      this.wsMap = {};
      this.eventBus = {};
    }
    EventManagementClient2.prototype.reconnect = function(eventName) {
      var _this = this;
      return new Promise(function(resolve, reject) {
        if (_this.options.retryTimes && _this.wsMap[eventName].timeConnect < _this.options.retryTimes) {
          if (!_this.wsMap[eventName].lockConnect) {
            _this.wsMap[eventName].lockConnect = true;
            _this.wsMap[eventName].timeConnect++;
            setTimeout(function() {
              _this.wsMap[eventName].lockConnect = false;
              _this.initWebSocket(eventName, true).then(function() {
                resolve(true);
              }).catch(function(e) {
                reject(e);
              });
            }, 2e3);
          }
        } else {
          reject("socket ");
        }
      });
    };
    EventManagementClient2.prototype.initWebSocket = function(eventName, retry) {
      var _this = this;
      return new Promise(function(resolve, reject) {
        return __awaiter25(_this, void 0, void 0, function() {
          var token;
          var _this2 = this;
          return __generator25(this, function(_a3) {
            switch (_a3.label) {
              case 0:
                if (!(!this.wsMap[eventName] || retry)) return [3, 2];
                return [4, this.tokenProvider.getToken()];
              case 1:
                token = _a3.sent();
                this.wsMap[eventName] = {
                  socket: new WebSocket("".concat(this.options.socketUri, "/events/v1/management/sub?code=").concat(eventName, "&token=").concat(token)),
                  timeConnect: retry ? this.wsMap[eventName].timeConnect : 0,
                  lockConnect: false
                };
                this.wsMap[eventName].socket.onopen = function() {
                  resolve(true);
                };
                this.wsMap[eventName].socket.addEventListener("message", function(event) {
                  try {
                    if (_this2.eventBus[eventName]) {
                      _this2.eventBus[eventName].forEach(function(callback) {
                        callback[0](event.data.toString("utf8"));
                      });
                    } else {
                      console.warn("", eventName);
                    }
                  } catch (error) {
                    return reject(" ".concat(error));
                  }
                });
                this.wsMap[eventName].socket.addEventListener("error", function(e) {
                  return __awaiter25(_this2, void 0, void 0, function() {
                    var error_1;
                    return __generator25(this, function(_a4) {
                      switch (_a4.label) {
                        case 0:
                          _a4.trys.push([0, 2, , 3]);
                          return [4, this.reconnect(eventName)];
                        case 1:
                          _a4.sent();
                          resolve(true);
                          return [3, 3];
                        case 2:
                          error_1 = _a4.sent();
                          return [2, reject("socket ".concat(JSON.stringify(e)))];
                        case 3:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                });
                this.wsMap[eventName].socket.onclose = function() {
                  return __awaiter25(_this2, void 0, void 0, function() {
                    var error_2;
                    return __generator25(this, function(_a4) {
                      switch (_a4.label) {
                        case 0:
                          _a4.trys.push([0, 2, , 3]);
                          return [4, this.reconnect(eventName)];
                        case 1:
                          _a4.sent();
                          resolve(true);
                          return [3, 3];
                        case 2:
                          error_2 = _a4.sent();
                          return [2, reject("socket ")];
                        case 3:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                };
                return [3, 3];
              case 2:
                resolve(true);
                _a3.label = 3;
              case 3:
                return [
                  2
                  /*return*/
                ];
            }
          });
        });
      });
    };
    EventManagementClient2.prototype.sub = function(eventName, callback, errCallback) {
      var _this = this;
      if (typeof eventName !== "string") {
        throw new Error(" string ");
      }
      if (typeof callback !== "function") {
        throw new Error(" function ");
      }
      if (!this.options.socketUri) {
        throw new Error(" socketUri ");
      }
      this.initWebSocket(eventName).catch(function(e) {
        _this.eventBus[eventName].forEach(function(item) {
          var _a3;
          (_a3 = item[1]) === null || _a3 === void 0 ? void 0 : _a3.call(item, e);
        });
      });
      if (this.eventBus[eventName]) {
        this.eventBus[eventName].push([callback, errCallback]);
      } else {
        this.eventBus[eventName] = [[callback, errCallback]];
      }
    };
    EventManagementClient2.prototype.pub = function(eventName, data) {
      return __awaiter25(this, void 0, void 0, function() {
        return __generator25(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (typeof eventName !== "string") {
                throw new Error(" string ");
              }
              if (typeof data !== "string") {
                throw new Error(" string ");
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/pub-event"),
                data: {
                  eventType: eventName,
                  source: "authing-js-sdk: ".concat(SDK_VERSION),
                  eventData: data
                }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    return EventManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/BrowserFingerprintClient.js
var __awaiter26 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator26 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var BrowserFingerprintClient = (
  /** @class */
  function() {
    function BrowserFingerprintClient3(options, httpClient, tokenProvider) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
    }
    BrowserFingerprintClient3.prototype.getDeviceList = function(options) {
      if (options === void 0) {
        options = {
          page: 1,
          limit: 10
        };
      }
      return __awaiter26(this, void 0, void 0, function() {
        var page, limit, data;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              page = options.page, limit = options.limit;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/metadata/filter"),
                data: {
                  "modelId": "device",
                  "showFieldId": false,
                  "previewRelation": true,
                  page,
                  limit
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, {
                data: data.list,
                totalCount: data.totalCount
              }];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.getDeviceDetails = function(id) {
      return __awaiter26(this, void 0, void 0, function() {
        var data;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.options.host, "/api/v3/metadata/get-row?modelId=device&rowId=").concat(id, "&showFieldId=false")
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.getDeviceStatus = function(id) {
      return __awaiter26(this, void 0, void 0, function() {
        var data;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/device-status"),
                data: { id }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.delDevice = function(id) {
      return __awaiter26(this, void 0, void 0, function() {
        var error_1;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/delete-device"),
                data: { id }
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_1 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.disableDevice = function(id) {
      return __awaiter26(this, void 0, void 0, function() {
        var error_2;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/disable-device"),
                data: { id }
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_2 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.enableDevice = function(id) {
      return __awaiter26(this, void 0, void 0, function() {
        var error_3;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/enable-device"),
                data: { id }
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_3 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.suspendDevice = function(id, endTime) {
      return __awaiter26(this, void 0, void 0, function() {
        var error_4;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/suspend-device"),
                data: { id, endTime }
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_4 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.getDeviceUserList = function(options) {
      if (options === void 0) {
        options = {
          page: 1,
          limit: 10
        };
      }
      return __awaiter26(this, void 0, void 0, function() {
        var userId, page, limit, data;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = options.userId, page = options.page, limit = options.limit;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/get-user-devices?userId=").concat(userId),
                data: {
                  "modelId": "device_rely",
                  "showFieldId": false,
                  "previewRelation": true,
                  // userId,
                  page,
                  limit
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, {
                data: data.list,
                totalCount: data.totalCount
              }];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.delDeviceUser = function(options) {
      return __awaiter26(this, void 0, void 0, function() {
        var userId, id, error_5;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = options.userId, id = options.id;
              _a3.label = 1;
            case 1:
              _a3.trys.push([1, 3, , 4]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/delete-device-by-user"),
                data: { id, userId }
              })];
            case 2:
              _a3.sent();
              return [2, true];
            case 3:
              error_5 = _a3.sent();
              return [2, false];
            case 4:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.disableDeviceUser = function(options) {
      return __awaiter26(this, void 0, void 0, function() {
        var userId, id, error_6;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = options.userId, id = options.id;
              _a3.label = 1;
            case 1:
              _a3.trys.push([1, 3, , 4]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/disable-device-by-user"),
                data: { id, userId }
              })];
            case 2:
              _a3.sent();
              return [2, true];
            case 3:
              error_6 = _a3.sent();
              return [2, false];
            case 4:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.enableDeviceUser = function(options) {
      return __awaiter26(this, void 0, void 0, function() {
        var userId, id, error_7;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = options.userId, id = options.id;
              _a3.label = 1;
            case 1:
              _a3.trys.push([1, 3, , 4]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/enable-device-by-user"),
                data: { id, userId }
              })];
            case 2:
              _a3.sent();
              return [2, true];
            case 3:
              error_7 = _a3.sent();
              return [2, false];
            case 4:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.suspendDeviceUser = function(options) {
      return __awaiter26(this, void 0, void 0, function() {
        var userId, id, endTime, error_8;
        return __generator26(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = options.userId, id = options.id, endTime = options.endTime;
              _a3.label = 1;
            case 1:
              _a3.trys.push([1, 3, , 4]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v3/suspend-device-by-user"),
                data: { id, endTime, userId }
              })];
            case 2:
              _a3.sent();
              return [2, true];
            case 3:
              error_8 = _a3.sent();
              return [2, false];
            case 4:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    return BrowserFingerprintClient3;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/ManagementClient.js
var __awaiter27 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator27 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var DEFAULT_OPTIONS = {
  timeout: 1e4,
  onError: function(code, message) {
    throw { code, message };
  },
  host: "https://core.authing.cn",
  requestFrom: "sdk",
  encryptFunction: encrypt,
  headers: {
    "userpool-id": "x-authing-userpool-id",
    "app-id": "x-authing-app-id",
    "tenant-id": "x-authing-app-tenant-id",
    "request-from": "x-authing-request-from",
    "sdk-version": "x-authing-sdk-version",
    lang: "x-authing-lang"
  },
  lang: "zh-CN",
  socketUri: "wss://openevent.authing.cn",
  retryTimes: 5
};
var ManagementClient = (
  /** @class */
  function() {
    function ManagementClient2(options) {
      Object.keys(options).forEach(function(i) {
        return typeof options[i] !== "number" && !options[i] && delete options[i];
      });
      this.options = Object.assign({}, DEFAULT_OPTIONS, options);
      if (!this.options.userPoolId && !this.options.appId)
        throw new Error(" userPoolId  appId!");
      var graphqlApiEndpointV2 = "".concat(this.options.host, "/graphql/v2");
      if (!this.options.secret && !this.options.accessToken) {
        this.options.onError(1e3, "Init Management Client failed, must provide at least secret or accessToken !");
      }
      import_axios3.default.defaults.baseURL = this.options.host;
      this.graphqlClient = new (this.options.graphqlClient || GraphqlClient)(graphqlApiEndpointV2, this.options);
      this.tokenProvider = new ManagementTokenProvider(this.options, this.graphqlClient);
      this.httpClient = new (this.options.httpClient || HttpClient)(this.options, this.tokenProvider);
      this.fastHttpClient = new (this.options.fastHttpClient || FastHttpClient)(this.options, this.tokenProvider);
      this.publicKeyManager = new PublicKeyManager(this.options, this.httpClient);
      this.users = new UsersManagementClient(this.options, this.graphqlClient, this.httpClient, this.fastHttpClient, this.tokenProvider, this.publicKeyManager);
      this.userpool = new UserPoolManagementClient(this.options, this.httpClient, this.graphqlClient, this.tokenProvider);
      this.org = new OrgManagementClient(this.options, this.graphqlClient, this.httpClient, this.tokenProvider);
      this.roles = new RolesManagementClient(this.options, this.graphqlClient, this.httpClient, this.tokenProvider);
      this.policies = new PoliciesManagementClient(this.options, this.graphqlClient, this.tokenProvider);
      this.udf = new UdfManagementClient(this.options, this.graphqlClient, this.tokenProvider);
      this.acl = new AclManagementClient(this.options, this.graphqlClient, this.httpClient, this.tokenProvider);
      this.whitelist = new WhitelistManagementClient(this.options, this.graphqlClient, this.tokenProvider);
      this.groups = new GroupsManagementClient(this.options, this.graphqlClient, this.tokenProvider);
      this.statistics = new StatisticsManagementClient(this.options, this.httpClient, this.tokenProvider);
      this.userAction = new UserActionManagementClient(this.options, this.httpClient, this.tokenProvider);
      this.applications = new ApplicationsManagementClient(this.options, this.httpClient, this.graphqlClient, this.tokenProvider);
      this.mfa = new MFAManagementClient(this.options, this.graphqlClient, this.httpClient, this.tokenProvider);
      this.principal = new PrincipalManagementClient(this.options, this.graphqlClient, this.httpClient, this.tokenProvider);
      this.tenant = new TenantManagementClient(this.options, this.graphqlClient, this.httpClient, this.tokenProvider);
      this.event = new EventManagementClient(
        this.options,
        // this.graphqlClient,
        this.httpClient,
        this.tokenProvider
      );
      this.browserFingerprint = new BrowserFingerprintClient(this.options, this.httpClient, this.tokenProvider);
    }
    ManagementClient2.prototype.sendEmail = function(email, scene) {
      return __awaiter27(this, void 0, void 0, function() {
        var data;
        return __generator27(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, sendEmail(this.graphqlClient, this.tokenProvider, { email, scene })];
            case 1:
              data = _a3.sent().sendEmail;
              return [2, data];
          }
        });
      });
    };
    ManagementClient2.prototype.checkLoginStatus = function(token, options) {
      return __awaiter27(this, void 0, void 0, function() {
        var _a3, fetchUserDetail, decoded, data, id, user2;
        return __generator27(this, function(_b) {
          switch (_b.label) {
            case 0:
              options = options || {};
              _a3 = options.fetchUserDetail, fetchUserDetail = _a3 === void 0 ? false : _a3;
              if (!token)
                return [2, null];
              decoded = null;
              try {
                decoded = (0, import_jwt_decode2.default)(token);
              } catch (error) {
                return [2, null];
              }
              data = decoded.data;
              if (!!fetchUserDetail) return [3, 1];
              return [2, data];
            case 1:
              id = data.id;
              return [4, this.users.detail(id)];
            case 2:
              user2 = _b.sent();
              return [2, user2];
          }
        });
      });
    };
    ManagementClient2.prototype.isPasswordValid = function(password) {
      return __awaiter27(this, void 0, void 0, function() {
        return __generator27(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.options.host, "/api/v2/password/check"),
                data: {
                  password
                }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    ManagementClient2.prototype.setLang = function(lang) {
      this.options.lang = lang;
    };
    ManagementClient2.prototype.makeGraphqlRequest = function(options) {
      return __awaiter27(this, void 0, void 0, function() {
        var query, variables, token, data;
        return __generator27(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              query = options.query, variables = options.variables;
              return [4, this.tokenProvider.getToken()];
            case 1:
              token = _a3.sent();
              return [4, this.graphqlClient.request({
                query,
                variables,
                token
              })];
            case 2:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    ManagementClient2.prototype.makeRestRequest = function(config) {
      return __awaiter27(this, void 0, void 0, function() {
        return __generator27(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request(config)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    return ManagementClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/management/types.js
var SupportedUserActionEnum;
(function(SupportedUserActionEnum2) {
  SupportedUserActionEnum2["LOGIN"] = "login";
  SupportedUserActionEnum2["REGISTER"] = "register";
  SupportedUserActionEnum2["DELETE_ACCOUNT"] = "deleteAccount";
  SupportedUserActionEnum2["UPDATE_USER_INFO"] = "updateUserinfo";
  SupportedUserActionEnum2["REFRESH_TOKEN"] = "refreshToken";
  SupportedUserActionEnum2["UPDATE_EMAIL"] = "updateEmail";
  SupportedUserActionEnum2["UPDATE_PHONE"] = "updatePhone";
  SupportedUserActionEnum2["UPDATE_PASSWORD"] = "updatePassword";
  SupportedUserActionEnum2["VERIFY_MFA"] = "verifyMfa";
})(SupportedUserActionEnum || (SupportedUserActionEnum = {}));
var SupportedAdminActionEnum;
(function(SupportedAdminActionEnum2) {
  SupportedAdminActionEnum2["DELETE_USER"] = "deleteUser";
  SupportedAdminActionEnum2["DELETE_USERS"] = "deleteUsers";
  SupportedAdminActionEnum2["CREATE_USER"] = "createUser";
  SupportedAdminActionEnum2["REFRESH_TOKEN"] = "refreshToken";
  SupportedAdminActionEnum2["IMPORT_USER"] = "importUser";
  SupportedAdminActionEnum2["EXPORT_USER"] = "exportUser";
  SupportedAdminActionEnum2["REFRESH_SECRET"] = "refreshSecret";
  SupportedAdminActionEnum2["DELETE_USERPOOL"] = "deleteUserpool";
  SupportedAdminActionEnum2["CREATE_USERPOOL"] = "createUserpool";
  SupportedAdminActionEnum2["USERPOOL_UPDATE_CONFIG"] = "userpool:UpdateConfig";
  SupportedAdminActionEnum2["REFRESH_USERPOOL_SECRET"] = "refreshUserpoolSecret";
})(SupportedAdminActionEnum || (SupportedAdminActionEnum = {}));
var ApplicationType;
(function(ApplicationType2) {
  ApplicationType2["INDIVIDUAL"] = "INDIVIDUAL";
  ApplicationType2["TENANT"] = "Tenant";
  ApplicationType2["BOTH"] = "BOTH";
})(ApplicationType || (ApplicationType = {}));

// node_modules/authing-js-sdk/build/module/lib/authentication/types.js
var PasswordSecurityLevel;
(function(PasswordSecurityLevel2) {
  PasswordSecurityLevel2[PasswordSecurityLevel2["LOW"] = 1] = "LOW";
  PasswordSecurityLevel2[PasswordSecurityLevel2["MIDDLE"] = 2] = "MIDDLE";
  PasswordSecurityLevel2[PasswordSecurityLevel2["HIGH"] = 3] = "HIGH";
})(PasswordSecurityLevel || (PasswordSecurityLevel = {}));
var SocialConnectionProvider;
(function(SocialConnectionProvider2) {
  SocialConnectionProvider2["ALIPAY"] = "alipay";
  SocialConnectionProvider2["GOOGLE"] = "google";
  SocialConnectionProvider2["WECHATPC"] = "wechat:pc";
  SocialConnectionProvider2["WECHATMP"] = "wechat:webpage-authorization";
  SocialConnectionProvider2["WECHAT_MINIPROGRAM"] = "wechat:miniprogram:default";
  SocialConnectionProvider2["WECHAT_MINIPROGRAM_QRCODE"] = "wechat:miniprogram:qrconnect";
  SocialConnectionProvider2["WECHAT_MINIPROGRAM_APPLAUNCH"] = "wechat:miniprogram:app-launch";
  SocialConnectionProvider2["WECHATMOBILE"] = "wechat:mobile";
  SocialConnectionProvider2["GITHUB"] = "github";
  SocialConnectionProvider2["QQ"] = "qq";
  SocialConnectionProvider2["WECHATWORK_ADDRESS_BOOK"] = "wechatwork:addressbook";
  SocialConnectionProvider2["WECHATWORK_CORP_QRCONNECT"] = "wechatwork:corp:qrconnect";
  SocialConnectionProvider2["WECHATWORK_SERVICEPROVIDER_QRCONNECT"] = "wechatwork:service-provider:qrconnect";
  SocialConnectionProvider2["DINGTALK"] = "dingtalk";
  SocialConnectionProvider2["WEIBO"] = "weibo";
  SocialConnectionProvider2["APPLE"] = "apple";
  SocialConnectionProvider2["APPLE_WEB"] = "apple:web";
  SocialConnectionProvider2["LARK_PUBLIC"] = "lark-public";
  SocialConnectionProvider2["LARK_INTERNAL"] = "lark-internal";
  SocialConnectionProvider2["BAIDU"] = "baidu";
  SocialConnectionProvider2["LINKEDIN"] = "linkedin";
  SocialConnectionProvider2["SLACK"] = "slack";
  SocialConnectionProvider2["YIDUN"] = "yidun";
  SocialConnectionProvider2["QINGCLOUD"] = "qingcloud";
  SocialConnectionProvider2["FACEBOOK"] = "facebook";
})(SocialConnectionProvider || (SocialConnectionProvider = {}));
var Protocol;
(function(Protocol2) {
  Protocol2["OIDC"] = "oidc";
  Protocol2["OAUTH"] = "oauth";
  Protocol2["SAML"] = "saml";
  Protocol2["CAS"] = "cas";
  Protocol2["AZURE_AD"] = "azure-ad";
})(Protocol || (Protocol = {}));
var AppPasswordStrengthLimit;
(function(AppPasswordStrengthLimit2) {
  AppPasswordStrengthLimit2[AppPasswordStrengthLimit2["NoCheck"] = 0] = "NoCheck";
  AppPasswordStrengthLimit2[AppPasswordStrengthLimit2["Low"] = 1] = "Low";
  AppPasswordStrengthLimit2[AppPasswordStrengthLimit2["Middle"] = 2] = "Middle";
  AppPasswordStrengthLimit2[AppPasswordStrengthLimit2["High"] = 3] = "High";
})(AppPasswordStrengthLimit || (AppPasswordStrengthLimit = {}));
var RegisterMethods;
(function(RegisterMethods2) {
  RegisterMethods2["Email"] = "email";
  RegisterMethods2["Phone"] = "phone";
})(RegisterMethods || (RegisterMethods = {}));
var LoginMethods;
(function(LoginMethods2) {
  LoginMethods2["LDAP"] = "ldap";
  LoginMethods2["AppQr"] = "app-qrcode";
  LoginMethods2["Password"] = "password";
  LoginMethods2["PhoneCode"] = "phone-code";
  LoginMethods2["WxMinQr"] = "wechat-miniprogram-qrcode";
  LoginMethods2["AD"] = "ad";
})(LoginMethods || (LoginMethods = {}));
var OIDCConnectionMode;
(function(OIDCConnectionMode2) {
  OIDCConnectionMode2["FRONT_CHANNEL"] = "FRONT_CHANNEL";
  OIDCConnectionMode2["BACK_CHANNEL"] = "BACK_CHANNEL";
})(OIDCConnectionMode || (OIDCConnectionMode = {}));
var SceneType;
(function(SceneType2) {
  SceneType2["SCENE_TYPE_LOGIN"] = "login";
  SceneType2["SCENE_TYPE_REGISTER"] = "register";
  SceneType2["SCENE_TYPE_RESET"] = "reset";
  SceneType2["SCENE_TYPE_BIND"] = "bind";
  SceneType2["SCENE_TYPE_UNBIND"] = "unbind";
  SceneType2["SCENE_TYPE_MFA_BIND"] = "mfa-bind";
  SceneType2["SCENE_TYPE_MFA_VERIFY"] = "mfa-verify";
  SceneType2["SCENE_TYPE_MFA_UNBIND"] = "mfa-unbind";
  SceneType2["SCENE_TYPE_COMPLETE_PHONE"] = "complete-phone";
})(SceneType || (SceneType = {}));
var RelayMethodEnum;
(function(RelayMethodEnum2) {
  RelayMethodEnum2["WEB_MESSAGE"] = "web_message";
  RelayMethodEnum2["FORM_POST"] = "form_post";
  RelayMethodEnum2["QUERY"] = "query";
})(RelayMethodEnum || (RelayMethodEnum = {}));

// node_modules/authing-js-sdk/build/module/lib/authentication/AuthenticationTokenProvider.js
var tokenKey = "_authing_token";
var userKey = "_authing_user";
var AuthenticationTokenProvider = (
  /** @class */
  function() {
    function AuthenticationTokenProvider2(options) {
      this.options = options;
      this.token = null;
      this.user = null;
    }
    AuthenticationTokenProvider2.prototype.setToken = function(token) {
      if (typeof localStorage !== "undefined") {
        localStorage.setItem(tokenKey, token);
      } else {
        this.token = token;
      }
    };
    AuthenticationTokenProvider2.prototype.getToken = function() {
      if (typeof localStorage !== "undefined") {
        var token = localStorage.getItem(tokenKey);
        if (token === "null" || token === "undefined") {
          return null;
        }
        return token;
      }
      return this.token;
    };
    AuthenticationTokenProvider2.prototype.getUser = function() {
      return typeof localStorage !== "undefined" ? localStorage.getItem(userKey) ? JSON.parse(localStorage.getItem(userKey)) : null : this.user;
    };
    AuthenticationTokenProvider2.prototype.setUser = function(user2) {
      if (typeof localStorage !== "undefined") {
        localStorage.setItem(userKey, JSON.stringify(user2));
        localStorage.setItem(tokenKey, user2.token);
      } else {
        this.user = user2;
        this.token = user2.token;
      }
    };
    AuthenticationTokenProvider2.prototype.clearUser = function() {
      if (typeof localStorage !== "undefined") {
        localStorage.removeItem(userKey);
        localStorage.removeItem(tokenKey);
      } else {
        this.user = null;
        this.token = null;
      }
    };
    return AuthenticationTokenProvider2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/AuthenticationClient.js
var import_sha256 = __toESM(require_sha256());
var import_crypto_js2 = __toESM(require_crypto_js());

// node_modules/authing-js-sdk/build/module/lib/authentication/QrCodeAuthenticationClient.js
var __awaiter28 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator28 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var roundedImage = function(context2D, x, y, width, height, radius) {
  context2D.beginPath();
  context2D.moveTo(x + radius, y);
  context2D.lineTo(x + width - radius, y);
  context2D.quadraticCurveTo(x + width, y, x + width, y + radius);
  context2D.lineTo(x + width, y + height - radius);
  context2D.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
  context2D.lineTo(x + radius, y + height);
  context2D.quadraticCurveTo(x, y + height, x, y + height - radius);
  context2D.lineTo(x, y + radius);
  context2D.quadraticCurveTo(x, y, x + radius, y);
  context2D.closePath();
};
var getOffset = function(size) {
  var containerHalfWidth = size.width / 2;
  var containerHalfHeight = size.height / 2;
  var ww = size.width / 2.4;
  var hh = size.height / 2.4;
  var logoHalfWidth = ww / 2;
  var logoHalfHeight = hh / 2;
  return {
    x: containerHalfWidth - logoHalfWidth,
    y: containerHalfHeight - logoHalfHeight,
    ww,
    hh
  };
};
var QrCodeAuthenticationClient = (
  /** @class */
  function() {
    function QrCodeAuthenticationClient2(options, tokenProvider, httpClient, scene) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
      this.scene = scene;
      this.baseClient = new BaseAuthenticationClient(options);
    }
    QrCodeAuthenticationClient2.prototype.startScanning = function(domId, options) {
      return __awaiter28(this, void 0, void 0, function() {
        function genRetry(qrcodeElm, tipText, retryId) {
          return __awaiter28(this, void 0, void 0, function() {
            var tip, qrcodeImage, shadow, dom;
            return __generator28(this, function(_a4) {
              switch (_a4.label) {
                case 0:
                  tip = genTip(tipText);
                  nodeWrapper = document.createElement("div");
                  nodeWrapper.id = "authing__qrcode-wrapper";
                  nodeWrapper.style.textAlign = "center";
                  nodeWrapper.style.position = "relative";
                  return [4, genImage("https://usercontents.authing.cn/0ab3a1bf19c0d7106673e494d532f91a.png")];
                case 1:
                  qrcodeImage = _a4.sent();
                  if (!needGenerate) {
                    qrcodeImage.style.marginTop = "12px";
                  } else {
                    qrcodeImage.style.marginTop = "16px";
                  }
                  qrcodeImage.onload = function() {
                    unloading();
                  };
                  shadow = genShadow(retry, function() {
                    if (onRetry) {
                      onRetry();
                    }
                    start();
                  }, retryId || "__authing_retry_btn");
                  nodeWrapper.appendChild(qrcodeImage);
                  nodeWrapper.appendChild(shadow);
                  nodeWrapper.appendChild(tip);
                  dom = document.querySelector("#authing__qrcode-wrapper");
                  if (dom)
                    dom.remove();
                  qrcodeElm.appendChild(nodeWrapper);
                  return [
                    2
                    /*return*/
                  ];
              }
            });
          });
        }
        var _a3, autoExchangeUserInfo, _b, size, _c, containerSize, _d, interval, onStart, onResult, onScanned, onExpired, onSuccess, onCancel, onError, onCodeShow, onCodeLoaded, onCodeLoadFailed, onRetry, onMfa, onAuthFlow, _e, tips, context, customData, extIdpConnId, withCustomData, lang, nowLang, _f, title, _g, canceled, _h, expired, _j, succeed, _k, retry, _l, middleTitle, _m, referText, node, nodeWrapper, needGenerate, styleNode, style, loading, unloading, genTip, editTipText, genImage, genLogoInCenter, genShadowMiddleStatus, genReferTextNode, removeReferTextNode, genShadow, displayScannedUser, start;
        var _this = this;
        return __generator28(this, function(_o) {
          options = options || {};
          _a3 = options.autoExchangeUserInfo, autoExchangeUserInfo = _a3 === void 0 ? false : _a3, _b = options.size, size = _b === void 0 ? {
            height: 240,
            width: 240
          } : _b, _c = options.containerSize, containerSize = _c === void 0 ? {
            height: 300,
            width: 300
          } : _c, _d = options.interval, interval = _d === void 0 ? 800 : _d, onStart = options.onStart, onResult = options.onResult, onScanned = options.onScanned, onExpired = options.onExpired, onSuccess = options.onSuccess, onCancel = options.onCancel, onError = options.onError, onCodeShow = options.onCodeShow, onCodeLoaded = options.onCodeLoaded, onCodeLoadFailed = options.onCodeLoadFailed, onRetry = options.onRetry, onMfa = options.onMfa, onAuthFlow = options.onAuthFlow, _e = options.tips, tips = _e === void 0 ? {} : _e, context = options.context, customData = options.customData, extIdpConnId = options.extIdpConnId, withCustomData = options.withCustomData;
          lang = this.options.lang;
          nowLang = lang === "zh-CN";
          _f = tips.title, title = _f === void 0 ? nowLang ? "" : "Please be on the mobile" : _f, _g = tips.canceled, canceled = _g === void 0 ? nowLang ? "" : "User cancel authorization" : _g, _h = tips.expired, expired = _h === void 0 ? nowLang ? "" : "QR code has expired" : _h, _j = tips.succeed, succeed = _j === void 0 ? nowLang ? "" : "Scan code successfully" : _j, _k = tips.retry, retry = _k === void 0 ? nowLang ? "" : "Retry" : _k, _l = tips.middleTitle, middleTitle = _l === void 0 ? nowLang ? "" : "Confirm login" : _l, _m = tips.referText, referText = _m === void 0 ? nowLang ? "" : "Scan the code" : _m;
          node = document.getElementById(domId);
          needGenerate = false;
          if (!node) {
            node = document.createElement("div");
            node.id = domId;
            createCssClassStyleSheet("__authing-qrcode-node-mount", "z-index: 65535;position: fixed;background: #fff;width: ".concat(containerSize.width, "px;height: ").concat(containerSize.height, "px;left: 50%;margin-left: -").concat(containerSize.width / 2, "px;display: flex;justify-content: center;align-items: center;top: 50%;margin-top: -").concat(containerSize.height / 2, "px;border: 1px solid #ccc;"));
            node.classList.add("__authing-qrcode-node-mount");
            document.getElementsByTagName("body")[0].appendChild(node);
            needGenerate = true;
          } else {
            node.style.position = "relative";
          }
          styleNode = document.createElement("style");
          style = "#authing__retry a:hover{outline:0px;text-decoration:none;}#authing__spinner{position:absolute;left:50%;margin-left:-6px;}.spinner{margin:100px auto;width:20px;height:20px;position:relative}.container1>div,.container2>div,.container3>div{width:6px;height:6px;background-color:#00a1ea;border-radius:100%;position:absolute;-webkit-animation:bouncedelay 1.2s infinite ease-in-out;animation:bouncedelay 1.2s infinite ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.spinner .spinner-container{position:absolute;width:100%;height:100%}.container2{-webkit-transform:rotateZ(45deg);transform:rotateZ(45deg)}.container3{-webkit-transform:rotateZ(90deg);transform:rotateZ(90deg)}.circle1{top:0;left:0}.circle2{top:0;right:0}.circle3{right:0;bottom:0}.circle4{left:0;bottom:0}.container2 .circle1{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.container3 .circle1{-webkit-animation-delay:-1.0s;animation-delay:-1.0s}.container1 .circle2{-webkit-animation-delay:-0.9s;animation-delay:-0.9s}.container2 .circle2{-webkit-animation-delay:-0.8s;animation-delay:-0.8s}.container3 .circle2{-webkit-animation-delay:-0.7s;animation-delay:-0.7s}.container1 .circle3{-webkit-animation-delay:-0.6s;animation-delay:-0.6s}.container2 .circle3{-webkit-animation-delay:-0.5s;animation-delay:-0.5s}.container3 .circle3{-webkit-animation-delay:-0.4s;animation-delay:-0.4s}.container1 .circle4{-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.container2 .circle4{-webkit-animation-delay:-0.2s;animation-delay:-0.2s}.container3 .circle4{-webkit-animation-delay:-0.1s;animation-delay:-0.1s}@-webkit-keyframes bouncedelay{0%,80%,100%{-webkit-transform:scale(0.0)}40%{-webkit-transform:scale(1.0)}}@keyframes bouncedelay{0%,80%,100%{transform:scale(0.0);-webkit-transform:scale(0.0)}40%{transform:scale(1.0);-webkit-transform:scale(1.0)}}";
          styleNode.type = "text/css";
          if (styleNode.style) {
            styleNode.style.cssText = style;
          } else {
            styleNode.innerHTML = style;
          }
          document.getElementsByTagName("head")[0].appendChild(styleNode);
          loading = function() {
            node.innerHTML = '<div id="authing__spinner" class="spinner"><div class="spinner-container container1"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container2"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container3"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div></div>';
          };
          unloading = function() {
            var child = document.getElementById("authing__spinner");
            if (child)
              node.removeChild(child);
          };
          genTip = function(text) {
            var formattedText;
            try {
              formattedText = JSON.parse(text).message || text;
            } catch (e) {
              formattedText = text;
            }
            var tip = document.createElement("span");
            tip.className = "authing__heading-subtitle";
            if (!needGenerate) {
              createCssClassStyleSheet("__authing__heading-subtitle-style", "display: block;font-weight: 400;font-size: 15px;color: #888;line-height: 20px;margin-top: 8px;");
              tip.classList.add("__authing__heading-subtitle-style");
            } else {
              createCssClassStyleSheet("__authing__heading-subtitle-style", "display: block;font-weight: 400;font-size: 12px;color: #888;");
              tip.classList.add("__authing__heading-subtitle-style");
            }
            tip.id = "authing__qrcode-tip-text";
            tip.innerHTML = formattedText;
            return tip;
          };
          editTipText = function(text) {
            var el = document.getElementById("authing__qrcode-tip-text");
            if (el) {
              el.innerText = text;
            }
          };
          genImage = function(src) {
            return new Promise(function(resolve) {
              var qrcodeImage = document.createElement("img");
              qrcodeImage.src = src;
              qrcodeImage.width = size.width;
              qrcodeImage.height = size.height;
              qrcodeImage.setAttribute("crossOrigin", "Anonymous");
              qrcodeImage.onload = function() {
                resolve(qrcodeImage);
              };
            });
          };
          genLogoInCenter = function(logo) {
            return new Promise(function(resolve) {
              var qrcodeLogo = document.createElement("img");
              qrcodeLogo.src = logo;
              qrcodeLogo.setAttribute("crossOrigin", "Anonymous");
              qrcodeLogo.width = size.width / 2.4;
              qrcodeLogo.height = size.height / 2.4;
              qrcodeLogo.onload = function() {
                qrcodeLogo.style.display = "inline";
                resolve(qrcodeLogo);
              };
              qrcodeLogo.onerror = function() {
                resolve(qrcodeLogo);
              };
            });
          };
          genShadowMiddleStatus = function(text) {
            editTipText(middleTitle);
            var successWrapper = document.createElement("div");
            createCssClassStyleSheet("__authing-shadow-inner-style-position", "position:absolute;top:56%;left:50%;\n         width:64px;transform:translate(-50%,-50%);\n        background-position:center center;\n      align-items: center; /**/\n      justify-content: center; /**/");
            successWrapper.classList.add("__authing-shadow-inner-style-position");
            var successImage = document.createElement("div");
            createCssClassStyleSheet("__authing-shadow-inner-image-style-position", "width:64px;height:64px;opacity:1;\n        background-position:center center;background-repeat:no-repeat;\n        background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHZpZXdCb3g9IjAgMCA1NCA1NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI3IDUzLjY2NjdDMTIuMjcyIDUzLjY2NjcgMC4zMzMzNzQgNDEuNzI4IDAuMzMzMzc0IDI3QzAuMzMzMzc0IDEyLjI3MiAxMi4yNzIgMC4zMzMzMzIgMjcgMC4zMzMzMzJDNDEuNzI4IDAuMzMzMzMyIDUzLjY2NjcgMTIuMjcyIDUzLjY2NjcgMjdDNTMuNjY2NyA0MS43MjggNDEuNzI4IDUzLjY2NjcgMjcgNTMuNjY2N1pNMjQuMzQxNCAzNy42NjY3TDQzLjE5NDcgMTguODEwN0wzOS40MjQgMTUuMDRMMjQuMzQxNCAzMC4xMjUzTDE2Ljc5NzQgMjIuNTgxM0wxMy4wMjY3IDI2LjM1MkwyNC4zNDE0IDM3LjY2NjdaIiBmaWxsPSIjMUVCNzZEIi8+Cjwvc3ZnPgo=);\n        margin-bottom: 10px;\n      align-items: center; /**/\n      justify-content: center; /**/");
            successImage.classList.add("__authing-shadow-inner-image-style-position");
            successImage.id = "authing_scan_success_image";
            var successTextNode = document.createElement("p");
            createCssClassStyleSheet("__authing-shadow-inner-text-style-position", "font-weight: 400;font-size: 14px;line-height: 20px;color: #282D3C;;align-items: center; /**/justify-content: center; /**/");
            successTextNode.classList.add("__authing-shadow-inner-text-style-position");
            successTextNode.id = "authing_scan_success_text";
            successTextNode.innerText = text;
            successWrapper.appendChild(successImage);
            successWrapper.appendChild(successTextNode);
            return successWrapper;
          };
          genReferTextNode = function(text) {
            var referTextNode = document.createElement("p");
            createCssClassStyleSheet("__authing-shadow-inner-refer-text-style-position", "color: #215AE5;font-size: 14px;line-height:20px;font-weight: 400; text-align:center;cursor:pointer;padding-top:4px;");
            referTextNode.classList.add("__authing-shadow-inner-refer-text-style-position");
            referTextNode.id = "authing_scan_success_refer_text";
            referTextNode.innerText = text;
            referTextNode.onclick = function() {
              if (_this.timer) {
                clearInterval(_this.timer);
              }
              if (onRetry) {
                onRetry();
              }
              start();
            };
            return referTextNode;
          };
          removeReferTextNode = function() {
            var id = "authing_scan_success_refer_text";
            var dom = document.getElementById(id);
            if (dom) {
              dom.parentNode.removeChild(dom);
            }
          };
          genShadow = function(text, aOnClick, shadowAId) {
            var shadowId = "authing__retry";
            if (document.getElementById(shadowId)) {
              document.getElementById(shadowId).remove();
            }
            var shadow = document.createElement("div");
            shadow.id = shadowId;
            createCssClassStyleSheet("__authing-shadow-style", "text-align:center;width: ".concat(size.width, "px;height: ").concat(size.height, "px;position: absolute;left: 50%;top: 0px;margin-left: -").concat(size.width / 2, "px;background-color: rgba(0,0,0, 0.5);line-height:").concat(size.height, "px;color:#fff;font-weight:600;"));
            shadow.classList.add("__authing-shadow-style");
            var shadowA = document.createElement("a");
            shadowA.innerHTML = text;
            shadowA.style.color = "#fff";
            shadowA.style.borderBottom = "1px solid #fff";
            shadowA.style.cursor = "pointer";
            if (aOnClick) {
              shadowA.addEventListener("click", aOnClick);
            }
            shadowA.id = shadowAId;
            shadow.appendChild(shadowA);
            return shadow;
          };
          displayScannedUser = function(_) {
            var shadowId = "authing__retry";
            if (document.getElementById(shadowId)) {
              document.getElementById(shadowId).remove();
            }
            var shadow = document.createElement("div");
            createCssClassStyleSheet("__authing-shadow-style-position", "text-align:center;width:".concat(size.width, "px;height: ").concat(size.height, "px;background:rgba(255,255,255,.97);position: absolute;left: 50%;top: 0px;margin-left: -").concat(size.width / 2, "px;line-height:").concat(size.height, "px;color:#fff;font-weight:600;display: flex;\n      align-items: center; /**/\n      justify-content: center; /**/"));
            shadow.classList.add("__authing-shadow-style-position");
            shadow.id = shadowId;
            var successWrapper = genShadowMiddleStatus(succeed);
            var referTextNode = genReferTextNode(referText);
            nodeWrapper.appendChild(referTextNode);
            shadow.appendChild(successWrapper);
            return shadow;
          };
          start = function() {
            return __awaiter28(_this, void 0, void 0, function() {
              var random, url, logo, data, error_1, qrcodeImage, qrcodeLogo, canvas, context2D, _a4, x, y, ww, hh, base64, img, decoratedOnSuccess, decoratedOnScanned, decoratedOnCancel, decoratedOnExpired, decoratedOnError, tip, dom;
              var _this2 = this;
              return __generator28(this, function(_b2) {
                switch (_b2.label) {
                  case 0:
                    loading();
                    random = null;
                    url = null;
                    logo = null;
                    _b2.label = 1;
                  case 1:
                    _b2.trys.push([1, 3, , 4]);
                    return [4, this.geneCode({
                      context,
                      customData,
                      extIdpConnId,
                      withCustomData
                    })];
                  case 2:
                    data = _b2.sent();
                    random = data.random;
                    url = data.url;
                    logo = data.customLogo;
                    return [3, 4];
                  case 3:
                    error_1 = _b2.sent();
                    error_1 = error_1;
                    genRetry(node, error_1.message);
                    if (onCodeLoadFailed) {
                      onCodeLoadFailed(error_1);
                    }
                    return [
                      2
                      /*return*/
                    ];
                  case 4:
                    if (onCodeLoaded) {
                      onCodeLoaded(random, url);
                    }
                    nodeWrapper = document.createElement("div");
                    nodeWrapper.id = "authing__qrcode-wrapper";
                    nodeWrapper.style.textAlign = "center";
                    nodeWrapper.style.position = "relative";
                    nodeWrapper.style.margin = "auto";
                    return [4, genImage(url)];
                  case 5:
                    qrcodeImage = _b2.sent();
                    if (!logo) return [3, 7];
                    return [4, genLogoInCenter(logo)];
                  case 6:
                    qrcodeLogo = _b2.sent();
                    _b2.label = 7;
                  case 7:
                    canvas = document.createElement("canvas");
                    canvas.width = size.width;
                    canvas.height = size.height;
                    context2D = canvas.getContext("2d");
                    url && context2D.drawImage(qrcodeImage, 0, 0, size.width, size.height);
                    _a4 = getOffset(size), x = _a4.x, y = _a4.y, ww = _a4.ww, hh = _a4.hh;
                    context2D.save();
                    roundedImage(context2D, x, y, ww, hh, ww / 2);
                    context2D.clip();
                    try {
                      qrcodeLogo && context2D.drawImage(qrcodeLogo, x, y, ww, hh);
                    } catch (_c2) {
                      console.log("Draw stop, check qrcodeLogo", qrcodeLogo);
                    }
                    context2D.restore();
                    try {
                      base64 = canvas.toDataURL();
                      img = document.createElement("img");
                      img.src = base64;
                      nodeWrapper.appendChild(img);
                    } catch (_d2) {
                      nodeWrapper.appendChild(canvas);
                    }
                    unloading();
                    if (onCodeShow) {
                      onCodeShow(random, url);
                    }
                    decoratedOnSuccess = function(userInfo, ticket) {
                      editTipText("");
                      removeReferTextNode();
                      var shadow = genShadow(succeed, null, "__authing_success_tip");
                      nodeWrapper.appendChild(shadow);
                      if (onSuccess) {
                        if (autoExchangeUserInfo) {
                          var token = userInfo.token;
                          if (!token) {
                            _this2.exchangeUserInfo(ticket).then(function(userInfo2) {
                              _this2.tokenProvider.setUser(userInfo2);
                              onSuccess(userInfo2, ticket);
                            });
                          } else {
                            onSuccess(userInfo, ticket);
                          }
                        } else {
                          onSuccess(userInfo, ticket);
                        }
                      }
                    };
                    decoratedOnScanned = function(userInfo) {
                      var shadow = displayScannedUser(userInfo.nickname);
                      nodeWrapper.appendChild(shadow);
                      if (onScanned) {
                        onScanned(userInfo);
                      }
                    };
                    decoratedOnCancel = function() {
                      if (start) {
                        start();
                      }
                      if (onCancel) {
                        onCancel();
                      }
                    };
                    decoratedOnExpired = function() {
                      var shadow = genShadow(expired, function() {
                        nodeWrapper.innerHTML = "";
                        start();
                      }, "__authing_success_tip");
                      nodeWrapper.appendChild(shadow);
                      if (onExpired) {
                        onExpired();
                      }
                    };
                    decoratedOnError = function(data2) {
                      var message = data2.message;
                      if (onError) {
                        onError(message);
                      }
                    };
                    this.startPolling(random, {
                      interval,
                      onStart,
                      onResult,
                      onScanned: decoratedOnScanned,
                      onExpired: decoratedOnExpired,
                      onSuccess: decoratedOnSuccess,
                      onCancel: decoratedOnCancel,
                      onError: decoratedOnError,
                      onMfa,
                      onAuthFlow
                    });
                    tip = genTip(title);
                    nodeWrapper.appendChild(tip);
                    dom = document.querySelector("#authing__qrcode-wrapper");
                    if (dom)
                      dom.remove();
                    node.appendChild(nodeWrapper);
                    return [
                      2
                      /*return*/
                    ];
                }
              });
            });
          };
          start();
          return [
            2
            /*return*/
          ];
        });
      });
    };
    QrCodeAuthenticationClient2.prototype.geneCode = function(options) {
      return __awaiter28(this, void 0, void 0, function() {
        var _a3, context, customData, extIdpConnId, withCustomData, api, data;
        return __generator28(this, function(_b) {
          switch (_b.label) {
            case 0:
              _a3 = options || {}, context = _a3.context, customData = _a3.customData, extIdpConnId = _a3.extIdpConnId, withCustomData = _a3.withCustomData;
              api = "".concat(this.baseClient.appHost, "/api/v2/qrcode/gene");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  autoMergeQrCode: false,
                  scene: this.scene,
                  context,
                  params: customData,
                  extIdpConnId,
                  withCustomData
                }
              })];
            case 1:
              data = _b.sent();
              return [2, data];
          }
        });
      });
    };
    QrCodeAuthenticationClient2.prototype.checkStatus = function(random) {
      return __awaiter28(this, void 0, void 0, function() {
        var api, data;
        return __generator28(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/qrcode/check?random=").concat(random);
              return [4, this.httpClient.request({
                method: "GET",
                url: api
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    QrCodeAuthenticationClient2.prototype.exchangeUserInfo = function(ticket) {
      return __awaiter28(this, void 0, void 0, function() {
        var api, userInfo;
        return __generator28(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/qrcode/userinfo");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  ticket
                }
              })];
            case 1:
              userInfo = _a3.sent();
              return [2, userInfo];
          }
        });
      });
    };
    QrCodeAuthenticationClient2.prototype.startPolling = function(random, options) {
      return __awaiter28(this, void 0, void 0, function() {
        var _a3, interval, onStart, onResult, onScanned, onExpired, onSuccess, onCancel, onError, onMfa, onAuthFlow, calledOnScanned, callOnPoolingStart, timer;
        var _this = this;
        return __generator28(this, function(_b) {
          options = options || {};
          _a3 = options.interval, interval = _a3 === void 0 ? 800 : _a3, onStart = options.onStart, onResult = options.onResult, onScanned = options.onScanned, onExpired = options.onExpired, onSuccess = options.onSuccess, onCancel = options.onCancel, onError = options.onError, onMfa = options.onMfa, onAuthFlow = options.onAuthFlow;
          calledOnScanned = false;
          callOnPoolingStart = false;
          timer = this.timer = setInterval(function() {
            return __awaiter28(_this, void 0, void 0, function() {
              var data, status_1, ticket, userInfo, scannedResult, code, message, mfaData, scannedResult, scannedResult, errmsg, error_2;
              return __generator28(this, function(_a4) {
                switch (_a4.label) {
                  case 0:
                    if (onStart && !callOnPoolingStart) {
                      onStart(timer);
                      callOnPoolingStart = true;
                    }
                    _a4.label = 1;
                  case 1:
                    _a4.trys.push([1, 3, , 4]);
                    return [4, this.checkStatus(random)];
                  case 2:
                    data = _a4.sent();
                    status_1 = data.status, ticket = data.ticket, userInfo = data.userInfo;
                    if (onResult) {
                      onResult(data);
                    }
                    if (status_1 === -1) {
                      clearInterval(timer);
                      if (onExpired) {
                        onExpired();
                      }
                    }
                    if (status_1 === 0) {
                    }
                    if (status_1 === 1) {
                      if (onScanned && !calledOnScanned) {
                        onScanned(userInfo);
                        calledOnScanned = true;
                      }
                    }
                    if (status_1 === 2) {
                      clearInterval(timer);
                      if (onSuccess) {
                        onSuccess(userInfo, ticket);
                      }
                    }
                    if (status_1 === 3) {
                      clearInterval(timer);
                      if (onCancel) {
                        onCancel();
                      }
                    }
                    if (status_1 === 4) {
                      clearInterval(timer);
                      if (onMfa) {
                        scannedResult = data.scannedResult;
                        code = scannedResult.code, message = scannedResult.message, mfaData = scannedResult.data;
                        onMfa(code, message, mfaData);
                      }
                      if (onAuthFlow) {
                        scannedResult = data.scannedResult;
                        onAuthFlow(scannedResult);
                      }
                    }
                    if (status_1 === 5) {
                      clearInterval(timer);
                      if (onError) {
                        scannedResult = data.scannedResult;
                        errmsg = scannedResult.errmsg;
                        onError(errmsg);
                      }
                    }
                    return [3, 4];
                  case 3:
                    error_2 = _a4.sent();
                    if (onError) {
                      onError(error_2);
                    }
                    clearInterval(timer);
                    return [
                      2
                      /*return*/
                    ];
                  case 4:
                    return [
                      2
                      /*return*/
                    ];
                }
              });
            });
          }, interval);
          return [2, timer];
        });
      });
    };
    QrCodeAuthenticationClient2.prototype.stopPolling = function(timer) {
      return __awaiter28(this, void 0, void 0, function() {
        return __generator28(this, function(_a3) {
          clearInterval(timer);
          return [
            2
            /*return*/
          ];
        });
      });
    };
    return QrCodeAuthenticationClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/BrowserFingerprintClient.js
var __assign11 = function() {
  __assign11 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign11.apply(this, arguments);
};
var __awaiter29 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator29 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var BrowserFingerprintClient2 = (
  /** @class */
  function() {
    function BrowserFingerprintClient3(options, httpClient) {
      this.baseClient = new BaseAuthenticationClient(options);
      this.options = options;
      this.httpClient = httpClient;
    }
    BrowserFingerprintClient3.prototype.getBrowserFingers = function() {
      return __awaiter29(this, void 0, void 0, function() {
        var localBrowserId, localDeviceFingers, localDeviceFingersObj, _a3, browserId, deviceFingers;
        return __generator29(this, function(_b) {
          switch (_b.label) {
            case 0:
              localBrowserId = localStorage.getItem("browserId");
              localDeviceFingers = localStorage.getItem("deviceFingers");
              localDeviceFingersObj = localDeviceFingers && JSON.parse(localDeviceFingers);
              if (!(!localBrowserId || !localDeviceFingers)) return [3, 2];
              return [4, createFingerprint()];
            case 1:
              _a3 = _b.sent(), browserId = _a3.browserId, deviceFingers = _a3.deviceFingers;
              localBrowserId = browserId;
              localDeviceFingersObj = deviceFingers;
              _b.label = 2;
            case 2:
              return [2, { browserId: localBrowserId, deviceFingers: handleFingerprint(localDeviceFingersObj) }];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.getDeviceInfo = function() {
      return __awaiter29(this, void 0, void 0, function() {
        var browserFingers;
        return __generator29(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.getBrowserFingers()];
            case 1:
              browserFingers = _a3.sent();
              return [2, __assign11({}, browserFingers)];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.createDevice = function() {
      var _a3;
      return __awaiter29(this, void 0, void 0, function() {
        var _b, browserId, deviceFingers, browserFingers, BrowserInfo, error_1;
        return __generator29(this, function(_c) {
          switch (_c.label) {
            case 0:
              _c.trys.push([0, 4, , 5]);
              return [4, this.getBrowserFingers()];
            case 1:
              _b = _c.sent(), browserId = _b.browserId, deviceFingers = _b.deviceFingers;
              browserFingers = __assign11({ browserId }, deviceFingers);
              return [4, BrowserInfoFun()];
            case 2:
              BrowserInfo = _c.sent();
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v3/create-device"),
                data: __assign11(__assign11({ deviceUniqueId: browserFingers.browserId, name: (_a3 = getBrowserInfo()) === null || _a3 === void 0 ? void 0 : _a3.toString() }, BrowserInfo), browserFingers)
              })];
            case 3:
              _c.sent();
              return [2, true];
            case 4:
              error_1 = _c.sent();
              return [2, false];
            case 5:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.myDevicesList = function() {
      return __awaiter29(this, void 0, void 0, function() {
        var data;
        return __generator29(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/api/v3/mydevices/list")
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.myDevicesUnbind = function(deviceId) {
      return __awaiter29(this, void 0, void 0, function() {
        var error_2;
        return __generator29(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v3/mydevices/unbind"),
                data: { deviceId }
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_2 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    BrowserFingerprintClient3.prototype.myDevicesLogout = function(deviceId) {
      return __awaiter29(this, void 0, void 0, function() {
        var error_3;
        return __generator29(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              _a3.trys.push([0, 2, , 3]);
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v3/mydevices/revoke-session"),
                data: { deviceId }
              })];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              error_3 = _a3.sent();
              return [2, false];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    return BrowserFingerprintClient3;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/MfaAuthenticationClient.js
var __awaiter30 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator30 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var MfaAuthenticationClient = (
  /** @class */
  function() {
    function MfaAuthenticationClient2(options, tokenProvider, httpClient) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
      this.baseClient = new BaseAuthenticationClient(options);
    }
    MfaAuthenticationClient2.prototype.getMfaAuthenticators = function(options) {
      if (options === void 0) {
        options = { type: "totp", source: "SELF" };
      }
      return __awaiter30(this, void 0, void 0, function() {
        var type, mfaToken, source, api, headers, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              type = options.type, mfaToken = options.mfaToken, source = options.source;
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/authenticator");
              headers = {};
              if (mfaToken) {
                headers.authorization = "Bearer ".concat(mfaToken);
              }
              return [4, this.httpClient.request({
                method: "GET",
                url: api,
                params: {
                  type,
                  source
                },
                headers
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.assosicateMfaAuthenticator = function(options) {
      if (options === void 0) {
        options = { authenticatorType: "totp", source: "SELF" };
      }
      return __awaiter30(this, void 0, void 0, function() {
        var authenticatorType, mfaToken, source, headers, api, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              authenticatorType = options.authenticatorType, mfaToken = options.mfaToken, source = options.source;
              headers = {};
              if (mfaToken) {
                headers.authorization = "Bearer ".concat(mfaToken);
              }
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/totp/associate");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  authenticator_type: authenticatorType,
                  source
                },
                headers
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.deleteMfaAuthenticator = function() {
      return __awaiter30(this, void 0, void 0, function() {
        var api;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/totp/associate");
              return [4, this.httpClient.request({
                method: "DELETE",
                url: api
              })];
            case 1:
              _a3.sent();
              return [2, {
                code: 200,
                message: "TOTP MFA "
              }];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.confirmAssosicateMfaAuthenticator = function(options) {
      if (options === void 0) {
        options = { authenticatorType: "totp", source: "SELF" };
      }
      return __awaiter30(this, void 0, void 0, function() {
        var api, authenticatorType, totp, source, mfaToken, headers;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/totp/associate/confirm");
              authenticatorType = options.authenticatorType, totp = options.totp, source = options.source, mfaToken = options.mfaToken;
              headers = {};
              if (mfaToken) {
                headers.authorization = "Bearer ".concat(mfaToken);
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  authenticator_type: authenticatorType,
                  totp,
                  source
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "TOTP MFA " }];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.verifyTotpMfa = function(options) {
      return __awaiter30(this, void 0, void 0, function() {
        var api, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/totp/verify");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  totp: options.totp
                },
                headers: {
                  authorization: "Bearer " + options.mfaToken
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.verifyAppSmsMfa = function(options) {
      return __awaiter30(this, void 0, void 0, function() {
        var api, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/applications/mfa/sms/verify");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  phone: options.phone,
                  code: options.code,
                  phoneCountryCode: options.phoneCountryCode
                },
                headers: {
                  authorization: "Bearer " + options.mfaToken
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.verifyAppEmailMfa = function(options) {
      return __awaiter30(this, void 0, void 0, function() {
        var api, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/applications/mfa/email/verify");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  email: options.email,
                  code: options.code
                },
                headers: {
                  authorization: "Bearer " + options.mfaToken
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.phoneOrEmailBindable = function(_a3) {
      var phone = _a3.phone, email = _a3.email, mfaToken = _a3.mfaToken;
      return __awaiter30(this, void 0, void 0, function() {
        var api;
        return __generator30(this, function(_b) {
          switch (_b.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/applications/mfa/check");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  email,
                  phone
                },
                headers: {
                  authorization: "Bearer " + mfaToken
                }
              })];
            case 1:
              return [2, _b.sent()];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.verifyTotpRecoveryCode = function(options) {
      return __awaiter30(this, void 0, void 0, function() {
        var api, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/totp/recovery");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  recoveryCode: options.recoveryCode
                },
                headers: {
                  authorization: "Bearer " + options.mfaToken
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.associateFaceByUrl = function(options) {
      return __awaiter30(this, void 0, void 0, function() {
        var baseFace, compareFace, mfaToken, headers, api, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              baseFace = options.baseFace, compareFace = options.compareFace, mfaToken = options.mfaToken;
              headers = {};
              if (mfaToken) {
                headers.authorization = "Bearer ".concat(mfaToken);
              }
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/face/associate");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  photoA: baseFace,
                  photoB: compareFace,
                  isExternal: true
                },
                headers
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.associateFaceByLocalFile = function(mfaToken) {
      return __awaiter30(this, void 0, void 0, function() {
        var headers, uploadedKey, key, e_1, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              headers = {};
              if (mfaToken) {
                headers.authorization = "Bearer ".concat(mfaToken);
              }
              _a3.label = 1;
            case 1:
              _a3.trys.push([1, 3, , 4]);
              return [4, uploadFile({
                // 
                accept: ".jpeg,.jpg,.png,.bmp",
                url: "".concat(this.baseClient.appHost, "/api/v2/upload?folder=face-photo&private=true")
              })];
            case 2:
              key = _a3.sent().key;
              uploadedKey = key;
              return [3, 4];
            case 3:
              e_1 = _a3.sent();
              this.options.onError(e_1.code, e_1.message);
              return [3, 4];
            case 4:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v2/mfa/face/associate"),
                data: {
                  photoA: uploadedKey,
                  photoB: uploadedKey
                },
                headers
              })];
            case 5:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.associateFaceByBlob = function(opts) {
      return __awaiter30(this, void 0, void 0, function() {
        var baseFace, compareFace, mfaToken, headers, photoA, photoB, uploadUrl, keyA, keyB, e_2, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              baseFace = opts.baseFace, compareFace = opts.compareFace, mfaToken = opts.mfaToken;
              headers = {};
              if (mfaToken) {
                headers.authorization = "Bearer ".concat(mfaToken);
              }
              uploadUrl = "".concat(this.baseClient.appHost, "/api/v2/upload?folder=face-photo&private=true");
              _a3.label = 1;
            case 1:
              _a3.trys.push([1, 6, , 7]);
              return [4, xhrUpload(baseFace, uploadUrl)];
            case 2:
              keyA = _a3.sent().key;
              photoA = keyA;
              if (!compareFace) return [3, 4];
              return [4, xhrUpload(compareFace, uploadUrl)];
            case 3:
              keyB = _a3.sent().key;
              photoB = keyB;
              return [3, 5];
            case 4:
              photoB = keyA;
              _a3.label = 5;
            case 5:
              return [3, 7];
            case 6:
              e_2 = _a3.sent();
              this.options.onError(e_2.code, e_2.message);
              return [3, 7];
            case 7:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v2/mfa/face/associate"),
                data: {
                  photoA,
                  photoB
                },
                headers
              })];
            case 8:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    MfaAuthenticationClient2.prototype.verifyFaceMfa = function(photo, mfaToken) {
      return __awaiter30(this, void 0, void 0, function() {
        var api, data;
        return __generator30(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/mfa/face/verify");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  photo
                },
                headers: {
                  authorization: "Bearer ".concat(mfaToken)
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    return MfaAuthenticationClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/AuthenticationClient.js
var import_jwt_decode3 = __toESM(require_lib());

// node_modules/authing-js-sdk/build/module/lib/authentication/SocialAuthenticationClient.js
var __awaiter31 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator31 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var SocialAuthenticationClient = (
  /** @class */
  function() {
    function SocialAuthenticationClient2(options, tokenProvider, httpClient) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
      this.baseClient = new BaseAuthenticationClient(options);
    }
    SocialAuthenticationClient2.prototype.authorize = function(provider, options) {
      var _this = this;
      options = options || {};
      var position = options.position, _a3 = options.popup, popup = _a3 === void 0 ? true : _a3, onSuccess = options.onSuccess, onError = options.onError, authorization_params = options.authorization_params, authorizationParams = options.authorizationParams, context = options.context, customData = options.customData, _b = options.withIdentities, withIdentities = _b === void 0 ? false : _b, _c = options.protocol, protocol = _c === void 0 ? "oidc" : _c, uuid = options.uuid, _d = options.withCustomData, withCustomData = _d === void 0 ? false : _d, targetUrl = options.targetUrl, relayMethod = options.relayMethod, guardVersion = options.guardVersion;
      if (!uuid) {
        uuid = generateRandomString(20);
      }
      var query = {
        from_guard: "1",
        app_id: this.options.appId,
        authorization_params: JSON.stringify(authorization_params || authorizationParams),
        with_identities: withIdentities ? "1" : "0",
        with_custom_data: withCustomData ? "1" : "0",
        protocol,
        uuid,
        target_url: targetUrl,
        relay_method: relayMethod,
        guard_version: guardVersion
      };
      if (context) {
        query.context = JSON.stringify(context);
      }
      if (this.options.tenantId) {
        query.tenant_id = this.options.tenantId;
      }
      if (customData) {
        query.custom_data = JSON.stringify(customData);
      }
      var url = "".concat(this.baseClient.appHost, "/connections/social/").concat(provider, "?").concat(serialize(query));
      var onMessage = function(e) {
        var _a4 = e.data, code = _a4.code, message = _a4.message, resData = _a4.data, event = _a4.event;
        event = event || {};
        var source = event.source, eventType = event.eventType;
        if (source !== "authing" || eventType !== "socialLogin") {
          return;
        }
        try {
          var parsedMsg = JSON.parse(message);
          code = parsedMsg.code;
        } catch (e2) {
        }
        if (code === 200) {
          _this.tokenProvider.setUser(resData);
          onSuccess && onSuccess(resData);
        } else {
          onError && onError(code, message, resData);
        }
        window.removeEventListener("message", onMessage);
      };
      window.addEventListener("message", onMessage);
      if (isMobileBrowser()) {
        url = "".concat(url, "&redirected=1&from_hosted_guard=1&redirect_url=").concat(this.baseClient.appHost, "/interaction/oidc/").concat(uuid, "/login");
        window.location.href = url;
      } else if (popup) {
        popupCenter(url, position);
      } else {
        window.open(url);
      }
      return Promise.resolve();
    };
    SocialAuthenticationClient2.prototype.generateLinkExtIdpUrl = function(params) {
      return __awaiter31(this, void 0, void 0, function() {
        var extIdpConnIdentifier, idToken, data;
        return __generator31(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              extIdpConnIdentifier = params.extIdpConnIdentifier, idToken = params.idToken;
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/api/v3/generate-link-extidp-url"),
                params: {
                  ext_idp_conn_identifier: extIdpConnIdentifier,
                  id_token: idToken,
                  app_id: this.options.appId
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    SocialAuthenticationClient2.prototype.unlinkExtIdp = function(params) {
      return __awaiter31(this, void 0, void 0, function() {
        var extIdpId, data;
        return __generator31(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              extIdpId = params.extIdpId;
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v3/unlink-extidp"),
                data: {
                  extIdpId
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    SocialAuthenticationClient2.prototype.getIdentities = function() {
      return __awaiter31(this, void 0, void 0, function() {
        var data;
        return __generator31(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/api/v3/get-identities")
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    return SocialAuthenticationClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/EnterpriseAuthenticationClient.js
var __awaiter32 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator32 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var EnterpriseAuthenticationClient = (
  /** @class */
  function() {
    function EnterpriseAuthenticationClient2(options, tokenProvider, httpClient) {
      this.options = options;
      this.baseClient = new BaseAuthenticationClient(options);
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
    }
    EnterpriseAuthenticationClient2.prototype.initProviderContext = function(appId) {
      return __awaiter32(this, void 0, void 0, function() {
        var appConfig;
        return __generator32(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/api/v2/applications/").concat(appId, "/public-config")
              })];
            case 1:
              appConfig = _a3.sent();
              return [2, appConfig];
          }
        });
      });
    };
    EnterpriseAuthenticationClient2.prototype.getProviderConfigAndError = function(protocol, appConfig, identifier) {
      var _a3, _b;
      var providerConfig = (_b = (_a3 = appConfig.identityProviders) === null || _a3 === void 0 ? void 0 : _a3.find(function(item) {
        return item.protocol === protocol && item.identifier === identifier;
      })) === null || _b === void 0 ? void 0 : _b.config;
      if (!providerConfig) {
        throw new Error("");
      }
      return providerConfig;
    };
    EnterpriseAuthenticationClient2.prototype.getLoginUrl = function(protocol, appConfig, identifier, state) {
      var config = this.getProviderConfigAndError(protocol, appConfig, identifier);
      switch (protocol) {
        case Protocol.OIDC:
          config = config;
          var query = serialize({
            state,
            client_id: config.clientId,
            redirect_uri: config.redirectUri,
            scope: config.scopes,
            response_type: config.responseType,
            nonce: generateUidKey(32)
          });
          return "".concat(config.authorizationEdpoint, "?").concat(query);
        case Protocol.SAML:
          config = config;
          return config.samlRequest;
        case Protocol.CAS:
          config = config;
          return config.casConnectionLoginUrl;
        case Protocol.OAUTH:
          config = config;
          return config.authUrl;
        case Protocol.AZURE_AD:
          config = config;
          return config.authorizationUrl;
        default:
          return "";
      }
    };
    EnterpriseAuthenticationClient2.prototype.authorize = function(protocol, identifier, options) {
      var _this = this;
      options = options || {};
      var position = options.position, _a3 = options.popup, popup = _a3 === void 0 ? true : _a3, onSuccess = options.onSuccess, onError = options.onError;
      var appId = this.options.appId;
      var state = generateUidKey(32);
      var windowRef;
      if (isWechatBrowser()) {
        windowRef = window;
      } else if (popup) {
        windowRef = popupCenter("", position);
      } else {
        windowRef = window.open("");
      }
      this.initProviderContext(appId).then(function(appConfig) {
        var promise = protocol === Protocol.OIDC ? _this.httpClient.request({
          method: "POST",
          url: "".concat(_this.baseClient.appHost, "/api/v2/connections/oidc/start-interaction"),
          data: {
            state,
            protocol,
            userPoolId: appConfig.userPoolId,
            appId,
            referer: window.location.href,
            connection: { providerIentifier: identifier }
          }
        }) : Promise.resolve();
        promise.then(function() {
          var url = _this.getLoginUrl(protocol, appConfig, identifier, state);
          var onMessage = function(e) {
            var _a4 = e.data, code = _a4.code, message = _a4.message, userInfo = _a4.data, event = _a4.event;
            event = event || {};
            var source = event.source, eventType = event.eventType;
            if (source !== "authing" || eventType !== "enterpriseLogin") {
              return;
            }
            try {
              var parsedMsg = JSON.parse(message);
              message = parsedMsg.message;
              code = parsedMsg.code;
            } catch (e2) {
            }
            if (code === 200) {
              _this.tokenProvider.setUser(userInfo);
              onSuccess && onSuccess(userInfo);
            } else {
              onError && onError(code, message);
            }
            window.removeEventListener("message", onMessage);
          };
          window.addEventListener("message", onMessage);
          windowRef.location.assign(url);
        });
      });
      return Promise.resolve();
    };
    return EnterpriseAuthenticationClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/PrincipalAuthentication.js
var __awaiter33 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator33 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var PrincipalAuthenticationClient = (
  /** @class */
  function() {
    function PrincipalAuthenticationClient2(options, tokenProvider, httpClient) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
      this.baseClient = new BaseAuthenticationClient(options);
    }
    PrincipalAuthenticationClient2.prototype.detail = function() {
      return __awaiter33(this, void 0, void 0, function() {
        var api, data;
        return __generator33(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/users/principal_authentication");
              return [4, this.httpClient.request({
                method: "GET",
                url: api
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    PrincipalAuthenticationClient2.prototype.authenticate = function(info) {
      return __awaiter33(this, void 0, void 0, function() {
        var api, params;
        return __generator33(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/users/principal_authentication");
              if (info.type === "P") {
                params = {
                  type: "P",
                  name: info.name,
                  idCard: info.idCard,
                  ext: info.bankCard
                };
              } else {
                params = {
                  type: "E",
                  name: info.enterpriseName,
                  idCard: info.enterpriseCode,
                  ext: info.legalPersonName
                };
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: params
              })];
            case 1:
              _a3.sent();
              return [2, true];
          }
        });
      });
    };
    return PrincipalAuthenticationClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/EventAuthenticationClient.js
var __awaiter34 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator34 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var EventAuthenticationClient = (
  /** @class */
  function() {
    function EventAuthenticationClient2(options, tokenProvider, httpClient) {
      this.options = options;
      this.tokenProvider = tokenProvider;
      this.httpClient = httpClient;
      this.wsMap = {};
      this.eventBus = {};
      this.baseClient = new BaseAuthenticationClient(options);
    }
    EventAuthenticationClient2.prototype.reconnect = function(eventName) {
      var _this = this;
      return new Promise(function(resolve, reject) {
        if (_this.options.retryTimes && _this.wsMap[eventName].timeConnect < _this.options.retryTimes) {
          if (!_this.wsMap[eventName].lockConnect) {
            _this.wsMap[eventName].lockConnect = true;
            _this.wsMap[eventName].timeConnect++;
            setTimeout(function() {
              _this.wsMap[eventName].lockConnect = false;
              _this.initWebSocket(eventName, true).then(function() {
                resolve(true);
              }).catch(function(e) {
                reject(e);
              });
            }, 2e3);
          }
        } else {
          reject("socket ");
        }
      });
    };
    EventAuthenticationClient2.prototype.initWebSocket = function(eventName, retry) {
      var _this = this;
      return new Promise(function(resolve, reject) {
        return __awaiter34(_this, void 0, void 0, function() {
          var token;
          var _this2 = this;
          return __generator34(this, function(_a3) {
            switch (_a3.label) {
              case 0:
                if (!(!this.wsMap[eventName] || retry)) return [3, 2];
                return [4, this.tokenProvider.getToken()];
              case 1:
                token = _a3.sent();
                this.wsMap[eventName] = {
                  socket: new WebSocket("".concat(this.options.socketUri, "/events/v1/authentication/sub?code=").concat(eventName, "&token=").concat(token)),
                  timeConnect: retry ? this.wsMap[eventName].timeConnect : 0,
                  lockConnect: false
                };
                this.wsMap[eventName].socket.onopen = function() {
                  resolve(true);
                };
                this.wsMap[eventName].socket.addEventListener("message", function(event) {
                  try {
                    if (_this2.eventBus[eventName]) {
                      _this2.eventBus[eventName].forEach(function(callback) {
                        callback[0](event.data.toString("utf8"));
                      });
                    } else {
                      console.warn("", eventName);
                    }
                  } catch (error) {
                    return reject(" ".concat(error));
                  }
                });
                this.wsMap[eventName].socket.addEventListener("error", function(e) {
                  return __awaiter34(_this2, void 0, void 0, function() {
                    var error_1;
                    return __generator34(this, function(_a4) {
                      switch (_a4.label) {
                        case 0:
                          _a4.trys.push([0, 2, , 3]);
                          return [4, this.reconnect(eventName)];
                        case 1:
                          _a4.sent();
                          resolve(true);
                          return [3, 3];
                        case 2:
                          error_1 = _a4.sent();
                          return [2, reject("socket ".concat(JSON.stringify(e)))];
                        case 3:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                });
                this.wsMap[eventName].socket.onclose = function() {
                  return __awaiter34(_this2, void 0, void 0, function() {
                    var error_2;
                    return __generator34(this, function(_a4) {
                      switch (_a4.label) {
                        case 0:
                          _a4.trys.push([0, 2, , 3]);
                          return [4, this.reconnect(eventName)];
                        case 1:
                          _a4.sent();
                          resolve(true);
                          return [3, 3];
                        case 2:
                          error_2 = _a4.sent();
                          return [2, reject("socket ")];
                        case 3:
                          return [
                            2
                            /*return*/
                          ];
                      }
                    });
                  });
                };
                return [3, 3];
              case 2:
                resolve(true);
                _a3.label = 3;
              case 3:
                return [
                  2
                  /*return*/
                ];
            }
          });
        });
      });
    };
    EventAuthenticationClient2.prototype.sub = function(eventName, callback, errCallback) {
      var _this = this;
      if (typeof eventName !== "string") {
        throw new Error(" string ");
      }
      if (typeof callback !== "function") {
        throw new Error(" function ");
      }
      if (!this.options.socketUri) {
        throw new Error(" socketUri ");
      }
      this.initWebSocket(eventName).catch(function(e) {
        _this.eventBus[eventName].forEach(function(item) {
          var _a3;
          (_a3 = item[1]) === null || _a3 === void 0 ? void 0 : _a3.call(item, e);
        });
      });
      if (this.eventBus[eventName]) {
        this.eventBus[eventName].push([callback, errCallback]);
      } else {
        this.eventBus[eventName] = [[callback, errCallback]];
      }
    };
    EventAuthenticationClient2.prototype.pub = function(eventName, data) {
      return __awaiter34(this, void 0, void 0, function() {
        return __generator34(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (typeof eventName !== "string") {
                throw new Error(" string ");
              }
              if (typeof data !== "string") {
                throw new Error(" string ");
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v3/pub-userEvent"),
                data: {
                  eventType: eventName,
                  source: "authing-js-sdk: ".concat(SDK_VERSION),
                  eventData: data
                }
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    return EventAuthenticationClient2;
  }()
);

// node_modules/authing-js-sdk/build/module/lib/authentication/AuthenticationClient.js
var __assign12 = function() {
  __assign12 = Object.assign || function(t) {
    for (var s, i = 1, n3 = arguments.length; i < n3; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
        t[p] = s[p];
    }
    return t;
  };
  return __assign12.apply(this, arguments);
};
var __awaiter35 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator35 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1) throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n3) {
    return function(v) {
      return step([n3, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return { value: op[1], done: false };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var DEFAULT_OPTIONS2 = {
  appId: void 0,
  tenantId: void 0,
  appHost: void 0,
  protocol: "oidc",
  tokenEndPointAuthMethod: "client_secret_post",
  introspectionEndPointAuthMethod: "client_secret_post",
  revocationEndPointAuthMethod: "client_secret_post",
  timeout: 1e4,
  onError: function(code, message, data) {
    throw { code, message, data };
  },
  requestFrom: "sdk",
  encryptFunction: encrypt,
  host: "https://core.authing.cn",
  headers: {
    "userpool-id": "x-authing-userpool-id",
    "app-id": "x-authing-app-id",
    "request-from": "x-authing-request-from",
    "sdk-version": "x-authing-sdk-version",
    "tenant-id": "x-authing-app-tenant-id",
    lang: "x-authing-lang"
  },
  lang: "zh-CN",
  socketUri: "wss://openevent.authing.cn",
  retryTimes: 5
};
var AuthenticationClient = (
  /** @class */
  function() {
    function AuthenticationClient2(options) {
      Object.keys(options).forEach(function(i) {
        return !options[i] && delete options[i];
      });
      this.options = Object.assign({}, DEFAULT_OPTIONS2, options);
      this.baseClient = new BaseAuthenticationClient(this.options);
      var graphqlEndpoint = "".concat(this.baseClient.appHost, "/graphql/v2");
      this.graphqlClient = new (this.options.graphqlClient || GraphqlClient)(graphqlEndpoint, this.options);
      this.tokenProvider = new (this.options.tokenProvider || AuthenticationTokenProvider)(this.options);
      this.httpClient = new (this.options.httpClient || HttpClient)(this.options, this.tokenProvider);
      this.naiveHttpClient = new NaiveHttpClient(this.options, this.tokenProvider);
      this.publicKeyManager = new PublicKeyManager(this.options, this.httpClient);
      this.browserFingerprint = new BrowserFingerprintClient2(this.options, this.httpClient);
      this.wxqrcode = new QrCodeAuthenticationClient(this.options, this.tokenProvider, this.httpClient, "WXAPP_AUTH");
      this.qrcode = new QrCodeAuthenticationClient(this.options, this.tokenProvider, this.httpClient, "APP_AUTH");
      this.wechatmpqrcode = new QrCodeAuthenticationClient(this.options, this.tokenProvider, this.httpClient, "WECHATMP_AUTH");
      this.mfa = new MfaAuthenticationClient(this.options, this.tokenProvider, this.httpClient);
      this.social = new SocialAuthenticationClient(this.options, this.tokenProvider, this.httpClient);
      this.enterprise = new EnterpriseAuthenticationClient(this.options, this.tokenProvider, this.httpClient);
      this.principal = new PrincipalAuthenticationClient(this.options, this.tokenProvider, this.httpClient);
      if (this.options.token) {
        this.setToken(this.options.token);
      }
      this.event = new EventAuthenticationClient(this.options, this.tokenProvider, this.httpClient);
    }
    AuthenticationClient2.prototype.checkLoggedIn = function() {
      var _a3;
      var user2 = this.tokenProvider.getUser();
      if (user2) {
        return user2.id;
      }
      var token = this.tokenProvider.getToken();
      if (!token) {
        throw new Error("");
      }
      var decoded = (0, import_jwt_decode3.default)(token);
      var userId = decoded.sub || ((_a3 = decoded.data) === null || _a3 === void 0 ? void 0 : _a3.id);
      if (!userId) {
        throw new Error(" accessToken");
      }
      return userId;
    };
    AuthenticationClient2.prototype.setCurrentUser = function(user2) {
      this.tokenProvider.setUser(user2);
    };
    AuthenticationClient2.prototype.setToken = function(token) {
      this.tokenProvider.setToken(token);
    };
    AuthenticationClient2.prototype.setRequestFrom = function(requestFrom) {
      this.options.requestFrom = requestFrom;
      this.graphqlClient.setOptions(this.options);
      this.httpClient.setOptions(this.options);
    };
    AuthenticationClient2.prototype.registerByEmail = function(email, password, profile, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, forceLogin, _b, generateToken, clientIp, params, context, customData, phoneToken, _c, _d, _e, extraParams, extraContext, user2;
        return __generator35(this, function(_f) {
          switch (_f.label) {
            case 0:
              options = options || {};
              profile = profile || {};
              _a3 = options.forceLogin, forceLogin = _a3 === void 0 ? false : _a3, _b = options.generateToken, generateToken = _b === void 0 ? false : _b, clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData, phoneToken = options.phoneToken;
              _d = (_c = this.options).encryptFunction;
              _e = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _d.apply(_c, _e.concat([_f.sent(), this.options.encryption]))];
            case 2:
              password = _f.sent();
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              return [4, registerByEmail(this.graphqlClient, this.tokenProvider, {
                input: {
                  email,
                  password,
                  profile,
                  forceLogin,
                  generateToken,
                  clientIp,
                  params: extraParams,
                  context: extraContext,
                  phoneToken
                }
              })];
            case 3:
              user2 = _f.sent().registerByEmail;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.registerByEmailCode = function(email, code, profile, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, params, data;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/register/email-code");
              params = __assign12({ email, code, profile }, options);
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: params
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.registerByUsername = function(username, password, profile, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, forceLogin, _b, generateToken, clientIp, params, context, customData, phoneToken, emailToken, _c, _d, _e, extraParams, extraContext, user2;
        return __generator35(this, function(_f) {
          switch (_f.label) {
            case 0:
              options = options || {};
              profile = profile || {};
              _a3 = options.forceLogin, forceLogin = _a3 === void 0 ? false : _a3, _b = options.generateToken, generateToken = _b === void 0 ? false : _b, clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData, phoneToken = options.phoneToken, emailToken = options.emailToken;
              _d = (_c = this.options).encryptFunction;
              _e = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _d.apply(_c, _e.concat([_f.sent(), this.options.encryption]))];
            case 2:
              password = _f.sent();
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              return [4, registerByUsername(this.graphqlClient, this.tokenProvider, {
                input: {
                  username,
                  password,
                  profile,
                  forceLogin,
                  generateToken,
                  clientIp,
                  params: extraParams,
                  context: extraContext,
                  phoneToken,
                  emailToken
                }
              })];
            case 3:
              user2 = _f.sent().registerByUsername;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.registerByPhoneCode = function(phone, code, password, profile, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, forceLogin, _b, generateToken, clientIp, params, context, customData, phoneCountryCode, emailToken, _c, _d, _e, extraParams, extraContext, user2;
        return __generator35(this, function(_f) {
          switch (_f.label) {
            case 0:
              options = options || {};
              profile = profile || {};
              _a3 = options.forceLogin, forceLogin = _a3 === void 0 ? false : _a3, _b = options.generateToken, generateToken = _b === void 0 ? false : _b, clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData, phoneCountryCode = options.phoneCountryCode, emailToken = options.emailToken;
              if (!password) return [3, 3];
              _d = (_c = this.options).encryptFunction;
              _e = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _d.apply(_c, _e.concat([_f.sent(), this.options.encryption]))];
            case 2:
              password = _f.sent();
              _f.label = 3;
            case 3:
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              return [4, registerByPhoneCode(this.graphqlClient, this.tokenProvider, {
                input: {
                  phone,
                  code,
                  phoneCountryCode,
                  password,
                  profile,
                  forceLogin,
                  generateToken,
                  clientIp,
                  params: extraParams,
                  context: extraContext,
                  emailToken
                }
              })];
            case 4:
              user2 = _f.sent().registerByPhoneCode;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.checkPasswordStrength = function(password) {
      return __awaiter35(this, void 0, void 0, function() {
        var result;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, checkPasswordStrength(this.graphqlClient, this.tokenProvider, { password })];
            case 1:
              result = _a3.sent().checkPasswordStrength;
              return [2, result];
          }
        });
      });
    };
    AuthenticationClient2.prototype.sendSmsCode = function(phone, phoneCountryCode, scene) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, params, data;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/api/v2/sms/send");
              params = { phone };
              if (phoneCountryCode) {
                params.phoneCountryCode = phoneCountryCode;
              }
              if (scene) {
                params.scene = scene;
              }
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: params
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginByEmail = function(email, password, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, autoRegister, captchaCode, clientIp, params, context, customData, _b, _c, _d, extraParams, extraContext, user2;
        return __generator35(this, function(_e) {
          switch (_e.label) {
            case 0:
              options = options || {};
              _a3 = options.autoRegister, autoRegister = _a3 === void 0 ? false : _a3, captchaCode = options.captchaCode, clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData;
              _c = (_b = this.options).encryptFunction;
              _d = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _c.apply(_b, _d.concat([_e.sent(), this.options.encryption]))];
            case 2:
              password = _e.sent();
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              return [4, loginByEmail(this.graphqlClient, this.tokenProvider, {
                input: {
                  email,
                  password,
                  autoRegister,
                  captchaCode,
                  clientIp,
                  params: extraParams,
                  context: extraContext
                }
              })];
            case 3:
              user2 = _e.sent().loginByEmail;
              if (user2.customData) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
              }
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginByUsername = function(username, password, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, autoRegister, captchaCode, clientIp, params, context, customData, _b, _c, _d, extraParams, extraContext, user2;
        return __generator35(this, function(_e) {
          switch (_e.label) {
            case 0:
              options = options || {};
              _a3 = options.autoRegister, autoRegister = _a3 === void 0 ? false : _a3, captchaCode = options.captchaCode, clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData;
              _c = (_b = this.options).encryptFunction;
              _d = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _c.apply(_b, _d.concat([_e.sent(), this.options.encryption]))];
            case 2:
              password = _e.sent();
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              return [4, loginByUsername(this.graphqlClient, this.tokenProvider, {
                input: {
                  username,
                  password,
                  autoRegister,
                  captchaCode,
                  clientIp,
                  params: extraParams,
                  context: extraContext
                }
              })];
            case 3:
              user2 = _e.sent().loginByUsername;
              if (user2.customData) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
              }
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginByPhoneCode = function(phone, code, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var clientIp, params, context, customData, phoneCountryCode, extraParams, extraContext, user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              options = options || {};
              clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData, phoneCountryCode = options.phoneCountryCode;
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              return [4, loginByPhoneCode(this.graphqlClient, this.tokenProvider, {
                input: {
                  phone,
                  code,
                  phoneCountryCode,
                  clientIp,
                  params: extraParams,
                  context: extraContext
                }
              })];
            case 1:
              user2 = _a3.sent().loginByPhoneCode;
              if (user2.customData) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
              }
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginByEmailCode = function(email, code, options) {
      var _a3;
      return __awaiter35(this, void 0, void 0, function() {
        var clientIp, params, context, customData, phoneCountryCode, extraParams, extraContext, url, user2;
        return __generator35(this, function(_b) {
          switch (_b.label) {
            case 0:
              options = options || {};
              clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData, phoneCountryCode = options.phoneCountryCode;
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              url = "".concat((_a3 = this.options.appHost) !== null && _a3 !== void 0 ? _a3 : "", "/api/v2/login/email-code");
              return [4, this.httpClient.request({
                method: "POST",
                url,
                data: {
                  email,
                  code,
                  phoneCountryCode,
                  clientIp,
                  params: extraParams,
                  context: extraContext
                },
                unSetToken: true
              })];
            case 1:
              user2 = _b.sent();
              if (user2.customData) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
              }
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginByPhonePassword = function(phone, password, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var captchaCode, _a3, autoRegister, clientIp, params, context, customData, _b, _c, _d, extraParams, extraContext, user2;
        return __generator35(this, function(_e) {
          switch (_e.label) {
            case 0:
              options = options || {};
              captchaCode = options.captchaCode, _a3 = options.autoRegister, autoRegister = _a3 === void 0 ? false : _a3, clientIp = options.clientIp, params = options.params, context = options.context, customData = options.customData;
              _c = (_b = this.options).encryptFunction;
              _d = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _c.apply(_b, _d.concat([_e.sent(), this.options.encryption]))];
            case 2:
              password = _e.sent();
              extraParams = null;
              if (customData) {
                extraParams = JSON.stringify(convertObjectToKeyValueList(customData));
              } else if (params) {
                extraParams = JSON.stringify(params);
              }
              extraContext = null;
              if (context) {
                extraContext = JSON.stringify(context);
              }
              return [4, loginByPhonePassword(this.graphqlClient, this.tokenProvider, {
                input: {
                  phone,
                  password,
                  captchaCode,
                  autoRegister,
                  clientIp,
                  params: extraParams,
                  context: extraContext
                }
              })];
            case 3:
              user2 = _e.sent().loginByPhonePassword;
              if (user2.customData) {
                user2.customData = convertUdvToKeyValuePair(user2.customData);
              }
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginBySubAccount = function(account, password, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var captchaCode, clientIp, _a3, _b, _c, user2;
        return __generator35(this, function(_d) {
          switch (_d.label) {
            case 0:
              options = options || {};
              captchaCode = options.captchaCode, clientIp = options.clientIp;
              _b = (_a3 = this.options).encryptFunction;
              _c = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _b.apply(_a3, _c.concat([_d.sent(), this.options.encryption]))];
            case 2:
              password = _d.sent();
              return [4, loginBySubAccount(this.graphqlClient, this.tokenProvider, {
                account,
                password,
                captchaCode,
                clientIp
              })];
            case 3:
              user2 = _d.sent().loginBySubAccount;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.checkLoginStatus = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        var res;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, checkLoginStatus(this.graphqlClient, this.tokenProvider, {
                token
              })];
            case 1:
              res = _a3.sent();
              return [2, res.checkLoginStatus];
          }
        });
      });
    };
    AuthenticationClient2.prototype.sendEmail = function(email, scene) {
      return __awaiter35(this, void 0, void 0, function() {
        var data;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, sendEmail(this.graphqlClient, this.tokenProvider, { email, scene })];
            case 1:
              data = _a3.sent().sendEmail;
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.resetPasswordByPhoneCode = function(phone, code, newPassword, phoneCountryCode) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, _b, _c, data;
        return __generator35(this, function(_d) {
          switch (_d.label) {
            case 0:
              _b = (_a3 = this.options).encryptFunction;
              _c = [newPassword];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _b.apply(_a3, _c.concat([_d.sent(), this.options.encryption]))];
            case 2:
              newPassword = _d.sent();
              return [4, resetPassword(this.graphqlClient, this.tokenProvider, {
                phone,
                code,
                newPassword,
                phoneCountryCode
              })];
            case 3:
              data = _d.sent().resetPassword;
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.resetPasswordByEmailCode = function(email, code, newPassword) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, _b, _c, data;
        return __generator35(this, function(_d) {
          switch (_d.label) {
            case 0:
              _b = (_a3 = this.options).encryptFunction;
              _c = [newPassword];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _b.apply(_a3, _c.concat([_d.sent(), this.options.encryption]))];
            case 2:
              newPassword = _d.sent();
              return [4, resetPassword(this.graphqlClient, this.tokenProvider, {
                email,
                code,
                newPassword
              })];
            case 3:
              data = _d.sent().resetPassword;
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.resetPasswordByFirstLoginToken = function(params) {
      return __awaiter35(this, void 0, void 0, function() {
        var token, password, _a3, _b, _c, data;
        return __generator35(this, function(_d) {
          switch (_d.label) {
            case 0:
              token = params.token, password = params.password;
              _b = (_a3 = this.options).encryptFunction;
              _c = [password];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _b.apply(_a3, _c.concat([_d.sent(), this.options.encryption]))];
            case 2:
              password = _d.sent();
              return [4, resetPasswordByFirstLoginToken(this.graphqlClient, this.tokenProvider, {
                token,
                password
              })];
            case 3:
              data = _d.sent().resetPasswordByFirstLoginToken;
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.resetPasswordByForceResetToken = function(params) {
      return __awaiter35(this, void 0, void 0, function() {
        var token, newPassword, oldPassword, _a3, _b, _c, _d, _e, _f, data;
        return __generator35(this, function(_g) {
          switch (_g.label) {
            case 0:
              token = params.token, newPassword = params.newPassword, oldPassword = params.oldPassword;
              _b = (_a3 = this.options).encryptFunction;
              _c = [newPassword];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _b.apply(_a3, _c.concat([_g.sent(), this.options.encryption]))];
            case 2:
              newPassword = _g.sent();
              _e = (_d = this.options).encryptFunction;
              _f = [oldPassword];
              return [4, this.publicKeyManager.getPublicKey()];
            case 3:
              return [4, _e.apply(_d, _f.concat([_g.sent(), this.options.encryption]))];
            case 4:
              oldPassword = _g.sent();
              return [4, resetPasswordByForceResetToken(this.graphqlClient, this.tokenProvider, {
                token,
                oldPassword,
                newPassword
              })];
            case 5:
              data = _g.sent().resetPasswordByForceResetToken;
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.updateProfile = function(updates, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, _a3, emailToken, phoneToken, updated;
        return __generator35(this, function(_b) {
          switch (_b.label) {
            case 0:
              userId = this.checkLoggedIn();
              _a3 = options || {}, emailToken = _a3.emailToken, phoneToken = _a3.phoneToken;
              if (updates && updates.password) {
                delete updates.password;
              }
              return [4, updateUser(this.graphqlClient, this.tokenProvider, {
                id: userId,
                input: updates,
                emailToken,
                phoneToken
              })];
            case 1:
              updated = _b.sent().updateUser;
              this.setCurrentUser(updated);
              return [2, updated];
          }
        });
      });
    };
    AuthenticationClient2.prototype.updatePassword = function(newPassword, oldPassword) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, _b, _c, _d, _e, _f, _g, _h, user2;
        return __generator35(this, function(_j) {
          switch (_j.label) {
            case 0:
              _a3 = newPassword;
              if (!_a3) return [3, 3];
              _c = (_b = this.options).encryptFunction;
              _d = [newPassword];
              return [4, this.publicKeyManager.getPublicKey()];
            case 1:
              return [4, _c.apply(_b, _d.concat([_j.sent(), this.options.encryption]))];
            case 2:
              _a3 = _j.sent();
              _j.label = 3;
            case 3:
              newPassword = _a3;
              _e = oldPassword;
              if (!_e) return [3, 6];
              _g = (_f = this.options).encryptFunction;
              _h = [oldPassword];
              return [4, this.publicKeyManager.getPublicKey()];
            case 4:
              return [4, _g.apply(_f, _h.concat([_j.sent(), this.options.encryption]))];
            case 5:
              _e = _j.sent();
              _j.label = 6;
            case 6:
              oldPassword = _e;
              return [4, updatePassword(this.graphqlClient, this.tokenProvider, {
                newPassword,
                oldPassword
              })];
            case 7:
              user2 = _j.sent().updatePassword;
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.updatePhone = function(phone, phoneCode, oldPhone, oldPhoneCode, phoneCountryCode, oldPhoneCountryCode) {
      return __awaiter35(this, void 0, void 0, function() {
        var user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, updatePhone(this.graphqlClient, this.tokenProvider, {
                phone,
                phoneCode,
                oldPhone,
                oldPhoneCode,
                phoneCountryCode,
                oldPhoneCountryCode
              })];
            case 1:
              user2 = _a3.sent().updatePhone;
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.updateEmail = function(email, emailCode, oldEmail, oldEmailCode) {
      return __awaiter35(this, void 0, void 0, function() {
        var user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, updateEmail(this.graphqlClient, this.tokenProvider, {
                email,
                emailCode,
                oldEmail,
                oldEmailCode
              })];
            case 1:
              user2 = _a3.sent().updateEmail;
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.refreshToken = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var data;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, refreshToken(this.graphqlClient, this.tokenProvider, {})];
            case 1:
              data = _a3.sent().refreshToken;
              this.setToken(data.token);
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.linkAccount = function(options) {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v2/users/link"),
                data: {
                  primaryUserToken: options.primaryUserToken,
                  secondaryUserToken: options.secondaryUserToken
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    AuthenticationClient2.prototype.unLinkAccount = function(options) {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "POST",
                url: "".concat(this.baseClient.appHost, "/api/v2/users/unlink"),
                data: {
                  primaryUserToken: options.primaryUserToken,
                  provider: options.provider
                }
              })];
            case 1:
              _a3.sent();
              return [2, { code: 200, message: "" }];
          }
        });
      });
    };
    AuthenticationClient2.prototype.bindPhone = function(phone, phoneCode, phoneCountryCode) {
      return __awaiter35(this, void 0, void 0, function() {
        var user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, bindPhone(this.graphqlClient, this.tokenProvider, {
                phone,
                phoneCode,
                phoneCountryCode
              })];
            case 1:
              user2 = _a3.sent().bindPhone;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.unbindPhone = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, unbindPhone(this.graphqlClient, this.tokenProvider, {})];
            case 1:
              user2 = _a3.sent().unbindPhone;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.bindEmail = function(email, emailCode) {
      return __awaiter35(this, void 0, void 0, function() {
        var user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, bindEmail(this.graphqlClient, this.tokenProvider, {
                email,
                emailCode
              })];
            case 1:
              user2 = _a3.sent().bindEmail;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.unbindEmail = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, unbindEmail(this.graphqlClient, this.tokenProvider, {})];
            case 1:
              user2 = _a3.sent().unbindEmail;
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.getCurrentUser = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var data, _a3;
        return __generator35(this, function(_b) {
          switch (_b.label) {
            case 0:
              _b.trys.push([0, 2, , 3]);
              return [4, user(this.graphqlClient, this.tokenProvider, {})];
            case 1:
              data = _b.sent().user;
              if (data.customData) {
                data.customData = convertUdvToKeyValuePair(data.customData);
              }
              this.setCurrentUser(data);
              return [2, data];
            case 2:
              _a3 = _b.sent();
              return [2, null];
            case 3:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype.logout = function() {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/api/v2/logout?app_id=").concat(this.options.appId),
                withCredentials: true
              })];
            case 1:
              _a3.sent();
              this.tokenProvider.clearUser();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype.logoutCurrent = function() {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/logout?appId=").concat(this.options.appId, "&deviceId=current"),
                withCredentials: true
              })];
            case 1:
              _a3.sent();
              this.tokenProvider.clearUser();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype.listUdv = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, list;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = this.checkLoggedIn();
              return [4, udv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId
              })];
            case 1:
              list = _a3.sent().udv;
              return [2, convertUdv(list)];
          }
        });
      });
    };
    AuthenticationClient2.prototype.setUdv = function(key, value) {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, list;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = this.checkLoggedIn();
              value = JSON.stringify(value);
              return [4, setUdv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId,
                key,
                value
              })];
            case 1:
              list = _a3.sent().setUdv;
              return [2, convertUdv(list)];
          }
        });
      });
    };
    AuthenticationClient2.prototype.removeUdv = function(key) {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, list;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = this.checkLoggedIn();
              return [4, removeUdv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId,
                key
              })];
            case 1:
              list = _a3.sent().removeUdv;
              return [2, convertUdv(list)];
          }
        });
      });
    };
    AuthenticationClient2.prototype.listOrgs = function() {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/api/v2/users/me/orgs")
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AuthenticationClient2.prototype.listDepartments = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, departments;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = this.checkLoggedIn();
              return [4, getUserDepartments(this.graphqlClient, this.tokenProvider, {
                id: userId
              })];
            case 1:
              departments = _a3.sent().user.departments;
              return [2, departments];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginByLdap = function(username, password, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var clientIp, withCustomData, api, user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              options = options || {};
              clientIp = options.clientIp, withCustomData = options.withCustomData;
              api = "".concat(this.baseClient.appHost, "/api/v2/ldap/verify-user");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  username,
                  password,
                  clientIp,
                  withCustomData
                }
              })];
            case 1:
              user2 = _a3.sent();
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.loginByAd = function(username, password, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var clientIp, withCustomData, firstLevelDomain, websocketHost, api, user2;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              options = options || {};
              clientIp = options.clientIp, withCustomData = options.withCustomData;
              firstLevelDomain = new URL(this.baseClient.appHost).hostname.split(".").slice(1).join(".");
              websocketHost = this.options.websocketHost || "https://ws.".concat(firstLevelDomain);
              api = "".concat(websocketHost, "/api/v2/ad/verify-user");
              return [4, this.httpClient.request({
                method: "POST",
                url: api,
                data: {
                  username,
                  password,
                  clientIp,
                  withCustomData
                }
              })];
            case 1:
              user2 = _a3.sent();
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.uploadPhoto = function(accept, cb) {
      accept = accept || "image/*";
      var authing = this;
      uploadFile({
        accept,
        url: "".concat(this.baseClient.appHost, "/api/v2/upload?folder=avatar")
      }).then(function(_a3) {
        var url = _a3.url;
        return cb(url);
      }).catch(function(_a3) {
        var code = _a3.code, message = _a3.message;
        return authing.options.onError(code, message);
      });
    };
    AuthenticationClient2.prototype.updateAvatar = function(options) {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.uploadAvatar(options)];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AuthenticationClient2.prototype.uploadAvatar = function(options) {
      return __awaiter35(this, void 0, void 0, function() {
        var accept, task, src, user2;
        var _this = this;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              accept = (options || {}).accept;
              this.checkLoggedIn();
              task = new Promise(function(resolve) {
                _this.uploadPhoto(accept, function(src2) {
                  resolve(src2);
                });
              });
              return [4, task];
            case 1:
              src = _a3.sent();
              return [4, this.updateProfile({ photo: src })];
            case 2:
              user2 = _a3.sent();
              this.setCurrentUser(user2);
              return [2, user2];
          }
        });
      });
    };
    AuthenticationClient2.prototype.getUdfValue = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, list;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = this.checkLoggedIn();
              return [4, udv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId
              })];
            case 1:
              list = _a3.sent().udv;
              return [2, convertUdvToKeyValuePair(list)];
          }
        });
      });
    };
    AuthenticationClient2.prototype.setUdfValue = function(data) {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, result;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (Object.keys(data).length === 0) {
                throw new Error("empty udf value list");
              }
              userId = this.checkLoggedIn();
              return [4, setUdvBatch(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId,
                udvList: Object.keys(data).map(function(key) {
                  return {
                    key,
                    value: JSON.stringify(data[key])
                  };
                })
              })];
            case 1:
              result = _a3.sent().setUdvBatch;
              return [2, result];
          }
        });
      });
    };
    AuthenticationClient2.prototype.removeUdfValue = function(key) {
      return __awaiter35(this, void 0, void 0, function() {
        var userId;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              userId = this.checkLoggedIn();
              return [4, removeUdv(this.graphqlClient, this.tokenProvider, {
                targetType: UdfTargetType.User,
                targetId: userId,
                key
              })];
            case 1:
              _a3.sent();
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype.getSecurityLevel = function() {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.httpClient.request({
                method: "GET",
                url: "".concat(this.baseClient.appHost, "/api/v2/users/me/security-level")
              })];
            case 1:
              return [2, _a3.sent()];
          }
        });
      });
    };
    AuthenticationClient2.prototype.listAuthorizedResources = function(namespace, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var userId, resourceType, user2, _a3, list, totalCount;
        return __generator35(this, function(_b) {
          switch (_b.label) {
            case 0:
              userId = this.checkLoggedIn();
              resourceType = (options || {}).resourceType;
              return [4, listUserAuthorizedResources(this.graphqlClient, this.tokenProvider, {
                id: userId,
                namespace,
                resourceType
              })];
            case 1:
              user2 = _b.sent().user;
              if (!user2) {
                throw new Error("");
              }
              _a3 = user2.authorizedResources, list = _a3.list, totalCount = _a3.totalCount;
              list = formatAuthorizedResources(list);
              return [2, {
                list,
                totalCount
              }];
          }
        });
      });
    };
    AuthenticationClient2.prototype.isUserExists = function(options) {
      return __awaiter35(this, void 0, void 0, function() {
        var username, email, phone, externalId, data;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              username = options.username, email = options.email, phone = options.phone, externalId = options.externalId;
              return [4, isUserExists(this.graphqlClient, this.tokenProvider, {
                username,
                email,
                phone,
                externalId
              })];
            case 1:
              data = _a3.sent().isUserExists;
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.computedPasswordSecurityLevel = function(password) {
      if (typeof password !== "string") {
        throw "password must be a `string`";
      }
      var highLevel = new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{12,}$/g);
      var middleLevel = new RegExp(/^(?=.*[a-zA-Z])(?=.*\d)[^]{8,}$/g);
      if (password.match(highLevel) !== null) {
        return PasswordSecurityLevel.HIGH;
      }
      if (password.match(middleLevel) !== null) {
        return PasswordSecurityLevel.MIDDLE;
      }
      return PasswordSecurityLevel.LOW;
    };
    AuthenticationClient2.prototype._generateTokenRequest = function(params) {
      var ret = {};
      Object.keys(params).map(function(key) {
        if (typeof params[key] !== "undefined") {
          ret[key] = params[key];
        }
      });
      var p = new URLSearchParams(ret);
      return p.toString();
    };
    AuthenticationClient2.prototype._generateBasicAuthToken = function(appId, secret) {
      var id = appId || this.options.appId;
      var s = secret || this.options.secret;
      var token = "Basic " + Buffer.from(id + ":" + s).toString("base64");
      return token;
    };
    AuthenticationClient2.prototype._getAccessTokenByCodeWithClientSecretPost = function(code, codeVerifier) {
      return __awaiter35(this, void 0, void 0, function() {
        var qstr, api, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                client_secret: this.options.secret,
                grant_type: "authorization_code",
                code,
                redirect_uri: this.options.redirectUri,
                code_verifier: codeVerifier
              });
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token");
              }
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr,
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded"
                }
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype._getAccessTokenByCodeWithClientSecretBasic = function(code, codeVerifier) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token");
              }
              qstr = this._generateTokenRequest({
                grant_type: "authorization_code",
                code,
                redirect_uri: this.options.redirectUri,
                code_verifier: codeVerifier
              });
              return [4, this.naiveHttpClient.request({
                data: qstr,
                method: "POST",
                url: api,
                headers: {
                  Authorization: this._generateBasicAuthToken()
                }
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype._getAccessTokenByCodeWithNone = function(code, codeVerifier) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token");
              }
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                grant_type: "authorization_code",
                code,
                redirect_uri: this.options.redirectUri,
                code_verifier: codeVerifier
              });
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype.getAccessTokenByIdToken = function(options) {
      return __awaiter35(this, void 0, void 0, function() {
        var redirectUri, idToken, _a3, scope, protocolApiMap, api, tokenSet;
        return __generator35(this, function(_b) {
          switch (_b.label) {
            case 0:
              redirectUri = options.redirectUri, idToken = options.idToken, _a3 = options.scope, scope = _a3 === void 0 ? "" : _a3;
              protocolApiMap = {
                oidc: "/oidc/token",
                oauth: "/oauth/token"
              };
              api = this.baseClient.appHost + protocolApiMap[this.options.protocol] || "";
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: this._generateTokenRequest({
                  client_id: this.options.appId,
                  grant_type: "http://authing.cn/oidc/grant_type/authing_token",
                  redirect_uri: redirectUri,
                  token: idToken,
                  scope
                }),
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded"
                }
              })];
            case 1:
              tokenSet = _b.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype.getAccessTokenByCode = function(code, options) {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!["oauth", "oidc"].includes(this.options.protocol)) {
                throw new Error(" AuthenticationClient  protocol  oauth  oidc");
              }
              if (!this.options.secret && this.options.tokenEndPointAuthMethod !== "none") {
                throw new Error(" AuthenticationClient  appId  secret ");
              }
              if (!(this.options.tokenEndPointAuthMethod === "client_secret_post")) return [3, 2];
              return [4, this._getAccessTokenByCodeWithClientSecretPost(code, options === null || options === void 0 ? void 0 : options.codeVerifier)];
            case 1:
              return [2, _a3.sent()];
            case 2:
              if (!(this.options.tokenEndPointAuthMethod === "client_secret_basic")) return [3, 4];
              return [4, this._getAccessTokenByCodeWithClientSecretBasic(code, options === null || options === void 0 ? void 0 : options.codeVerifier)];
            case 3:
              return [2, _a3.sent()];
            case 4:
              if (!(this.options.tokenEndPointAuthMethod === "none")) return [3, 6];
              return [4, this._getAccessTokenByCodeWithNone(code, options === null || options === void 0 ? void 0 : options.codeVerifier)];
            case 5:
              return [2, _a3.sent()];
            case 6:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype.generateCodeChallenge = function() {
      return generateRandomString(43);
    };
    AuthenticationClient2.prototype.getCodeChallengeDigest = function(options) {
      if (!options) {
        throw new Error(" options options.codeChallenge  43 options.method  S256plain");
      }
      if (!options.codeChallenge) {
        throw new Error(" options.codeChallenge 43 ");
      }
      var _a3 = options.method, method = _a3 === void 0 ? "S256" : _a3;
      if (method === "S256") {
        return (0, import_sha256.default)(options.codeChallenge).toString(import_crypto_js2.default.enc.Base64).replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, "");
      }
      if (method === "plain") {
        return options.codeChallenge;
      }
      throw new Error(" options.method S256plain");
    };
    AuthenticationClient2.prototype.getAccessTokenByClientCredentials = function(scope, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var i, s, qstr, api, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!scope) {
                throw new Error(" scope https://docs.authing.cn/v2/guides/authorization/m2m-authz.html");
              }
              if (!options) {
                throw new Error(
                  " { accessKey: string, accessSecret: string }https://docs.authing.cn/v2/guides/authorization/m2m-authz.html"
                  // ' AuthenticationClient  appId  secret  { accessKey: string, accessSecret: string }https://docs.authing.cn/v2/guides/authorization/m2m-authz.html'
                );
              }
              i = (options === null || options === void 0 ? void 0 : options.accessKey) || this.options.appId;
              s = (options === null || options === void 0 ? void 0 : options.accessSecret) || this.options.secret;
              qstr = this._generateTokenRequest({
                client_id: i,
                client_secret: s,
                grant_type: "client_credentials",
                scope
              });
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token");
              }
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr,
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded"
                }
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype.getUserInfoByAccessToken = function(accessToken, options) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, userInfo, userInfo, userInfo, userInfo, userInfo, userInfo;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (options) {
                if (options.method && !["POST", "GET"].includes(options.method)) {
                  throw new Error("options.method  POSTGET");
                }
                if (options.tokenPlace && !["query", "header", "body"].includes(options.tokenPlace)) {
                  throw new Error("options.tokenPlace  queryheaderbody");
                }
                if (options.method === "GET" && options.tokenPlace === "body") {
                  throw new Error("options.method  GET options.tokenPlace  body");
                }
                options.method = options.method || "GET";
                options.tokenPlace = options.tokenPlace || "query";
              }
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/me");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/me");
              }
              if (!((options === null || options === void 0 ? void 0 : options.method) === "POST")) return [3, 7];
              if (!((options === null || options === void 0 ? void 0 : options.tokenPlace) === "header")) return [3, 2];
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                headers: {
                  Authorization: "Bearer " + accessToken
                }
              })];
            case 1:
              userInfo = _a3.sent();
              return [2, userInfo];
            case 2:
              if (!((options === null || options === void 0 ? void 0 : options.tokenPlace) === "query")) return [3, 4];
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                params: {
                  access_token: accessToken
                }
              })];
            case 3:
              userInfo = _a3.sent();
              return [2, userInfo];
            case 4:
              if (!((options === null || options === void 0 ? void 0 : options.tokenPlace) === "body")) return [3, 6];
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: serialize({
                  access_token: accessToken
                })
              })];
            case 5:
              userInfo = _a3.sent();
              return [2, userInfo];
            case 6:
              return [3, 14];
            case 7:
              if (!((options === null || options === void 0 ? void 0 : options.method) === "GET")) return [3, 12];
              if (!((options === null || options === void 0 ? void 0 : options.tokenPlace) === "header")) return [3, 9];
              return [4, this.naiveHttpClient.request({
                method: "GET",
                url: api,
                headers: {
                  Authorization: "Bearer " + accessToken
                }
              })];
            case 8:
              userInfo = _a3.sent();
              return [2, userInfo];
            case 9:
              if (!((options === null || options === void 0 ? void 0 : options.tokenPlace) === "query")) return [3, 11];
              return [4, this.naiveHttpClient.request({
                method: "GET",
                url: api,
                params: {
                  access_token: accessToken
                }
              })];
            case 10:
              userInfo = _a3.sent();
              return [2, userInfo];
            case 11:
              return [3, 14];
            case 12:
              return [4, this.naiveHttpClient.request({
                method: "GET",
                url: api,
                params: {
                  access_token: accessToken
                }
              })];
            case 13:
              userInfo = _a3.sent();
              return [2, userInfo];
            case 14:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype.buildAuthorizeUrl = function(options) {
      if (!this.baseClient.appHost) {
        throw new Error(" AuthenticationClient  appHost https://app1.authing.cn");
      }
      if (this.options.protocol === "oidc") {
        return this._buildOidcAuthorizeUrl(options);
      }
      if (this.options.protocol === "oauth") {
        return this._buildOauthAuthorizeUrl(options);
      }
      if (this.options.protocol === "saml") {
        return this._buildSamlAuthorizeUrl();
      }
      if (this.options.protocol === "cas") {
        return this._buildCasAuthorizeUrl(options);
      }
      throw new Error(" AuthenticationClient  protocol  oidcoauthsamlcas");
    };
    AuthenticationClient2.prototype._buildOidcAuthorizeUrl = function(options) {
      var map = {
        appId: "client_id",
        scope: "scope",
        state: "state",
        nonce: "nonce",
        responseMode: "response_mode",
        responseType: "response_type",
        redirectUri: "redirect_uri",
        codeChallenge: "code_challenge",
        codeChallengeMethod: "code_challenge_method",
        tenantId: "tenant_id"
      };
      var res = {
        nonce: Math.random().toString().slice(2),
        state: Math.random().toString().slice(2),
        scope: "openid profile email phone address",
        client_id: this.options.appId,
        redirect_uri: this.options.redirectUri,
        response_type: "code"
      };
      Object.keys(map).forEach(function(k) {
        if (options && options[k]) {
          if (k === "scope" && options.scope.includes("offline_access")) {
            res.prompt = "consent";
          }
          res[map[k]] = options[k];
        }
      });
      var params = new URLSearchParams(res);
      var authorizeUrl = this.baseClient.appHost + "/oidc/auth?" + params.toString();
      return authorizeUrl;
    };
    AuthenticationClient2.prototype._buildOauthAuthorizeUrl = function(options) {
      var map = {
        appId: "client_id",
        scope: "scope",
        state: "state",
        responseType: "response_type",
        redirectUri: "redirect_uri"
      };
      var res = {
        state: Math.random().toString().slice(2),
        scope: "user",
        client_id: this.options.appId,
        redirect_uri: this.options.redirectUri,
        response_type: "code"
      };
      Object.keys(map).forEach(function(k) {
        if (options && options[k]) {
          res[map[k]] = options[k];
        }
      });
      var params = new URLSearchParams(res);
      var authorizeUrl = this.baseClient.appHost + "/oauth/auth?" + params.toString();
      return authorizeUrl;
    };
    AuthenticationClient2.prototype._buildSamlAuthorizeUrl = function() {
      return this.baseClient.appHost + "/api/v2/saml-idp/" + this.options.appId;
    };
    AuthenticationClient2.prototype._buildCasAuthorizeUrl = function(options) {
      if (options === null || options === void 0 ? void 0 : options.service) {
        return "".concat(this.baseClient.appHost, "/cas-idp/").concat(this.options.appId, "?service=").concat(options === null || options === void 0 ? void 0 : options.service);
      }
      return "".concat(this.baseClient.appHost, "/cas-idp/").concat(this.options.appId);
    };
    AuthenticationClient2.prototype._buildCasLogoutUrl = function(options) {
      if (options === null || options === void 0 ? void 0 : options.redirectUri) {
        return this.baseClient.appHost + "/cas-idp/logout?url=" + options.redirectUri;
      }
      return "".concat(this.baseClient.appHost, "/cas-idp/logout");
    };
    AuthenticationClient2.prototype._buildOidcLogoutUrl = function(options) {
      if (options && !(options.idToken && options.redirectUri)) {
        throw new Error(" idToken  redirectUri ");
      }
      if (options === null || options === void 0 ? void 0 : options.redirectUri) {
        return "".concat(this.baseClient.appHost, "/oidc/session/end?id_token_hint=").concat(options.idToken, "&post_logout_redirect_uri=").concat(options.redirectUri);
      }
      return "".concat(this.baseClient.appHost, "/oidc/session/end");
    };
    AuthenticationClient2.prototype._buildEasyLogoutUrl = function(options) {
      if (options === null || options === void 0 ? void 0 : options.redirectUri) {
        return "".concat(this.baseClient.appHost, "/login/profile/logout?redirect_uri=").concat(options.redirectUri);
      }
      return "".concat(this.baseClient.appHost, "/login/profile/logout");
    };
    AuthenticationClient2.prototype.buildLogoutUrl = function(options) {
      if (this.options.protocol === "cas") {
        return this._buildCasLogoutUrl(options);
      }
      if (this.options.protocol === "oidc" && (options === null || options === void 0 ? void 0 : options.expert)) {
        return this._buildOidcLogoutUrl(options);
      }
      return this._buildEasyLogoutUrl(options);
    };
    AuthenticationClient2.prototype._getNewAccessTokenByRefreshTokenWithClientSecretPost = function(refreshToken2) {
      return __awaiter35(this, void 0, void 0, function() {
        var qstr, api, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                client_secret: this.options.secret,
                grant_type: "refresh_token",
                refresh_token: refreshToken2
              });
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token");
              }
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr,
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded"
                }
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype._getNewAccessTokenByRefreshTokenWithClientSecretBasic = function(refreshToken2) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token");
              }
              qstr = this._generateTokenRequest({
                grant_type: "refresh_token",
                refresh_token: refreshToken2
              });
              return [4, this.naiveHttpClient.request({
                data: qstr,
                method: "POST",
                url: api,
                headers: {
                  Authorization: this._generateBasicAuthToken()
                }
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype._getNewAccessTokenByRefreshTokenWithNone = function(refreshToken2) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token");
              }
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                grant_type: "refresh_token",
                refresh_token: refreshToken2
              });
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype.getNewAccessTokenByRefreshToken = function(refreshToken2) {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!["oauth", "oidc"].includes(this.options.protocol)) {
                throw new Error(" AuthenticationClient  protocol  oauth  oidc");
              }
              if (!this.options.secret && this.options.tokenEndPointAuthMethod !== "none") {
                throw new Error(" AuthenticationClient  appId  secret ");
              }
              if (!(this.options.tokenEndPointAuthMethod === "client_secret_post")) return [3, 2];
              return [4, this._getNewAccessTokenByRefreshTokenWithClientSecretPost(refreshToken2)];
            case 1:
              return [2, _a3.sent()];
            case 2:
              if (!(this.options.tokenEndPointAuthMethod === "client_secret_basic")) return [3, 4];
              return [4, this._getNewAccessTokenByRefreshTokenWithClientSecretBasic(refreshToken2)];
            case 3:
              return [2, _a3.sent()];
            case 4:
              if (!(this.options.tokenEndPointAuthMethod === "none")) return [3, 6];
              return [4, this._getNewAccessTokenByRefreshTokenWithNone(refreshToken2)];
            case 5:
              return [2, _a3.sent()];
            case 6:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype._revokeTokenWithClientSecretPost = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        var qstr, api, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                client_secret: this.options.secret,
                token
              });
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token/revocation");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token/revocation");
              }
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr,
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded"
                }
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype._revokeTokenWithClientSecretBasic = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, result;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token/revocation");
              } else if (this.options.protocol === "oauth") {
                throw new Error("OAuth 2.0  client_secret_basic  Token");
                api = "".concat(this.baseClient.appHost, "/oauth/token/revocation");
              }
              qstr = this._generateTokenRequest({
                token
              });
              return [4, this.naiveHttpClient.request({
                data: qstr,
                method: "POST",
                url: api,
                headers: {
                  Authorization: this._generateBasicAuthToken()
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AuthenticationClient2.prototype._revokeTokenWithNone = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, result;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token/revocation");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token/revocation");
              }
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                token
              });
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AuthenticationClient2.prototype.revokeToken = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!["oauth", "oidc"].includes(this.options.protocol)) {
                throw new Error(" AuthenticationClient  protocol  oauth  oidc");
              }
              if (!this.options.secret && this.options.revocationEndPointAuthMethod !== "none") {
                throw new Error(" AuthenticationClient  appId  secret ");
              }
              if (!(this.options.revocationEndPointAuthMethod === "client_secret_post")) return [3, 2];
              return [4, this._revokeTokenWithClientSecretPost(token)];
            case 1:
              _a3.sent();
              return [2, true];
            case 2:
              if (!(this.options.revocationEndPointAuthMethod === "client_secret_basic")) return [3, 4];
              return [4, this._revokeTokenWithClientSecretBasic(token)];
            case 3:
              _a3.sent();
              return [2, true];
            case 4:
              if (!(this.options.revocationEndPointAuthMethod === "none")) return [3, 6];
              return [4, this._revokeTokenWithNone(token)];
            case 5:
              _a3.sent();
              return [2, true];
            case 6:
              throw new Error(" AuthenticationClient  revocationEndPointAuthMethod  client_secret_baseclient_secret_postnone");
          }
        });
      });
    };
    AuthenticationClient2.prototype._introspectTokenWithClientSecretPost = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        var qstr, api, tokenSet;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                client_secret: this.options.secret,
                token
              });
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token/introspection");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token/introspection");
              }
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr,
                headers: {
                  "Content-Type": "application/x-www-form-urlencoded"
                }
              })];
            case 1:
              tokenSet = _a3.sent();
              return [2, tokenSet];
          }
        });
      });
    };
    AuthenticationClient2.prototype._introspectTokenWithClientSecretBasic = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, result;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token/introspection");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token/introspection");
              }
              qstr = this._generateTokenRequest({
                token
              });
              return [4, this.naiveHttpClient.request({
                data: qstr,
                method: "POST",
                url: api,
                headers: {
                  Authorization: this._generateBasicAuthToken()
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AuthenticationClient2.prototype._introspectTokenWithNone = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, qstr, result;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "";
              if (this.options.protocol === "oidc") {
                api = "".concat(this.baseClient.appHost, "/oidc/token/introspection");
              } else if (this.options.protocol === "oauth") {
                api = "".concat(this.baseClient.appHost, "/oauth/token/introspection");
              }
              qstr = this._generateTokenRequest({
                client_id: this.options.appId,
                token
              });
              return [4, this.naiveHttpClient.request({
                method: "POST",
                url: api,
                data: qstr
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AuthenticationClient2.prototype.introspectToken = function(token) {
      return __awaiter35(this, void 0, void 0, function() {
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!["oauth", "oidc"].includes(this.options.protocol)) {
                throw new Error(" AuthenticationClient  protocol  oauth  oidc");
              }
              if (!this.options.secret && this.options.introspectionEndPointAuthMethod !== "none") {
                throw new Error(" AuthenticationClient  appId  secret ");
              }
              if (!(this.options.introspectionEndPointAuthMethod === "client_secret_post")) return [3, 2];
              return [4, this._introspectTokenWithClientSecretPost(token)];
            case 1:
              return [2, _a3.sent()];
            case 2:
              if (!(this.options.introspectionEndPointAuthMethod === "client_secret_basic")) return [3, 4];
              return [4, this._introspectTokenWithClientSecretBasic(token)];
            case 3:
              return [2, _a3.sent()];
            case 4:
              if (!(this.options.introspectionEndPointAuthMethod === "none")) return [3, 6];
              return [4, this._introspectTokenWithNone(token)];
            case 5:
              return [2, _a3.sent()];
            case 6:
              throw new Error(" AuthenticationClient  introspectionEndPointAuthMethod  client_secret_baseclient_secret_postnone");
          }
        });
      });
    };
    AuthenticationClient2.prototype.validateTicketV1 = function(ticket, service) {
      return __awaiter35(this, void 0, void 0, function() {
        var api, result, valid;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              api = "".concat(this.baseClient.appHost, "/cas-idp/").concat(this.options.appId, "/validate");
              return [4, this.naiveHttpClient.request({
                method: "GET",
                url: api,
                params: {
                  service,
                  ticket
                }
              })];
            case 1:
              result = _a3.sent();
              valid = result.split("\n")[0];
              return [2, __assign12({ valid: valid === "yes" }, valid !== "yes" && { message: "ticket " })];
          }
        });
      });
    };
    AuthenticationClient2.prototype.validateTicketV2 = function(ticket, service, format) {
      if (format === void 0) {
        format = "JSON";
      }
      return __awaiter35(this, void 0, void 0, function() {
        var api, result;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!ticket) {
                throw new Error(" ticket ");
              }
              if (!service) {
                throw new Error(" service ");
              }
              if (format !== "XML" && format !== "JSON") {
                throw new Error("format  XMLJSON");
              }
              api = "".concat(this.baseClient.appHost, "/cas-idp/").concat(this.options.appId, "/serviceValidate");
              return [4, this.naiveHttpClient.request({
                method: "GET",
                url: api,
                params: {
                  service,
                  ticket,
                  format
                }
              })];
            case 1:
              result = _a3.sent();
              return [2, result];
          }
        });
      });
    };
    AuthenticationClient2.prototype.hasRole = function(roleCode, namespace) {
      return __awaiter35(this, void 0, void 0, function() {
        var user2, roleList, hasRole;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, getUserRoles(this.graphqlClient, this.tokenProvider, {
                id: this.checkLoggedIn(),
                namespace
              })];
            case 1:
              user2 = _a3.sent().user;
              if (!user2) {
                return [2, false];
              }
              roleList = user2.roles;
              if (roleList.totalCount < 1) {
                return [2, false];
              }
              hasRole = false;
              roleList.list.forEach(function(item) {
                if (item.code === roleCode) {
                  hasRole = true;
                }
              });
              return [2, hasRole];
          }
        });
      });
    };
    AuthenticationClient2.prototype.listApplications = function(params) {
      return __awaiter35(this, void 0, void 0, function() {
        var _a3, _b, page, _c, limit, data;
        return __generator35(this, function(_d) {
          switch (_d.label) {
            case 0:
              _a3 = params || {}, _b = _a3.page, page = _b === void 0 ? 1 : _b, _c = _a3.limit, limit = _c === void 0 ? 10 : _c;
              return [4, this.httpClient.request({
                url: "".concat(this.baseClient.appHost, "/api/v2/users/me/applications/allowed?page=").concat(page, "&limit=").concat(limit),
                method: "GET"
              })];
            case 1:
              data = _d.sent();
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.validateToken = function(options) {
      return __awaiter35(this, void 0, void 0, function() {
        var data, data;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              if (!options) {
                throw new Error(" accessToken  idToken ");
              }
              if (options.accessToken && options.idToken) {
                throw new Error("accessToken  idToken ");
              }
              if (!options.idToken) return [3, 2];
              return [4, this.naiveHttpClient.request({
                url: "".concat(this.baseClient.appHost, "/api/v2/oidc/validate_token"),
                method: "GET",
                params: {
                  id_token: options.idToken
                }
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
            case 2:
              if (!options.accessToken) return [3, 4];
              return [4, this.naiveHttpClient.request({
                url: "".concat(this.baseClient.appHost, "/api/v2/oidc/validate_token"),
                method: "GET",
                params: {
                  access_token: options.accessToken
                }
              })];
            case 3:
              data = _a3.sent();
              return [2, data];
            case 4:
              return [
                2
                /*return*/
              ];
          }
        });
      });
    };
    AuthenticationClient2.prototype.trackSession = function() {
      return __awaiter35(this, void 0, void 0, function() {
        var data;
        return __generator35(this, function(_a3) {
          switch (_a3.label) {
            case 0:
              return [4, this.naiveHttpClient.request({
                url: "".concat(this.baseClient.appHost, "/cas/session"),
                method: "GET"
              })];
            case 1:
              data = _a3.sent();
              return [2, data];
          }
        });
      });
    };
    AuthenticationClient2.prototype.setLang = function(lang) {
      this.options.lang = lang;
    };
    return AuthenticationClient2;
  }()
);
export {
  AccessTokenDocument,
  AddMemberDocument,
  AddNodeDocument,
  AddNodeV2Document,
  AddPolicyAssignmentsDocument,
  AddUserToGroupDocument,
  AddWhitelistDocument,
  AllowDocument,
  AppPasswordStrengthLimit,
  ApplicationType,
  ArchivedUsersDocument,
  AssignRoleDocument,
  AuthenticationClient,
  AuthenticationTokenProvider,
  AuthorizeResourceDocument,
  AuthorizedResourcesDocument,
  AuthorizedTargetsDocument,
  BindEmailDocument,
  BindPhoneDocument,
  ChangeMfaDocument,
  CheckLoginStatusDocument,
  CheckPasswordStrengthDocument,
  ChildrenNodesDocument,
  ConfigEmailTemplateDocument,
  CreateFunctionDocument,
  CreateGroupDocument,
  CreateOrgDocument,
  CreatePolicyDocument,
  CreateRoleDocument,
  CreateUserDocument,
  CreateUserWithCustomDataDocument,
  CreateUserpoolDocument,
  DeleteFunctionDocument,
  DeleteGroupsDocument,
  DeleteNodeDocument,
  DeleteOrgDocument,
  DeletePoliciesDocument,
  DeletePolicyDocument,
  DeleteRoleDocument,
  DeleteRolesDocument,
  DeleteUserDocument,
  DeleteUserpoolDocument,
  DeleteUsersDocument,
  DisableEmailTemplateDocument,
  DisbalePolicyAssignmentDocument,
  EmailScene,
  EmailTemplateType,
  EmailTemplatesDocument,
  EnableEmailTemplateDocument,
  EnablePolicyAssignmentDocument,
  FindUserDocument,
  FindUserWithCustomDataDocument,
  FunctionDocument,
  FunctionsDocument,
  GetUserDepartmentsDocument,
  GetUserGroupsDocument,
  GetUserRolesDocument,
  GroupDocument,
  GroupWithUsersDocument,
  GroupWithUsersWithCustomDataDocument,
  GroupsDocument,
  IsActionAllowedDocument,
  IsActionDeniedDocument,
  IsDomainAvaliableDocument,
  IsRootNodeDocument,
  IsUserExistsDocument,
  ListGroupAuthorizedResourcesDocument,
  ListNodeByCodeAuthorizedResourcesDocument,
  ListNodeByIdAuthorizedResourcesDocument,
  ListRoleAuthorizedResourcesDocument,
  ListUserAuthorizedResourcesDocument,
  LoginByEmailDocument,
  LoginByPhoneCodeDocument,
  LoginByPhonePasswordDocument,
  LoginBySubAccountDocument,
  LoginByUsernameDocument,
  LoginMethods,
  ManagementClient,
  ManagementTokenProvider,
  MoveMembersDocument,
  MoveNodeDocument,
  NodeByCodeDocument,
  NodeByCodeWithMembersDocument,
  NodeByIdDocument,
  NodeByIdWithMembersDocument,
  OIDCConnectionMode,
  Operator,
  OrgDocument,
  OrgsDocument,
  PasswordSecurityLevel,
  PoliciesDocument,
  PolicyAssignmentTargetType,
  PolicyAssignmentsDocument,
  PolicyDocument,
  PolicyEffect,
  PolicyWithAssignmentsDocument,
  PreviewEmailDocument,
  Protocol,
  QiniuUptokenDocument,
  QueryMfaDocument,
  RefreshAccessTokenDocument,
  RefreshTokenDocument,
  RefreshUserpoolSecretDocument,
  RegisterByEmailDocument,
  RegisterByPhoneCodeDocument,
  RegisterByUsernameDocument,
  RegisterMethods,
  RelayMethodEnum,
  RemoveMemberDocument,
  RemovePolicyAssignmentsDocument,
  RemoveUdfDocument,
  RemoveUdvDocument,
  RemoveUserFromGroupDocument,
  RemoveWhitelistDocument,
  ResetPasswordByFirstLoginTokenDocument,
  ResetPasswordByForceResetTokenDocument,
  ResetPasswordDocument,
  ResourceType,
  RevokeRoleDocument,
  RoleDocument,
  RoleWithUsersDocument,
  RoleWithUsersWithCustomDataDocument,
  RolesDocument,
  RootNodeDocument,
  SceneType,
  SearchNodesDocument,
  SearchUserDocument,
  SearchUserWithCustomDataDocument,
  SendEmailDocument,
  SendFirstLoginVerifyEmailDocument,
  SetMainDepartmentDocument,
  SetUdfDocument,
  SetUdfValueBatchDocument,
  SetUdvBatchDocument,
  SetUdvDocument,
  SocialConnectionProvider,
  SortByEnum,
  SupportedAdminActionEnum,
  SupportedUserActionEnum,
  TemplateCodeDocument,
  UdfDataType,
  UdfDocument,
  UdfTargetType,
  UdfValueBatchDocument,
  UdvDocument,
  UnbindEmailDocument,
  UnbindPhoneDocument,
  UpdateEmailDocument,
  UpdateFunctionDocument,
  UpdateGroupDocument,
  UpdateNodeDocument,
  UpdatePasswordDocument,
  UpdatePhoneDocument,
  UpdatePolicyDocument,
  UpdateRoleDocument,
  UpdateUserDocument,
  UpdateUserpoolDocument,
  UserBatchDocument,
  UserBatchWithCustomDataDocument,
  UserDocument,
  UserStatus,
  UserWithCustomDataDocument,
  UserpoolDocument,
  UserpoolTypesDocument,
  UserpoolsDocument,
  UsersDocument,
  UsersWithCustomDataDocument,
  WhitelistDocument,
  WhitelistType
};
//# sourceMappingURL=authing-js-sdk.js.map
