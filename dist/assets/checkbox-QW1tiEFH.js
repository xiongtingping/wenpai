import{r as e,j as r,aN as t,a_ as n,a0 as a,a$ as o,aL as s,aO as c,b0 as d,b1 as i,Y as l,af as u}from"./index-Dk-gCvGC.js";var p="Checkbox",[f,h]=t(p),[b,m]=f(p);function k(t){const{__scopeCheckbox:n,checked:a,children:s,defaultChecked:c,disabled:d,form:i,name:l,onCheckedChange:u,required:f,value:h="on",internal_do_not_use_render:m}=t,[k,C]=o({prop:a,defaultProp:c??!1,onChange:u,caller:p}),[x,v]=e.useState(null),[_,y]=e.useState(null),g=e.useRef(!1),j=!x||!!i||!!x.closest("form"),R={checked:k,disabled:d,setChecked:C,control:x,setControl:v,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:g,required:f,defaultChecked:!N(c)&&c,isFormControl:j,bubbleInput:_,setBubbleInput:y};return r.jsx(b,{scope:n,...R,children:w(m)?m(R):s})}var C="CheckboxTrigger",x=e.forwardRef(({__scopeCheckbox:t,onKeyDown:n,onClick:o,...d},i)=>{const{control:l,value:u,disabled:p,checked:f,required:h,setControl:b,setChecked:k,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:_}=m(C,t),y=s(i,b),g=e.useRef(f);return e.useEffect(()=>{const e=null==l?void 0:l.form;if(e){const r=()=>k(g.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[l,k]),r.jsx(a.button,{type:"button",role:"checkbox","aria-checked":N(f)?"mixed":f,"aria-required":h,"data-state":R(f),"data-disabled":p?"":void 0,disabled:p,value:u,...d,ref:y,onKeyDown:c(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:c(o,e=>{k(e=>!!N(e)||!e),_&&v&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});x.displayName=C;var v=e.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:o,defaultChecked:s,required:c,disabled:d,value:i,onCheckedChange:l,form:u,...p}=e;return r.jsx(k,{__scopeCheckbox:n,checked:o,defaultChecked:s,disabled:d,required:c,onCheckedChange:l,name:a,form:u,value:i,internal_do_not_use_render:({isFormControl:e})=>r.jsxs(r.Fragment,{children:[r.jsx(x,{...p,ref:t,__scopeCheckbox:n}),e&&r.jsx(j,{__scopeCheckbox:n})]})})});v.displayName=p;var _="CheckboxIndicator",y=e.forwardRef((e,t)=>{const{__scopeCheckbox:o,forceMount:s,...c}=e,d=m(_,o);return r.jsx(n,{present:s||N(d.checked)||!0===d.checked,children:r.jsx(a.span,{"data-state":R(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})});y.displayName=_;var g="CheckboxBubbleInput",j=e.forwardRef(({__scopeCheckbox:t,...n},o)=>{const{control:c,hasConsumerStoppedPropagationRef:l,checked:u,defaultChecked:p,required:f,disabled:h,name:b,value:k,form:C,bubbleInput:x,setBubbleInput:v}=m(g,t),_=s(o,v),y=d(u),j=i(c);e.useEffect(()=>{const e=x;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,n=!l.current;if(y!==u&&t){const r=new Event("click",{bubbles:n});e.indeterminate=N(u),t.call(e,!N(u)&&u),e.dispatchEvent(r)}},[x,y,u,l]);const w=e.useRef(!N(u)&&u);return r.jsx(a.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??w.current,required:f,disabled:h,name:b,value:k,form:C,...n,tabIndex:-1,ref:_,style:{...n.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function w(e){return"function"==typeof e}function N(e){return"indeterminate"===e}function R(e){return N(e)?"indeterminate":e?"checked":"unchecked"}j.displayName=g;const E=e.forwardRef(({className:e,...t},n)=>r.jsx(v,{ref:n,className:l("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(y,{className:l("flex items-center justify-center text-current"),children:r.jsx(u,{className:"h-4 w-4"})})}));E.displayName=v.displayName;export{E as C};
