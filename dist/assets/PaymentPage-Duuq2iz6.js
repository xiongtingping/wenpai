import{c as e,p as s,u as t,_ as r,r as l,j as a,B as i,ad as n,g as c,ap as d,aq as x,C as m,ar as o,Z as h,e as p,f as g,n as j,i as u,af as N,as as b,at as y}from"./index-BuR5xlXm.js";import{A as f}from"./AlipayQRCode-DJxkOHJh.js";import{A as v}from"./arrow-left-Cx2hbPOV.js";import{G as w}from"./gift-Dt6sROyp.js";import{C as k}from"./credit-card-CMjqDMcN.js";import"./creemClientService-CRnFWG6U.js";import"./browser-Il7jAgTf.js";import"./smartphone-SbHUnXyW.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=e("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),I=({priceId:e,planName:s,price:t})=>a.jsx(f,{priceId:e,title:`${s} - æ‰«ç æ”¯ä»˜`,showPrice:!0});function P(){const e=s(),{toast:f}=t(),{user:P,isAuthenticated:q}=r(),[A,S]=l.useState(null),[z,V]=l.useState("monthly"),[_,F]=l.useState(!1),[O,R]=l.useState(0),Y=l.useRef(null);l.useEffect(()=>{if(!q)return;const e=()=>{const e=y(null==P?void 0:P.id),s=O;R(e),e<=0&&s>0&&f({title:"é™æ—¶ä¼˜æƒ å·²ç»“æŸ",description:"ä¼˜æƒ æœŸå·²ç»“æŸï¼Œä»·æ ¼å·²æ¢å¤åŸä»·",variant:"destructive"})};e();const s=setInterval(e,1e3);return()=>clearInterval(s)},[q,null==P?void 0:P.id,f]);const B=e=>{S(e),F(!1),setTimeout(()=>{var e;null==(e=Y.current)||e.scrollIntoView({behavior:"smooth",block:"center"})},100)},D=e=>{V(e),F(!1),setTimeout(()=>{var e;null==(e=Y.current)||e.scrollIntoView({behavior:"smooth",block:"center"})},100)},T=()=>{if(!A)return 0;const e="monthly"===z?A.monthly:A.yearly,s=e.originalPrice;return x(null==P?void 0:P.id)&&e.discountPrice||s},$=e=>12*e.monthly.originalPrice-e.yearly.originalPrice;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(i,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[a.jsx(v,{className:"h-4 w-4"}),"è¿”å›é¦–é¡µ"]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"æ”¯ä»˜ä¸­å¿ƒ"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"text-sm text-gray-500",children:q?"å·²ç™»å½•":"æœªç™»å½•"})})]})}),a.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl md:py-16 md:px-6",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"é€‰æ‹©è®¢é˜…è®¡åˆ’"}),a.jsx("p",{className:"text-muted-foreground",children:"é€‰æ‹©æœ€é€‚åˆæ‚¨çš„è®¡åˆ’ï¼Œå¼€å¯AIåˆ›ä½œä¹‹æ—…"})]}),O>0&&a.jsxs("div",{className:"mb-8 p-4 bg-gradient-to-r from-red-100 to-orange-50 border-2 border-red-200 rounded-xl shadow flex flex-col md:flex-row items-center justify-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(w,{className:"w-6 h-6 text-red-500"}),a.jsx("span",{className:"text-lg md:text-xl font-bold text-red-600",children:"æ–°ç”¨æˆ·é™æ—¶ä¼˜æƒ "})]}),a.jsxs("span",{className:"flex items-center gap-2 text-xl md:text-2xl font-bold bg-red-50 px-4 py-2 rounded-lg border-2 border-red-300",children:[a.jsx(n,{className:"w-5 h-5 text-red-400"}),b(O)]})]}),a.jsxs("div",{className:"mb-8 flex justify-center gap-4",children:[a.jsx(i,{variant:"monthly"===z?"default":"outline",onClick:()=>D("monthly"),className:"min-w-[120px]",children:"æŒ‰æœˆè®¢é˜…"}),a.jsxs(i,{variant:"yearly"===z?"default":"outline",onClick:()=>D("yearly"),className:"min-w-[120px] transition-all duration-300 "+("yearly"===z?"bg-gradient-to-r from-orange-500 to-pink-500 hover:opacity-90 text-white":"bg-gradient-to-r from-orange-100 to-pink-100 text-orange-700 border-orange-300 hover:bg-gradient-to-r hover:from-orange-200 hover:to-pink-200"),children:["æŒ‰å¹´è®¢é˜…",a.jsx(c,{variant:"secondary",className:"ml-2",children:"çœ80-202å…ƒ"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 max-w-6xl mx-auto",children:d.map(e=>{const s="monthly"===z?e.monthly:e.yearly,t=s.originalPrice,r=x(null==P?void 0:P.id),l="trial"===e.tier?0:r?s.discountPrice:t,n="trial"===e.tier?0:t-l,d=(null==A?void 0:A.id)===e.id,b=$(e);return a.jsxs(m,{className:`cursor-pointer transition-all relative group ${d?"border-4 border-blue-500 shadow-2xl scale-105":"hover:shadow-lg hover:scale-105"} ${e.recommended?"ring-2 ring-blue-200":""}`,onClick:()=>B(e),children:[e.recommended&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:a.jsxs(c,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg px-4 py-1 text-base",children:[a.jsx(o,{className:"h-4 w-4 mr-1"}),"æ¨è"]})}),r&&O>0&&"trial"!==e.tier&&a.jsx("div",{className:"absolute -top-4 -right-2 z-10",children:a.jsxs(c,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg px-3 py-1 text-sm animate-pulse",children:[a.jsx(h,{className:"h-3 w-3 mr-1"}),"é™æ—¶"]})}),"yearly"===z&&("pro"===e.tier||"premium"===e.tier)&&a.jsx("div",{className:"absolute -top-4 -left-2 z-10",children:a.jsxs(c,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg px-3 py-1 text-sm",children:[a.jsx(C,{className:"h-3 w-3 mr-1"}),"å¹´ä»˜çœÂ¥",b]})}),a.jsxs(p,{className:"text-center pb-2",children:[a.jsxs(g,{className:"text-xl flex items-center justify-center gap-2",children:["premium"===e.tier&&a.jsx(j,{className:"h-5 w-5 text-yellow-500"}),e.name]}),a.jsx("p",{className:"text-muted-foreground text-xs md:text-sm mt-1",children:e.description})]}),a.jsxs(u,{className:"space-y-3 pb-4 px-6",children:[a.jsx("div",{className:"text-center",children:"trial"===e.tier?a.jsx("div",{className:"text-3xl font-bold text-green-600",children:"å…è´¹"}):a.jsxs("div",{className:"space-y-2",children:[r&&O>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-3xl font-bold text-red-600",children:["Â¥",l]}),a.jsxs("div",{className:"text-sm text-red-500 font-semibold",children:[a.jsx(h,{className:"h-3 w-3 inline mr-1"}),"é™æ—¶ç‰¹æƒ ä»· çœÂ¥",n.toFixed(2)]}),a.jsxs("div",{className:"text-sm text-gray-400 line-through",children:["Â¥",t," åŸä»·"]})]}):a.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["Â¥",l]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["/","monthly"===z?"æœˆ":"å¹´"]}),"yearly"===z&&("pro"===e.tier||"premium"===e.tier)&&a.jsxs("div",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:["æœˆå‡Â¥",(l/12).toFixed(1),"ï¼Œæ¯”æœˆä»˜çœÂ¥",b]})]})}),a.jsx("div",{className:"space-y-1.5 mt-3",children:e.features.map((e,s)=>a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx(N,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),a.jsx("span",{children:e})]},s))}),a.jsx(i,{variant:d?"default":"outline",className:"w-full mt-3 text-base py-2.5",disabled:"trial"===e.tier,onClick:s=>{s.stopPropagation(),B(e)},children:"trial"===e.tier?"å½“å‰ç‰ˆæœ¬":d?"å·²é€‰æ‹©":"é€‰æ‹©æ­¤è®¡åˆ’"})]})]},e.id)})}),a.jsxs("div",{ref:Y,className:"space-y-4 max-w-3xl mx-auto",children:[A&&"trial"!==A.tier&&!_&&a.jsx(m,{className:"border-green-100 bg-gradient-to-br from-green-50 to-white shadow-lg",children:a.jsxs(u,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded flex items-center justify-center",children:a.jsx(k,{className:"h-3 w-3 text-white"})}),a.jsx("h3",{className:"font-semibold text-green-900",children:"æ”¯ä»˜ä¿¡æ¯"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Â¥",T()]}),a.jsx("div",{className:"text-xs text-green-600",children:"monthly"===z?"æœˆä»˜":"å¹´ä»˜"})]})]}),a.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-green-900",children:A.name}),a.jsx("span",{className:"text-xs text-green-700 ml-2",children:A.description})]})})}),x(null==P?void 0:P.id)&&O>0||"yearly"===z?a.jsxs("div",{className:"flex gap-2 mb-4",children:[x(null==P?void 0:P.id)&&O>0&&a.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[a.jsx(h,{className:"h-3 w-3 inline mr-1"}),"é™æ—¶ä¼˜æƒ ä¸­ï¼ŒèŠ‚çœ Â¥",((A?("monthly"===z?A.monthly:A.yearly).originalPrice:0)-T()).toFixed(2)]}),"yearly"===z&&a.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[a.jsx(C,{className:"h-3 w-3 inline mr-1"}),"å¹´ä»˜ä¼˜æƒ ï¼Œæ¯”æœˆä»˜çœ Â¥",$(A)]})]}):null,a.jsx(i,{onClick:()=>{A?(F(!0),f({title:"æ”¯ä»˜äºŒç»´ç å·²æ˜¾ç¤º",description:"è¯·ä½¿ç”¨æ‰‹æœºæ‰«ç å®Œæˆæ”¯ä»˜"})):f({title:"è¯·é€‰æ‹©è®¢é˜…è®¡åˆ’",description:"è¯·å…ˆé€‰æ‹©è¦è®¢é˜…çš„è®¡åˆ’",variant:"destructive"})},className:"w-full bg-green-500 hover:bg-green-600 text-base py-2",children:"ç«‹å³æ”¯ä»˜"})]})}),_&&A&&"trial"!==A.tier&&a.jsx(m,{"data-qr-code":!0,className:"border-blue-100 bg-gradient-to-br from-blue-50 to-white shadow-xl",children:a.jsxs(u,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"æ”¯"})}),a.jsx("h3",{className:"font-semibold text-blue-900",children:"æ”¯ä»˜å®æ‰«ç æ”¯ä»˜"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Â¥",T()]}),a.jsx("div",{className:"text-xs text-blue-600",children:"monthly"===z?"æœˆä»˜":"å¹´ä»˜"})]})]}),x(null==P?void 0:P.id)&&O>0||"yearly"===z?a.jsxs("div",{className:"flex gap-2 mb-4",children:[x(null==P?void 0:P.id)&&O>0&&a.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[a.jsx(h,{className:"h-3 w-3 inline mr-1"}),"é™æ—¶ä¼˜æƒ ä¸­"]}),"yearly"===z&&a.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[a.jsx(C,{className:"h-3 w-3 inline mr-1"}),"å¹´ä»˜ä¼˜æƒ "]})]}):null,a.jsx("div",{className:"flex justify-center items-center py-2",children:(()=>{const e=(t=z,"pro"===(s=A).tier&&"monthly"===t?"prod_3nJOuQeVStqkp6JaDcrKHf":"pro"===s.tier&&"yearly"===t?"prod_5qBlDTLpD3h9gvOZFd4Rgu":"premium"===s.tier&&"monthly"===t?"prod_4HYBfvrcbXYnbxjlswMj28":"premium"===s.tier&&"yearly"===t?"prod_6OfIoVnRg2pXsuYceVKOYk":"");var s,t;return e?a.jsx(I,{priceId:e,planName:A.name,price:T()}):a.jsx("div",{style:{color:"red"},children:"è¯·å…ˆé€‰æ‹©æœ‰æ•ˆçš„å¥—é¤å’Œå‘¨æœŸ"})})()}),a.jsx("div",{className:"text-center text-blue-700 text-sm mt-2",children:"è¯·ä½¿ç”¨æ”¯ä»˜å®Appæ‰«ç å®Œæˆæ”¯ä»˜"})]})})]}),a.jsxs("div",{className:"mt-6 text-center text-xs md:text-sm text-muted-foreground",children:[a.jsx("p",{className:"text-green-600 font-medium mb-2",children:"ğŸ’¡ éšæ—¶å¯å–æ¶ˆ"}),a.jsx("p",{children:"è®¢é˜…ä¼šåœ¨æœŸæ»¡åè‡ªåŠ¨ç»­è´¹ï¼Œæ‚¨å¯ä»¥éšæ—¶å–æ¶ˆ"}),a.jsxs("p",{className:"mt-2",children:["ç‚¹å‡»ç«‹å³æ”¯ä»˜å³è¡¨ç¤ºæ‚¨åŒæ„æˆ‘ä»¬çš„",a.jsx("a",{href:"/terms",className:"text-blue-500 hover:underline mx-1",children:"æœåŠ¡æ¡æ¬¾"}),"å’Œ",a.jsx("a",{href:"/privacy",className:"text-blue-500 hover:underline mx-1",children:"éšç§æ”¿ç­–"})]})]})]})]})}export{P as default};
