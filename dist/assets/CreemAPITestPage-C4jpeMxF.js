import{r as e,j as s,C as a,e as r,f as c,g as i,i as t,B as d}from"./index-BuR5xlXm.js";import{a as l}from"./creemClientService-CRnFWG6U.js";import"./browser-Il7jAgTf.js";function n(){const[n,m]=e.useState([]),[x,o]=e.useState(!1),j=[{name:"ä¸“ä¸šç‰ˆæœˆä»˜",priceId:"prod_3nJOuQeVStqkp6JaDcrKHf"},{name:"ä¸“ä¸šç‰ˆå¹´ä»˜",priceId:"prod_5qBlDTLpD3h9gvOZFd4Rgu"},{name:"é«˜çº§ç‰ˆæœˆä»˜",priceId:"prod_4HYBfvrcbXYnbxjlswMj28"},{name:"é«˜çº§ç‰ˆå¹´ä»˜",priceId:"prod_6OfIoVnRg2pXsuYceVKOYk"}],h=(e,s,a,r)=>{const c={name:e,timestamp:(new Date).toISOString(),success:s,data:a,error:r||null};m(e=>[c,...e])},p=async(e,s)=>{try{const a=await l(e);a.success?h(s,!0,a):h(s,!1,a,"APIè°ƒç”¨å¤±è´¥")}catch(a){h(s,!1,null,a.message)}};return s.jsx("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:s.jsxs(a,{children:[s.jsxs(r,{children:[s.jsxs(c,{className:"flex items-center gap-2",children:["ğŸ§ª Creem APIæµ‹è¯•é¡µé¢",s.jsx(i,{variant:"secondary",children:"Netlifyå‡½æ•°"})]}),s.jsx("p",{className:"text-muted-foreground",children:"æµ‹è¯•Creemæ”¯ä»˜APIç«¯ç‚¹æ˜¯å¦æ­£å¸¸å·¥ä½œ"})]}),s.jsxs(t,{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(d,{onClick:async()=>{o(!0),m([]);for(const e of j)await p(e.priceId,e.name),await new Promise(e=>setTimeout(e,1e3));o(!1)},disabled:x,className:"flex-1",children:x?"æµ‹è¯•ä¸­...":"è¿è¡Œæ‰€æœ‰æµ‹è¯•"}),s.jsx(d,{onClick:()=>{m([])},variant:"outline",children:"æ¸…é™¤ç»“æœ"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"æµ‹è¯•é…ç½®"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(e=>s.jsx(a,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.priceId})]}),s.jsx(d,{size:"sm",onClick:()=>p(e.priceId,e.name),disabled:x,children:"æµ‹è¯•"})]})},e.priceId))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"æµ‹è¯•ç»“æœ"}),0===n.length?s.jsx("p",{className:"text-muted-foreground",children:"æš‚æ— æµ‹è¯•ç»“æœ"}):s.jsx("div",{className:"space-y-3",children:n.map((e,r)=>s.jsx(a,{className:"p-4 "+(e.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx(i,{variant:e.success?"default":"destructive",children:e.success?"æˆåŠŸ":"å¤±è´¥"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]}),e.error&&s.jsx("p",{className:"text-red-600 text-sm",children:e.error}),e.success&&e.data&&s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-green-600",children:"APIè°ƒç”¨æˆåŠŸ"}),s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"æŸ¥çœ‹å“åº”æ•°æ®"}),s.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(e.data,null,2)})]})]})]})})},r))})]})]})]})})}export{n as default};
