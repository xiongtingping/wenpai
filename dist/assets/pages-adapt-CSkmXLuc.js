import{j as e,P as s,C as t,a,b as r,c as i,d as l,e as n,I as o,f as c,g as d,h as m,i as x,V as h,L as u,k as p,l as f,m as g,n as j,o as b,p as N,q as w,s as v,t as y,u as I,v as k,w as S,x as C,y as z,z as A,A as O,B as T,D as P,E,F as $,G as U,H as D,J as B,O as F}from"./ui-core-BoM6Gtru.js";import{r as J,u as R}from"./router-CDHmMMQ-.js";import{P as M}from"./components-layout-B8FsrdzO.js";import{c as _,u as H,B as L,C as V,a as G,b as K,d as q,e as W,f as X}from"./pages-home-B-YLcn0z.js";import{b as Z,k as Q,l as Y,j as ee,X as se,f as te,m as ae,n as re,K as ie,o as le,E as ne,p as oe,C as ce,q as de,i as me,A as xe,r as he,g as ue,B as pe,M as fe,V as ge,S as je,T as be,d as Ne,G as we,Z as ve,R as ye,e as Ie,s as ke,u as Se,H as Ce,v as ze,w as Ae,x as Oe,y as Te}from"./utils-Ck01-_Du.js";import{g as Pe,p as Ee,a as $e,r as Ue,s as De}from"./api-services-DPZFfcoz.js";const Be=a,Fe=r,Je=i,Re=J.forwardRef(({className:a,sideOffset:r=4,...i},l)=>e.jsx(s,{children:e.jsx(t,{ref:l,sideOffset:r,className:_("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",a),...i})}));Re.displayName=t.displayName;const Me=Z("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",premium:"border-transparent bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg",success:"border-transparent bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md",warning:"border-transparent bg-gradient-to-r from-yellow-500 to-orange-600 text-white shadow-md",info:"border-transparent bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-md",neon:"border-2 border-blue-500 text-blue-500 bg-transparent shadow-glow",neonPurple:"border-2 border-purple-500 text-purple-500 bg-transparent shadow-glow-purple",neonGreen:"border-2 border-green-500 text-green-500 bg-transparent shadow-glow-green",soft:"border border-gray-200 bg-white/80 backdrop-blur-sm text-gray-700 shadow-sm",glass:"border border-white/20 bg-white/10 backdrop-blur-md text-white shadow-sm",glassBlue:"border border-blue-500/20 bg-blue-500/5 backdrop-blur-sm text-blue-700 shadow-sm",glassPurple:"border border-purple-500/20 bg-purple-500/5 backdrop-blur-sm text-purple-700 shadow-sm",glassGreen:"border border-green-500/20 bg-green-500/5 backdrop-blur-sm text-green-700 shadow-sm",dark:"border border-gray-700 bg-gray-900 text-white shadow-md",light:"border border-gray-200 bg-gray-100 text-gray-900 shadow-sm"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-xs",lg:"px-3 py-1 text-sm",xl:"px-4 py-1.5 text-base"},animation:{none:"",pulse:"animate-pulse",bounce:"animate-bounce",glow:"animate-glow",wave:"animate-wave",float:"animate-float"}},defaultVariants:{variant:"default",size:"default",animation:"none"}});function _e({className:s,variant:t,size:a,animation:r,...i}){return e.jsx("div",{className:_(Me({variant:t,size:a,animation:r}),s),...i})}const He=J.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:_("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t}));He.displayName="Textarea";const Le=Z("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=J.forwardRef(({className:s,...t},a)=>e.jsx(l,{ref:a,className:_(Le(),s),...t}));Ve.displayName=l.displayName;const Ge=b,Ke=N,qe=J.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(n,{ref:r,className:_("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(o,{asChild:!0,children:e.jsx(Q,{className:"h-4 w-4 opacity-50"})})]}));qe.displayName=n.displayName;const We=J.forwardRef(({className:s,...t},a)=>e.jsx(c,{ref:a,className:_("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Y,{className:"h-4 w-4"})}));We.displayName=c.displayName;const Xe=J.forwardRef(({className:s,...t},a)=>e.jsx(d,{ref:a,className:_("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Q,{className:"h-4 w-4"})}));Xe.displayName=d.displayName;const Ze=J.forwardRef(({className:s,children:t,position:a="popper",...r},i)=>e.jsx(m,{children:e.jsxs(x,{ref:i,className:_("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(We,{}),e.jsx(h,{className:_("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Xe,{})]})}));Ze.displayName=x.displayName,J.forwardRef(({className:s,...t},a)=>e.jsx(u,{ref:a,className:_("px-2 py-1.5 text-sm font-semibold",s),...t})).displayName=u.displayName;const Qe=J.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(p,{ref:r,className:_("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(f,{children:e.jsx(ee,{className:"h-4 w-4"})})}),e.jsx(g,{children:t})]}));Qe.displayName=p.displayName,J.forwardRef(({className:s,...t},a)=>e.jsx(j,{ref:a,className:_("-mx-1 my-1 h-px bg-muted",s),...t})).displayName=j.displayName;const Ye=I,es=J.forwardRef(({className:s,...t},a)=>e.jsx(w,{ref:a,className:_("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...t}));es.displayName=w.displayName;const ss=J.forwardRef(({className:s,...t},a)=>e.jsx(v,{ref:a,className:_("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...t}));ss.displayName=v.displayName;const ts=J.forwardRef(({className:s,...t},a)=>e.jsx(y,{ref:a,className:_("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));ts.displayName=y.displayName;const as=J.forwardRef(({className:s,...t},a)=>e.jsxs(k,{ref:a,className:_("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(S,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(C,{className:"absolute h-full bg-primary"})}),e.jsx(z,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));as.displayName=k.displayName;const rs=J.forwardRef(({className:s,...t},a)=>e.jsx(A,{ref:a,className:_("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(O,{className:_("flex items-center justify-center text-current"),children:e.jsx(ee,{className:"h-4 w-4"})})}));rs.displayName=A.displayName;const is={"gpt-4o":{id:"gpt-4o",name:"OpenAI GPT-4o",provider:"OpenAI",description:"æœ€æ–°æœ€å¼ºå¤§çš„AIæ¨¡å‹ï¼Œæ€§èƒ½å“è¶Šï¼Œåˆ›æ„ä¸°å¯Œï¼Œæ”¯æŒå¤šæ¨¡æ€è¾“å…¥è¾“å‡º",features:["è¶…å¼ºç†è§£èƒ½åŠ›","åˆ›æ„å†…å®¹ç”Ÿæˆ","å¤šæ¨¡æ€æ”¯æŒ","ä¸Šä¸‹æ–‡è®°å¿†ä¼˜ç§€","ä»£ç ç”Ÿæˆèƒ½åŠ›å¼º"],maxTokens:128e3,pricing:{input:.0025,output:.01}},"gpt-4o-mini":{id:"gpt-4o-mini",name:"OpenAI GPT-4o mini",provider:"OpenAI",description:"GPT-4oçš„è½»é‡ç‰ˆæœ¬ï¼Œæ€§ä»·æ¯”æé«˜ï¼Œé€‚åˆæ—¥å¸¸ä½¿ç”¨",features:["æ€§ä»·æ¯”æé«˜","å“åº”é€Ÿåº¦å¿«","ç†è§£èƒ½åŠ›ä¼˜ç§€","é€‚åˆæ—¥å¸¸å¯¹è¯","æˆæœ¬æ§åˆ¶å‹å¥½"],maxTokens:128e3,pricing:{input:15e-5,output:6e-4}},"deepseek-v3":{id:"deepseek-v3",name:"DeepSeek V3",provider:"DeepSeek",description:"ä¸­æ–‡ä¼˜åŒ–æ¨¡å‹ï¼Œç†è§£åŠ›å¼ºï¼Œé€‚åˆæœ¬åœ°åŒ–å†…å®¹å’Œä¸­æ–‡åˆ›ä½œ",features:["ä¸­æ–‡ç†è§£ä¼˜ç§€","æœ¬åœ°åŒ–å†…å®¹åˆ›ä½œ","æ–‡åŒ–è¯­å¢ƒç†è§£","ä¸­æ–‡è¡¨è¾¾è‡ªç„¶","é€‚åˆä¸­æ–‡ç”¨æˆ·"],maxTokens:128e3,pricing:{input:14e-5,output:56e-5}}},ls={trial:["gpt-4o-mini","deepseek-v3"],pro:["gpt-4o","gpt-4o-mini","deepseek-v3"],premium:["gpt-4o","gpt-4o-mini","deepseek-v3"]};function ns(e){return is[e]}const os=T,cs=P,ds=E,ms=J.forwardRef(({className:s,...t},a)=>e.jsx(F,{ref:a,className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));ms.displayName=F.displayName;const xs=J.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(ds,{children:[e.jsx(ms,{}),e.jsxs($,{ref:r,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(U,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xs.displayName=$.displayName;const hs=({className:s,...t})=>e.jsx("div",{className:_("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});hs.displayName="DialogHeader";const us=({className:s,...t})=>e.jsx("div",{className:_("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});us.displayName="DialogFooter";const ps=J.forwardRef(({className:s,...t},a)=>e.jsx(D,{ref:a,className:_("text-lg font-semibold leading-none tracking-tight",s),...t}));ps.displayName=D.displayName;const fs=J.forwardRef(({className:s,...t},a)=>e.jsx(B,{ref:a,className:_("text-sm text-muted-foreground",s),...t}));fs.displayName=B.displayName;const gs=J.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:_("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a}));gs.displayName="Input";const js={weibo:{platformId:"weibo",platformName:"å¾®åš",authUrl:"https://open.weibo.com/oauth2/authorize",apiBaseUrl:"https://api.weibo.com/2",isAuthorized:!1},zhihu:{platformId:"zhihu",platformName:"çŸ¥ä¹",authUrl:"https://www.zhihu.com/oauth/authorize",apiBaseUrl:"https://api.zhihu.com",isAuthorized:!1},xiaohongshu:{platformId:"xiaohongshu",platformName:"å°çº¢ä¹¦",authUrl:"https://oauth.xiaohongshu.com/oauth/authorize",apiBaseUrl:"https://api.xiaohongshu.com",isAuthorized:!1},bilibili:{platformId:"bilibili",platformName:"Bç«™",authUrl:"https://passport.bilibili.com/login",apiBaseUrl:"https://api.bilibili.com",isAuthorized:!1},douyin:{platformId:"douyin",platformName:"æŠ–éŸ³",authUrl:"https://open.douyin.com/oauth/authorize",apiBaseUrl:"https://open.douyin.com",isAuthorized:!1},twitter:{platformId:"twitter",platformName:"Twitter",authUrl:"https://twitter.com/i/oauth2/authorize",apiBaseUrl:"https://api.twitter.com/2",isAuthorized:!1},linkedin:{platformId:"linkedin",platformName:"LinkedIn",authUrl:"https://www.linkedin.com/oauth/v2/authorization",apiBaseUrl:"https://api.linkedin.com/v2",isAuthorized:!1}};function bs(){return Object.values(js)}function Ns(e){const s=`platform_api_config_${e}`,t=localStorage.getItem(s);if(!t)return null;try{const s=JSON.parse(t);return{...js[e],...s}}catch{return null}}async function ws(e,s){const t=Ns(e);if(!t)return{success:!1,error:"å¹³å°é…ç½®ä¸å­˜åœ¨"};switch(e){case"weibo":return await async function(e,s){var t;try{if(!s.accessToken)return{success:!1,error:"æœªæˆæƒï¼Œè¯·å…ˆå®Œæˆå¾®åšæˆæƒ"};const a=await fetch(`${s.apiBaseUrl}/statuses/update.json`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${s.accessToken}`},body:new URLSearchParams({status:e.text,source:"wenpai-app"})}),r=await a.json();return r.id?{success:!0,publishId:r.id,publishUrl:`https://weibo.com/${null==(t=r.user)?void 0:t.id}/${r.id}`,response:r}:{success:!1,error:r.error||"å‘å¸ƒå¤±è´¥"}}catch(a){return{success:!1,error:a instanceof Error?a.message:"ç½‘ç»œé”™è¯¯"}}}(s,t);case"zhihu":return await async function(e,s){try{if(!s.accessToken)return{success:!1,error:"æœªæˆæƒï¼Œè¯·å…ˆå®ŒæˆçŸ¥ä¹æˆæƒ"};const t=await fetch(`${s.apiBaseUrl}/drafts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.accessToken}`},body:JSON.stringify({title:e.title||"æ–°æ–‡ç« ",content:e.text,topics:e.hashtags||[]})}),a=await t.json();if(a.id){const e=await fetch(`${s.apiBaseUrl}/drafts/${a.id}/publish`,{method:"POST",headers:{Authorization:`Bearer ${s.accessToken}`}}),t=await e.json();if(t.url)return{success:!0,publishId:a.id,publishUrl:t.url,response:t}}return{success:!1,error:"å‘å¸ƒå¤±è´¥"}}catch(t){return{success:!1,error:t instanceof Error?t.message:"ç½‘ç»œé”™è¯¯"}}}(s,t);case"twitter":return await async function(e,s){var t,a,r;try{if(!s.accessToken)return{success:!1,error:"æœªæˆæƒï¼Œè¯·å…ˆå®ŒæˆTwitteræˆæƒ"};const i=await fetch(`${s.apiBaseUrl}/tweets`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.accessToken}`},body:JSON.stringify({text:e.text})}),l=await i.json();return(null==(t=l.data)?void 0:t.id)?{success:!0,publishId:l.data.id,publishUrl:`https://twitter.com/user/status/${l.data.id}`,response:l}:{success:!1,error:(null==(r=null==(a=l.errors)?void 0:a[0])?void 0:r.message)||"å‘å¸ƒå¤±è´¥"}}catch(i){return{success:!1,error:i instanceof Error?i.message:"ç½‘ç»œé”™è¯¯"}}}(s,t);default:return{success:!1,error:"æš‚ä¸æ”¯æŒè¯¥å¹³å°çš„APIç›´å‘"}}}function vs(e){const s=Ns(e);return(null==s?void 0:s.isAuthorized)||!1}function ys({open:s,onOpenChange:t}){const{toast:a}=H(),[r,i]=J.useState([]),[l,n]=J.useState(null),[o,c]=J.useState(!1),[d,m]=J.useState(""),[x,h]=J.useState(""),[u,p]=J.useState("");J.useEffect(()=>{if(s){const e=bs().map(e=>Ns(e.platformId)||e);i(e)}},[s]);const f=s=>s.isAuthorized?e.jsx(ce,{className:"w-4 h-4 text-green-500"}):s.accessToken?e.jsx(de,{className:"w-4 h-4 text-yellow-500"}):e.jsx(oe,{className:"w-4 h-4 text-gray-400"}),g=e=>e.isAuthorized?"å·²æˆæƒ":e.accessToken?"å¾…éªŒè¯":"æœªé…ç½®",j=e=>e.isAuthorized?"bg-green-100 text-green-800 border-green-200":e.accessToken?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-gray-100 text-gray-600 border-gray-200";return e.jsx(os,{open:s,onOpenChange:t,children:e.jsxs(xs,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[e.jsx(hs,{children:e.jsxs(ps,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"å¹³å°APIé…ç½®ç®¡ç†"]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs(Ye,{defaultValue:"platforms",className:"h-full",children:[e.jsxs(es,{className:"grid w-full grid-cols-2",children:[e.jsx(ss,{value:"platforms",children:"å¹³å°é…ç½®"}),e.jsx(ss,{value:"help",children:"ä½¿ç”¨è¯´æ˜"})]}),e.jsx(ts,{value:"platforms",className:"h-full overflow-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"é…ç½®å¹³å°APIå¯†é’¥å’Œè®¿é—®ä»¤ç‰Œï¼Œæ”¯æŒå†…å®¹ç›´å‘åŠŸèƒ½"})]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{const e=bs().map(e=>Ns(e.platformId)||e);i(e),a({title:"çŠ¶æ€å·²åˆ·æ–°",description:"å¹³å°é…ç½®çŠ¶æ€å·²æ›´æ–°"})},children:[e.jsx(re,{className:"w-4 h-4 mr-1"}),"åˆ·æ–°çŠ¶æ€"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(s=>e.jsxs(V,{className:"relative",children:[e.jsxs(G,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{className:"text-lg",children:s.platformName}),e.jsxs("div",{className:"flex items-center gap-2",children:[f(s),e.jsx(_e,{variant:"outline",className:j(s),children:g(s)})]})]}),e.jsxs(q,{children:["å¹³å°ID: ",s.platformId]})]}),e.jsxs(W,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ie,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["APIå¯†é’¥: ",s.apiKey?"å·²é…ç½®":"æœªé…ç½®"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["è®¿é—®ä»¤ç‰Œ: ",s.accessToken?"å·²é…ç½®":"æœªé…ç½®"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(L,{size:"sm",variant:"outline",onClick:()=>(e=>{n(e),m(e.apiKey||""),h(e.accessToken||""),p(e.userId||""),c(!0)})(s),children:[e.jsx(te,{className:"w-4 h-4 mr-1"}),"é…ç½®"]}),s.authUrl&&e.jsxs(L,{size:"sm",variant:"outline",onClick:()=>(e=>{const s=function(e){const s=function(e){return js[e]||null}(e);return(null==s?void 0:s.authUrl)||null}(e.platformId);s?(window.open(s,"_blank","noopener,noreferrer"),a({title:"æˆæƒé¡µé¢å·²æ‰“å¼€",description:"è¯·åœ¨æˆæƒé¡µé¢å®Œæˆæˆæƒï¼Œç„¶åè¿”å›é…ç½®è®¿é—®ä»¤ç‰Œ"})):a({title:"æˆæƒå¤±è´¥",description:"è¯¥å¹³å°æš‚ä¸æ”¯æŒæˆæƒ",variant:"destructive"})})(s),children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),"æˆæƒ"]}),(s.apiKey||s.accessToken)&&e.jsxs(L,{size:"sm",variant:"outline",onClick:()=>{return function(e){const s=`platform_api_config_${e}`;localStorage.removeItem(s)}(e=s.platformId),i(s=>s.map(s=>s.platformId===e?{...s,apiKey:void 0,accessToken:void 0,userId:void 0,isAuthorized:!1}:s)),void a({title:"é…ç½®å·²æ¸…é™¤",description:"å¹³å°APIé…ç½®å·²æ¸…é™¤"});var e},children:[e.jsx(oe,{className:"w-4 h-4 mr-1"}),"æ¸…é™¤"]})]})]})]},s.platformId))})]})}),e.jsx(ts,{value:"help",className:"h-full overflow-auto",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(V,{children:[e.jsx(G,{children:e.jsx(K,{children:"APIç›´å‘åŠŸèƒ½è¯´æ˜"})}),e.jsxs(W,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"ä»€ä¹ˆæ˜¯APIç›´å‘ï¼Ÿ"}),e.jsx("p",{className:"text-sm text-gray-600",children:"APIç›´å‘åŠŸèƒ½å…è®¸æ‚¨é€šè¿‡å¹³å°çš„å®˜æ–¹APIç›´æ¥å‘å¸ƒå†…å®¹ï¼Œæ— éœ€æ‰‹åŠ¨å¤åˆ¶ç²˜è´´ã€‚ é…ç½®å®Œæˆåï¼Œå¯ä»¥ä¸€é”®å°†AIç”Ÿæˆçš„å†…å®¹ç›´æ¥å‘å¸ƒåˆ°å„å¹³å°ã€‚"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"æ”¯æŒçš„å¹³å°"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ å¾®åš - æ”¯æŒæ–‡æœ¬å‘å¸ƒ"}),e.jsx("li",{children:"â€¢ çŸ¥ä¹ - æ”¯æŒæ–‡ç« å‘å¸ƒ"}),e.jsx("li",{children:"â€¢ Twitter - æ”¯æŒæ¨æ–‡å‘å¸ƒ"}),e.jsx("li",{children:"â€¢ æ›´å¤šå¹³å°å¼€å‘ä¸­..."})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"é…ç½®æ­¥éª¤"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:'1. ç‚¹å‡»"æˆæƒ"æŒ‰é’®ï¼Œåœ¨å¹³å°å®˜ç½‘å®Œæˆæˆæƒ'}),e.jsx("li",{children:"2. è·å–APIå¯†é’¥å’Œè®¿é—®ä»¤ç‰Œ"}),e.jsx("li",{children:"3. åœ¨é…ç½®é¡µé¢å¡«å…¥ç›¸å…³ä¿¡æ¯"}),e.jsx("li",{children:"4. ä¿å­˜é…ç½®ï¼Œå³å¯ä½¿ç”¨APIç›´å‘åŠŸèƒ½"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"å®‰å…¨è¯´æ˜"}),e.jsx("p",{className:"text-sm text-gray-600",children:"æ‰€æœ‰APIå¯†é’¥å’Œè®¿é—®ä»¤ç‰Œä»…å­˜å‚¨åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ è¯·å¦¥å–„ä¿ç®¡æ‚¨çš„å¯†é’¥ä¿¡æ¯ï¼Œä¸è¦æ³„éœ²ç»™ä»–äººã€‚"})]})]})]})})})]})}),e.jsx(os,{open:o,onOpenChange:c,children:e.jsxs(xs,{children:[e.jsx(hs,{children:e.jsxs(ps,{children:["é…ç½® ",null==l?void 0:l.platformName," API"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ve,{htmlFor:"apiKey",children:"APIå¯†é’¥"}),e.jsx(gs,{id:"apiKey",type:"password",placeholder:"è¯·è¾“å…¥APIå¯†é’¥",value:d,onChange:e=>m(e.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ve,{htmlFor:"accessToken",children:"è®¿é—®ä»¤ç‰Œ"}),e.jsx(gs,{id:"accessToken",type:"password",placeholder:"è¯·è¾“å…¥è®¿é—®ä»¤ç‰Œ",value:x,onChange:e=>h(e.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ve,{htmlFor:"userId",children:"ç”¨æˆ·ID"}),e.jsx(gs,{id:"userId",placeholder:"è¯·è¾“å…¥ç”¨æˆ·IDï¼ˆå¯é€‰ï¼‰",value:u,onChange:e=>p(e.target.value)})]})]}),e.jsxs(us,{children:[e.jsx(L,{variant:"outline",onClick:()=>c(!1),children:"å–æ¶ˆ"}),e.jsx(L,{onClick:()=>{if(!l)return;const e={apiKey:d.trim()||void 0,accessToken:x.trim()||void 0,userId:u.trim()||void 0,isAuthorized:!!x.trim()};!function(e,s){const t=`platform_api_config_${e}`;localStorage.setItem(t,JSON.stringify(s))}(l.platformId,e),i(s=>s.map(s=>s.platformId===l.platformId?{...s,...e}:s)),c(!1),n(null),a({title:"é…ç½®å·²ä¿å­˜",description:`${l.platformName}çš„APIé…ç½®å·²æ›´æ–°`})},children:"ä¿å­˜é…ç½®"})]})]})})]})})}function Is({isOpen:s,onClose:t,onUpgrade:a,remainingCount:r,userType:i}){const l="trial"===i?{title:"ä½¿ç”¨æ¬¡æ•°å³å°†ç”¨å®Œ",description:`ä»…å‰© ${r} æ¬¡è°ƒç”¨æœºä¼šï¼Œç«‹å³å‡çº§äº«å—æ›´å¤šåŠŸèƒ½ï¼`,upgradeText:"ç«‹å³å‡çº§",upgradeDescription:"å‡çº§åäº«å—æ›´å¤šä½¿ç”¨æ¬¡æ•°å’Œé«˜çº§åŠŸèƒ½"}:"pro"===i?{title:"ä½¿ç”¨æ¬¡æ•°å³å°†ç”¨å®Œ",description:`ä»…å‰© ${r} æ¬¡è°ƒç”¨æœºä¼šï¼Œå‡çº§åä¸é™æ¬¡ï¼`,upgradeText:"å‡çº§é«˜çº§ç‰ˆ",upgradeDescription:"å‡çº§åˆ°é«˜çº§ç‰ˆäº«å—ä¸é™é‡ä½¿ç”¨"}:{title:"ä½¿ç”¨æ¬¡æ•°å³å°†ç”¨å®Œ",description:`ä»…å‰© ${r} æ¬¡è°ƒç”¨æœºä¼š`,upgradeText:"ç«‹å³å‡çº§",upgradeDescription:"å‡çº§åäº«å—æ›´å¤šä½¿ç”¨æ¬¡æ•°"};return e.jsx(os,{open:s,onOpenChange:t,children:e.jsxs(xs,{className:"sm:max-w-md",children:[e.jsx(hs,{children:e.jsxs(ps,{className:"flex items-center gap-2 text-amber-600",children:[e.jsx(de,{className:"h-5 w-5"}),l.title]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600 mb-2",children:["ä»…å‰© ",r," æ¬¡"]}),e.jsx("p",{className:"text-gray-600",children:l.description})]}),"trial"===i&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"å‡çº§ä¸“ä¸šç‰ˆç‰¹æƒ"]}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"â€¢ 30æ¬¡/æœˆAIå†…å®¹é€‚é…"}),e.jsx("li",{children:"â€¢ åˆ›æ„é­”æ–¹åŠŸèƒ½"}),e.jsx("li",{children:"â€¢ é«˜çº§AIæ¨¡å‹"}),e.jsx("li",{children:"â€¢ ä½™é¢ç»§æ‰¿æœºåˆ¶"})]})]}),"pro"===i&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-4 rounded-lg border border-amber-200",children:[e.jsxs("h4",{className:"font-semibold text-amber-800 mb-2 flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"å‡çº§é«˜çº§ç‰ˆç‰¹æƒ"]}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:"â€¢ ä¸é™é‡AIå†…å®¹é€‚é…"}),e.jsx("li",{children:"â€¢ å…¨ç½‘é›·è¾¾åŠŸèƒ½"}),e.jsx("li",{children:"â€¢ å“ç‰Œåº“åŠŸèƒ½"}),e.jsx("li",{children:"â€¢ æœ€æ–°AIæ¨¡å‹"})]})]})]}),e.jsxs(us,{className:"flex gap-2",children:[e.jsx(L,{variant:"outline",onClick:t,children:"ç¨åå†è¯´"}),e.jsxs(L,{onClick:a,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[l.upgradeText,e.jsx(xe,{className:"h-4 w-4 ml-2"})]})]})]})})}function ks({isOpen:s,onClose:t,onUpgrade:a,featureName:r,featureDescription:i}){return e.jsx(os,{open:s,onOpenChange:t,children:e.jsxs(xs,{className:"sm:max-w-md",children:[e.jsx(hs,{children:e.jsxs(ps,{className:"flex items-center gap-2 text-purple-600",children:[e.jsx(he,{className:"h-5 w-5"}),"é«˜çº§åŠŸèƒ½æƒé™"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2",children:r}),e.jsx("p",{className:"text-gray-600",children:i})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg border border-purple-200",children:[e.jsxs("h4",{className:"font-semibold text-purple-800 mb-2 flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"å‡çº§é«˜çº§ç‰ˆè§£é”ç‰¹æƒ"]}),e.jsxs("ul",{className:"text-sm text-purple-700 space-y-1",children:[e.jsx("li",{children:"â€¢ ä¸é™é‡AIå†…å®¹é€‚é…"}),e.jsx("li",{children:"â€¢ åˆ›æ„é­”æ–¹åŠŸèƒ½"}),e.jsx("li",{children:"â€¢ å…¨ç½‘é›·è¾¾åŠŸèƒ½"}),e.jsx("li",{children:"â€¢ å“ç‰Œåº“åŠŸèƒ½"}),e.jsx("li",{children:"â€¢ æœ€æ–°AIæ¨¡å‹"}),e.jsx("li",{children:"â€¢ ä½™é¢ç»§æ‰¿æœºåˆ¶"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-3 rounded-lg border border-amber-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"é™æ—¶ä¼˜æƒ ï¼šå¹´ä»˜çœ300å…ƒ"})]})})]}),e.jsxs(us,{className:"flex gap-2",children:[e.jsx(L,{variant:"outline",onClick:t,children:"ç¨åå†è¯´"}),e.jsxs(L,{onClick:a,className:"bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700",children:["ç«‹å³å‡çº§è§£é”",e.jsx(xe,{className:"h-4 w-4 ml-2"})]})]})]})})}const Ss={weibo:"https://weibo.com/newpost",xiaohongshu:"https://creator.xiaohongshu.com/publish",zhihu:"https://zhuanlan.zhihu.com/write",bilibili:"https://member.bilibili.com/platform/upload/text",douyin:"https://creator.douyin.com/creator-micro/content/upload",toutiao:"https://mp.toutiao.com/profile_v4/graphic/publish",baijiahao:"https://baijiahao.baidu.com/builder/rc/edit",kuaishou:"https://cp.kuaishou.com/article/publish",wechat:"https://mp.weixin.qq.com/",facebook:"https://www.facebook.com/",twitter:"https://twitter.com/compose/tweet",linkedin:"https://www.linkedin.com/feed/",v2ex:"https://www.v2ex.com/new",github:"https://github.com/new",sspai:"https://sspai.com/write",juejin:"https://juejin.cn/editor/drafts/new",csdn:"https://mp.csdn.net/mp_blog/creation/editor",hellogithub:"https://hellogithub.com/",ithome:"https://my.ithome.com/#/write",ngabbs:"https://bbs.nga.cn/thread.php?fid=-7",weatheralarm:"https://www.nmc.cn/",earthquake:"https://www.ceic.ac.cn/",history:"https://baike.baidu.com/item/%E5%8E%86%E5%8F%B2%E4%B8%8A%E7%9A%84%E4%BB%8A%E5%A4%A9/42704"};function Cs(s){const t=Ee[s],a=(null==t?void 0:t.name)||s;switch(s){case"zhihu":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 text-blue-500 mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});case"weibo":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"h-4 w-4 text-orange-500 mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});case"xiaohongshu":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 text-rose-500 mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});case"wechat":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});case"douyin":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 text-black mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});case"video":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-4 w-4 text-green-600 mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});case"twitter":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"h-4 w-4 text-black mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});case"bilibili":return e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 text-blue-400 mr-1"}),e.jsx("span",{className:"text-xs",children:a})]});default:return e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-xs",children:a})]})}}function zs(e){switch(e){case"zhihu":return 200;case"douyin":case"video":default:return 50;case"xiaohongshu":case"bilibili":return 100;case"wechat":return 300;case"weibo":return 20;case"twitter":return 10}}function As(e){switch(e){case"zhihu":return 1e4;case"douyin":case"xiaohongshu":case"video":return 1e3;case"wechat":return 2e4;case"weibo":default:return 2e3;case"twitter":return 280;case"bilibili":return 5e3}}function Os({icon:s,title:t,description:a,checked:r,onChange:i}){return e.jsxs(V,{className:_("relative border cursor-pointer transition-all duration-200 h-36 flex flex-col",r?"border-primary bg-primary/5 shadow-md ring-1 ring-primary/20":"bg-background hover:shadow-sm hover:border-gray-300"),onClick:()=>i(!r),children:[e.jsx(G,{className:"pb-1 pt-4 flex-shrink-0",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0",children:s}),e.jsx(K,{className:"text-sm font-semibold truncate leading-tight",children:t})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(rs,{checked:r,onCheckedChange:i,className:"data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground"})})]})}),e.jsx(W,{className:"pt-0 pb-4 flex-grow flex items-start",children:e.jsx(q,{className:"text-xs leading-relaxed overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",maxHeight:"4.8rem"},children:a})})]})}const Ts=Object.freeze(Object.defineProperty({__proto__:null,default:function(){var s,t,a;const{toast:r}=H(),i=R(),[l,n]=J.useState(""),[o,c]=J.useState([]),[d,m]=J.useState([]),[x,h]=J.useState(!1),[u,p]=J.useState(!1),[f,g]=J.useState({}),[j,b]=J.useState({}),[N,w]=J.useState(!1),[v,y]=J.useState(null),[I,k]=J.useState({}),[S,C]=J.useState(new Set),[z,A]=J.useState({charCountPreset:"auto",globalEmoji:!1,globalMd:!1}),[O,T]=J.useState("openai"),[P,E]=J.useState(Pe()),[$,U]=J.useState("trial"),D=(ls[$]||[]).map(e=>is[e]).filter(Boolean),B=Object.values(is),{usageRemaining:F,decrementUsage:_}=X(),[Z,ee]=J.useState(!1),[se,ae]=J.useState(0),[ie,le]=J.useState(!1),[oe,ce]=J.useState({name:"",description:""}),de=J.useMemo(()=>[{id:"xiaohongshu",name:"å°çº¢ä¹¦",description:"é€‚åˆç”Ÿæ´»æ–¹å¼ã€ç¾å¦†ã€æ—…è¡Œç­‰åˆ†äº«ï¼Œå¼ºè°ƒä¸ªäººä½“éªŒå’Œæƒ…æ„Ÿå…±é¸£",icon:e.jsx(pe,{className:"h-4 w-4 text-rose-500"})},{id:"zhihu",name:"çŸ¥ä¹",description:"é€‚åˆä¸“ä¸šçŸ¥è¯†åˆ†äº«å’Œç†æ€§è®¨è®ºï¼Œå¼ºè°ƒé€»è¾‘å’Œè®ºè¯",icon:e.jsx(fe,{className:"h-4 w-4 text-blue-500"})},{id:"douyin",name:"æŠ–éŸ³è„šæœ¬",description:"é€‚åˆçŸ­è§†é¢‘è„šæœ¬ï¼Œæ´»æ³¼æœ‰è¶£ï¼Œå¼ºè°ƒè§†å¬æ•ˆæœ",icon:e.jsx(ge,{className:"h-4 w-4 text-black"})},{id:"weibo",name:"æ–°æµªå¾®åš",description:"ç®€çŸ­æœ‰åŠ›çš„è§‚ç‚¹è¡¨è¾¾ï¼Œé€‚åˆçƒ­ç‚¹è¯é¢˜è®¨è®º",icon:e.jsx(je,{className:"h-4 w-4 text-orange-500"})},{id:"wechat",name:"å…¬ä¼—å·",description:"æ·±åº¦å†…å®¹ï¼Œé€‚åˆæ•™ç¨‹ã€è§‚ç‚¹å’Œä¸“ä¸šåˆ†æ",icon:e.jsx(fe,{className:"h-4 w-4 text-green-500"})},{id:"bilibili",name:"Bç«™",description:"é€‚åˆè§†é¢‘è„šæœ¬ï¼Œå…¼å…·ä¸“ä¸šæ€§å’Œè¶£å‘³æ€§",icon:e.jsx(ge,{className:"h-4 w-4 text-blue-400"})},{id:"twitter",name:"Xï¼ˆæ¨ç‰¹ï¼‰",description:"ç®€çŸ­ã€ç›´æ¥çš„è¡¨è¾¾ï¼Œæ”¯æŒå¤šç§è¯­è¨€å’Œå›½é™…åŒ–è§†è§’",icon:e.jsx(be,{className:"h-4 w-4 text-black"})},{id:"video",name:"è§†é¢‘å·",description:"è§†é¢‘å†…å®¹ä¸äº’åŠ¨å¼•å¯¼å¹¶é‡ï¼Œäº²å’ŒåŠ›å¼º",icon:e.jsx(Ne,{className:"h-4 w-4 text-green-600"})},{id:"baijia",name:"ç™¾å®¶å·",description:"é•¿ç¯‡æ·±åº¦å†…å®¹ï¼ŒSEOå‹å¥½ï¼Œæƒå¨æ„Ÿå¼ºï¼Œé€‚åˆèµ„è®¯ç±»å†…å®¹",icon:e.jsx(we,{className:"h-4 w-4 text-blue-700"})},{id:"kuaishou",name:"å¿«æ‰‹",description:"æ¥åœ°æ°”è¡¨è¾¾ï¼ŒçœŸå®æœ´å®ï¼Œäº²æ°‘é£æ ¼ï¼Œé€‚åˆç”Ÿæ´»è®°å½•",icon:e.jsx(ve,{className:"h-4 w-4 text-yellow-600"})},{id:"wangyi",name:"ç½‘æ˜“å°èœœèœ‚",description:"æ³¨é‡åŸåˆ›æ€§ï¼Œæ–‡ç¬”æµç•…ï¼Œè§‚ç‚¹ç‹¬ç‰¹ï¼Œé€‚åˆæ·±åº¦è¯„è®º",icon:e.jsx(ye,{className:"h-4 w-4 text-red-500"})},{id:"toutiao",name:"å¤´æ¡å·",description:"æ ‡é¢˜å…šå‹å¥½ï¼Œçƒ­ç‚¹æ•æ„Ÿï¼Œç®—æ³•æ¨èï¼Œé€‚åˆæ—¶äº‹è¯„è®º",icon:e.jsx(we,{className:"h-4 w-4 text-purple-600"})}],[]),me=J.useCallback(()=>{const e={};de.forEach(s=>{e[s.id]={charCount:Math.floor(.6*As(s.id)),useEmoji:"xiaohongshu"===s.id||"weibo"===s.id,useMdFormat:"zhihu"===s.id||"wechat"===s.id,useAutoFormat:!0}}),g(e);const s={};de.forEach(e=>{s[e.id]=!1}),b(s)},[de]),he=()=>{try{localStorage.setItem("platformSettings",JSON.stringify(f)),localStorage.setItem("globalSettings",JSON.stringify(z)),localStorage.setItem("selectedPlatforms",JSON.stringify(o)),r({title:"è®¾ç½®å·²ä¿å­˜",description:"æ‚¨çš„å¹³å°è®¾ç½®å·²æˆåŠŸä¿å­˜"})}catch{r({title:"ä¿å­˜è®¾ç½®å¤±è´¥",description:"æ— æ³•ä¿å­˜æ‚¨çš„è®¾ç½®ï¼Œè¯·ç¨åå†è¯•",variant:"destructive"})}};J.useEffect(()=>{Object.keys(f).length>0&&localStorage.setItem("platformSettings",JSON.stringify(f))},[f]),J.useEffect(()=>{Object.keys(z).length>0&&localStorage.setItem("globalSettings",JSON.stringify(z))},[z]),J.useEffect(()=>{o.length>0&&localStorage.setItem("selectedPlatforms",JSON.stringify(o))},[o]),J.useEffect(()=>{const e=localStorage.getItem("platformSettings"),s=localStorage.getItem("globalSettings"),t=localStorage.getItem("selectedPlatforms");if(e)try{const s=JSON.parse(e);g(s)}catch{me()}else me();if(s)try{const e=JSON.parse(s);A(e)}catch{}if(t)try{const e=JSON.parse(t);c(e)}catch{}const a={};de.forEach(e=>{a[e.id]=!1}),b(a)},[me,de]),J.useEffect(()=>{me()},[me]);const ue=l.length,Me=l.trim().length>10&&o.length>0&&F>0,Le=(e,s,t)=>{g(a=>({...a,[e]:{...a[e],[s]:t}}))},We=(e,s)=>{A(t=>({...t,[e]:s}))},[Xe,cs]=J.useState(!1),[ds,ms]=J.useState(null),fs=async e=>{await new Promise(e=>setTimeout(e,1e3));let s=e;return Object.entries({"å°çº¢ä¹¦":"Xiaohongshu","æŠ–éŸ³":"TikTok","å¾®åš":"Weibo","çŸ¥ä¹":"Zhihu","å…¬ä¼—å·":"WeChat Official Account","Bç«™":"Bilibili","è§†é¢‘å·":"Video Account","è¯•äº†":"tried","å‘³é“":"taste","æ²»æ„ˆ":"healing","å°æ—¶å€™":"childhood","ç‰›å¥¶ç³–":"milk candy","ç”œè€Œä¸è…»":"sweet but not cloying","è´¨åœ°":"texture","å†°æ·‡æ·‹":"ice cream","æ…•æ–¯":"mousse","æ°´æ¶¦":"moisturizing","å¸æ”¶":"absorption","ç²˜è…»":"sticky","ç§‹å†¬":"autumn and winter","å¹²çš®":"dry skin","å§å¦¹ä»¬":"sisters","é—­çœ¼å†²":"go for it blindly","èº«ä½“ä¹³":"body lotion","æŠ¤è‚¤":"skincare","æ•‘æ˜Ÿ":"savior","æ¨è":"recommend","çœŸçš„":"really","è¶…çº§":"super","å¥½ç”¨":"good to use","å–œæ¬¢":"like","åˆ†äº«":"share","ä½“éªŒ":"experience","æ„Ÿè§‰":"feel","æ•ˆæœ":"effect","äº§å“":"product","å“ç‰Œ":"brand","è´­ä¹°":"buy","ä»·æ ¼":"price","ä¼˜æƒ ":"discount","æ´»åŠ¨":"activity","é™æ—¶":"limited time","æŠ¢è´­":"rush to buy","èµ¶ç´§":"hurry up","ä¸è¦":"don't","é”™è¿‡":"miss","æœºä¼š":"opportunity","æœ€å":"last","ä¸€æ¬¡":"once","æ—¶é—´":"time","ç»“æŸ":"end","å¼€å§‹":"start","ç«‹åˆ»":"immediately","ä»Šå¤©":"today","æ˜å¤©":"tomorrow","æ˜¨å¤©":"yesterday","è¿™å‘¨":"this week","ä¸‹å‘¨":"next week","æœ¬æœˆ":"this month","ä¸‹æœˆ":"next month","ä»Šå¹´":"this year","æ˜å¹´":"next year"}).forEach(([e,t])=>{s=s.replace(new RegExp(e,"g"),t)}),s=s.replace(/ã€‚/g,". ").replace(/ï¼Œ/g,", ").replace(/ï¼/g,"! ").replace(/ï¼Ÿ/g,"? ").replace(/ï¼š/g,": ").replace(/ï¼›/g,"; "),s},[gs,js]=J.useState(""),[bs,Ns]=J.useState(!1),[Ts,Ps]=J.useState([]),[Es,$s]=J.useState([]),[Us,Ds]=J.useState(null),[Bs,Fs]=J.useState(!1),[Js,Rs]=J.useState([]),Ms=J.useCallback(()=>{const e=JSON.parse(localStorage.getItem("shareHistory")||"[]");Rs(e)},[]);J.useEffect(()=>{Bs&&Ms()},[Bs,Ms]);const[_s,Hs]=J.useState(!1),[Ls,Vs]=J.useState("jump"),[Gs,Ks]=J.useState(new Set);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(M,{title:"AIå†…å®¹é€‚é…å™¨",description:"ä¸€æ¬¡åˆ›ä½œï¼Œå¤šå¹³å°é€‚é…ï¼Œè®©æ‚¨çš„å†…å®¹åœ¨æ¯ä¸ªå¹³å°éƒ½èƒ½å‘æŒ¥æœ€å¤§æ•ˆæœ",showAdaptButton:!1,actions:e.jsxs(e.Fragment,{children:[e.jsxs(L,{variant:"outline",onClick:()=>window.location.href="/history",children:[e.jsx(Ie,{className:"h-4 w-4 mr-1"}),"å†å²è®°å½•"]}),e.jsxs(L,{variant:"outline",onClick:()=>Hs(!0),children:[e.jsx(te,{className:"h-4 w-4 mr-1"}),"APIé…ç½®"]})]})}),e.jsxs("div",{className:"container mx-auto py-6 px-4",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium mb-2",children:"å†…å®¹åˆ›ä½œ"}),e.jsx(Be,{children:e.jsxs(Fe,{children:[e.jsx(Je,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"å‰©ä½™æ¬¡æ•°:"}),e.jsx(_e,{variant:F<=5?"destructive":"default",children:F})]})}),e.jsxs(Re,{side:"bottom",children:[e.jsx("p",{children:"æ¯æ¬¡å¤šå¹³å°å†…å®¹ç”Ÿæˆæ¶ˆè€—1æ¬¡ä½¿ç”¨é¢åº¦"}),e.jsx("p",{children:"æ¯æœˆè‡ªåŠ¨è·å¾—20æ¬¡å…è´¹ä½¿ç”¨æœºä¼š"}),e.jsx("p",{children:"é€šè¿‡é‚€è¯·å¥½å‹å¯è·å¾—é¢å¤–ä½¿ç”¨æ¬¡æ•°"})]})]})})]}),e.jsx(V,{className:"mb-6",children:e.jsx(W,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ve,{className:"text-sm font-medium",children:"å‘å¸ƒæ¨¡å¼:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(L,{variant:"jump"===Ls?"default":"outline",size:"sm",onClick:()=>Vs("jump"),children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),"è·³è½¬å‘å¸ƒ"]}),e.jsxs(L,{variant:"api"===Ls?"default":"outline",size:"sm",onClick:()=>Vs("api"),children:[e.jsx(ve,{className:"w-4 h-4 mr-1"}),"APIç›´å‘"]})]}),"api"===Ls&&e.jsxs(_e,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(ve,{className:"w-3 h-3 mr-1"}),"éœ€è¦é…ç½®APIå¯†é’¥"]})]})})}),e.jsxs(V,{className:"mb-8",children:[e.jsxs(G,{children:[e.jsx(K,{className:"text-lg",children:"è¾“å…¥åŸå§‹å†…å®¹"}),e.jsx(q,{children:"è¯·è¾“å…¥æ‚¨æƒ³è¦è¿›è¡Œå¤šå¹³å°é€‚é…çš„åŸå§‹å†…å®¹"})]}),e.jsxs(W,{children:[e.jsx(He,{placeholder:"åœ¨æ­¤è¾“å…¥æ‚¨çš„åŸå§‹å†…å®¹ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨é€‚é…åˆ°ä¸åŒå¹³å°...",className:"min-h-[200px]",value:l,onChange:e=>n(e.target.value)}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-center",children:[e.jsx(rs,{id:"use-brand-library",checked:u,onCheckedChange:e=>{e&&("trial"===$&&(ce({name:"å“ç‰Œåº“åŠŸèƒ½",description:"ä½¿ç”¨å“ç‰Œåº“èµ„æ–™è¿›è¡Œåˆ›ä½œï¼ŒAIä¼šè‡ªåŠ¨éµå¾ªæ‚¨çš„å“ç‰Œè¯­è¨€è§„èŒƒ"}),le(!0),1))||p(!!e)}}),e.jsxs("div",{children:[e.jsx(Ve,{htmlFor:"use-brand-library",className:"text-sm cursor-pointer",children:"ä½¿ç”¨å“ç‰Œåº“èµ„æ–™è¿›è¡Œåˆ›ä½œ"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ä¸Šä¼ æ‚¨çš„å“ç‰Œèµ„æ–™åº“ï¼ŒAIåœ¨åˆ›ä½œæ—¶ä¼šè‡ªåŠ¨éµå¾ªæ‚¨çš„è¯­è¨€è§„èŒƒï¼Œèå…¥å“ç‰Œä»·å€¼ï¼Œè§„é¿å…¬å…³é£é™©ã€‚åˆ†å‘å†å¤šå¹³å°ï¼Œå“ç‰Œå½¢è±¡å§‹ç»ˆå¦‚ä¸€ã€‚",e.jsx("span",{className:"text-xs text-amber-500 ml-1",children:"ï¼ˆéœ€å¼€é€šé«˜çº§åŠŸèƒ½ï¼‰"})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto justify-center",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>w(e=>!e),className:"text-xs rounded-lg shadow-sm border border-blue-200",children:["é€‚é…è®¾ç½®",N?e.jsx(Y,{className:"ml-1 h-3 w-3"}):e.jsx(Q,{className:"ml-1 h-3 w-3"})]}),e.jsxs(_e,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[ue," å­—ç¬¦"]})]})]}),N&&e.jsx("div",{className:"mt-2 w-full",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-3 flex flex-col items-center w-full max-w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 w-full px-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ve,{className:"text-xs w-28 flex-shrink-0",children:"å…¨å±€å­—ç¬¦æ•°é™åˆ¶"}),e.jsxs(Ge,{value:z.charCountPreset,onValueChange:e=>We("charCountPreset",e),children:[e.jsx(qe,{className:"h-7 w-36 text-xs",children:e.jsx(Ke,{placeholder:"é€‰æ‹©å­—ç¬¦æ•°é™åˆ¶"})}),e.jsxs(Ze,{children:[e.jsx(Qe,{value:"auto",children:"è‡ªåŠ¨"}),e.jsx(Qe,{value:"mini",children:"ç²¾ç®€(50-200å­—)"}),e.jsx(Qe,{value:"standard",children:"æ ‡å‡†(200-800å­—)"}),e.jsx(Qe,{value:"detailed",children:"è¯¦ç»†(800+)"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ve,{className:"text-xs w-28 flex-shrink-0",children:"å¯ç”¨è¡¨æƒ…ç¬¦å·"}),e.jsx(rs,{id:"global-emoji",checked:z.globalEmoji,onCheckedChange:e=>We("globalEmoji",!!e)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ve,{className:"text-xs w-28 flex-shrink-0",children:"å¯ç”¨Markdownæ ¼å¼"}),e.jsx(rs,{id:"global-md",checked:z.globalMd,onCheckedChange:e=>We("globalMd",!!e)})]})]}),e.jsx("div",{className:"flex justify-center mt-2 w-full",children:e.jsxs(L,{variant:"outline",size:"sm",onClick:he,className:"flex items-center h-7 text-xs px-3",children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),"ä¿å­˜"]})})]})})]})]}),e.jsxs(V,{className:"mb-8",children:[e.jsx(G,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(K,{className:"text-lg",children:"AI æ¨¡å‹é€‰æ‹©"}),e.jsx(q,{children:"é€‰æ‹©æ‚¨å–œæ¬¢çš„AIæ¨¡å‹ç”Ÿæˆå†…å®¹ï¼Œé»˜è®¤ä¼˜å…ˆæ¨èGPT-4o"})]}),"trial"===$&&e.jsx(L,{variant:"outline",size:"sm",onClick:()=>i("/payment"),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"å»è§£é”"})]})}),e.jsx(W,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(s=>{let t=!D.some(e=>e.id===s.id),a="",r=!1;return"gpt-4o"===s.id&&"trial"===$&&(a="ä¸“ä¸šç‰ˆ/é«˜çº§ç‰ˆä¸“å±",r=!0),e.jsx("div",{className:"p-6 border-2 rounded-xl cursor-pointer transition-all hover:shadow-md "+(P===s.id?"border-blue-500 bg-blue-50 shadow-sm":t?"border-gray-200 bg-gray-100 opacity-60 cursor-not-allowed":"border-gray-200 hover:border-blue-300"),onClick:()=>((e,s)=>{if(s)return;E(e),De(e);const t=function(e){var s;return(null==(s=is[e])?void 0:s.provider)||"Unknown"}(e);"OpenAI"===t&&T("openai"),"DeepSeek"===t&&T("deepseek")})(s.id,t),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 "+(P===s.id?"border-blue-500 bg-blue-500":"border-gray-300"),children:P===s.id&&e.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-semibold text-blue-600 text-base",children:s.name}),a&&e.jsx(_e,{className:"bg-gray-200 text-gray-600 text-xs",children:a})]}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s.description}),r&&e.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-xs text-yellow-700 flex items-center",children:[e.jsx("span",{className:"mr-1",children:"ğŸ”’"}),"å»è§£é”é«˜çº§åŠŸèƒ½"]})})]})]})},s.id)})}),P&&e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium",children:null==(s=ns(P))?void 0:s.name}),e.jsx("p",{children:null==(t=ns(P))?void 0:t.description})]}),e.jsxs("div",{className:"mt-4 flex gap-2 items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"æ¨¡æ‹Ÿè®¢é˜…ç­‰çº§ï¼š"}),e.jsx(L,{size:"sm",variant:"trial"===$?"default":"outline",onClick:()=>U("trial"),children:"å…è´¹ç‰ˆ"}),e.jsx(L,{size:"sm",variant:"pro"===$?"default":"outline",onClick:()=>U("pro"),children:"ä¸“ä¸šç‰ˆ"}),e.jsx(L,{size:"sm",variant:"premium"===$?"default":"outline",onClick:()=>U("premium"),children:"é«˜çº§ç‰ˆ"})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"é€‰æ‹©ç›®æ ‡å¹³å°"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 auto-rows-fr",children:de.map(s=>e.jsx(Os,{icon:s.icon,title:s.name,description:s.description,checked:o.includes(s.id),onChange:e=>{return t=s.id,void c(e?e=>[...e,t]:e=>e.filter(e=>e!==t));var t}},s.id))}),o.length>0&&e.jsxs(V,{className:"mt-6",children:[e.jsx(G,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx(K,{className:"text-base",children:"å¹³å°è®¾ç½®"}),e.jsxs(_e,{variant:"secondary",className:"text-xs",children:[o.length,"ä¸ªå¹³å°"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:he,children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),"ä¿å­˜è®¾ç½®"]}),e.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>w(!N),children:[N?"æ”¶èµ·":"å±•å¼€",N?e.jsx(Y,{className:"ml-1 h-4 w-4"}):e.jsx(Q,{className:"ml-1 h-4 w-4"})]})]})]})}),N&&e.jsx(W,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b pb-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"å…¨å±€è®¾ç½®"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{id:"global-emoji",checked:z.globalEmoji,onCheckedChange:e=>We("globalEmoji",!!e)}),e.jsxs(Ve,{htmlFor:"global-emoji",className:"text-sm cursor-pointer flex items-center",children:[e.jsx(Se,{className:"h-3 w-3 mr-1"}),"å…¨å±€æ·»åŠ emojiè¡¨æƒ…"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{id:"global-md",checked:z.globalMd,onCheckedChange:e=>We("globalMd",!!e)}),e.jsxs(Ve,{htmlFor:"global-md",className:"text-sm cursor-pointer flex items-center",children:[e.jsx(Ie,{className:"h-3 w-3 mr-1"}),"å…¨å±€MDæ ¼å¼"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{id:"global-auto",checked:!0,disabled:!0}),e.jsxs(Ve,{htmlFor:"global-auto",className:"text-sm cursor-pointer flex items-center text-gray-500",children:[e.jsx(Ce,{className:"h-3 w-3 mr-1"}),"å…¨å±€è‡ªåŠ¨æ’ç‰ˆ"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"å¹³å°ç‰¹å®šè®¾ç½®"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.map(s=>{const t=de.find(e=>e.id===s),a=f[s]||{},r=["zhihu","wechat","weibo","xiaohongshu"].includes(s);return t?e.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.icon,e.jsx("span",{className:"text-sm font-medium",children:t.name}),r&&e.jsx(_e,{variant:"outline",className:"text-xs",children:"ä¼˜åŒ–"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs(Ve,{className:"text-xs",children:["å­—ç¬¦æ•°: ",a.charCount||As(s)]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[zs(s),"-",As(s)]})]}),e.jsx(as,{value:[a.charCount||As(s)],min:zs(s),max:As(s),step:10,onValueChange:e=>Le(s,"charCount",e[0]),className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{id:`${s}-emoji`,checked:a.useEmoji,onCheckedChange:e=>Le(s,"useEmoji",!!e)}),e.jsxs(Ve,{htmlFor:`${s}-emoji`,className:"text-xs cursor-pointer flex items-center",children:[e.jsx(Se,{className:"h-3 w-3 mr-1"}),"emoji"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{id:`${s}-md`,checked:a.useMdFormat,onCheckedChange:e=>Le(s,"useMdFormat",!!e)}),e.jsxs(Ve,{htmlFor:`${s}-md`,className:"text-xs cursor-pointer flex items-center",children:[e.jsx(Ie,{className:"h-3 w-3 mr-1"}),"MDæ ¼å¼"]})]})]}),r&&e.jsxs("div",{className:"bg-blue-50 p-2 rounded text-xs text-blue-600",children:["zhihu"===s&&"çŸ¥ä¹: MDæ ¼å¼ä¼˜åŒ–ä¸“ä¸šæ’ç‰ˆï¼Œè‡ªåŠ¨æ’ç‰ˆæ·»åŠ åˆ†å‰²çº¿","wechat"===s&&"å…¬ä¼—å·: MDæ ¼å¼é€‚åˆæ·±åº¦é˜…è¯»ï¼Œä¸“ä¸šæ’ç‰ˆ","weibo"===s&&"å¾®åš: emojiæå‡äº’åŠ¨æ€§ï¼Œå­—æ•°é™åˆ¶2000å­—","xiaohongshu"===s&&"å°çº¢ä¹¦: emojiå¢åŠ äº²å’ŒåŠ›ï¼Œè‡ªåŠ¨æ’ç‰ˆä¼˜åŒ–è§†è§‰æ•ˆæœ"]})]})]},s):null})})]})]})})]})]}),e.jsx("div",{className:"flex justify-center mb-12",children:e.jsx(L,{size:"lg",disabled:!Me||x,onClick:async()=>{if(!Me)return;if(F<=3&&F>0&&(ae(F),ee(!0),1))return;if(F<=0)return void r({title:"ä½¿ç”¨æ¬¡æ•°å·²ç”¨å®Œ",description:"è¯·é€šè¿‡é‚€è¯·å¥½å‹è·å–æ›´å¤šä½¿ç”¨æœºä¼š",variant:"destructive"});h(!0),(()=>{const e={...f};z.globalEmoji&&Object.keys(e).forEach(s=>{e[s].useEmoji=!0}),z.globalMd&&Object.keys(e).forEach(s=>{e[s].useMdFormat=!0}),"auto"!==z.charCountPreset&&Object.keys(e).forEach(s=>{switch(z.charCountPreset){case"mini":e[s].charCount=Math.min(200,As(s));break;case"standard":e[s].charCount=Math.min(800,As(s));break;case"detailed":e[s].charCount=As(s)}}),g(e)})();const e=o.map(e=>({platformId:e,content:"",steps:[{status:"loading",message:"åˆ†æåŸå§‹å†…å®¹..."},{status:"waiting",message:"æå–æ ¸å¿ƒä¿¡æ¯..."},{status:"waiting",message:"è¿›è¡Œå¹³å°é€‚é…..."},{status:"waiting",message:"ä¼˜åŒ–è¾“å‡ºç»“æœ..."}]}));m(e);try{const e={};o.forEach(s=>{const t=f[s];e[`${s}-charCount`]=(null==t?void 0:t.charCount)||.6*As(s),e[`${s}-emoji`]=(null==t?void 0:t.useEmoji)||!1,e[`${s}-mdFormat`]=(null==t?void 0:t.useMdFormat)||!1,e[`${s}-autoFormat`]=(null==t?void 0:t.useAutoFormat)||!1,e[`${s}-brandLibrary`]=u});const s=await $e(l,o,e);for(let t=0;t<o.length;t++){const e=o[t],a=(s,t)=>{m(a=>a.map(a=>a.platformId===e?{...a,steps:a.steps.map((e,a)=>a===s?{...e,status:t}:e)}:a))};a(0,"completed"),await new Promise(e=>setTimeout(e,300)),a(1,"loading"),await new Promise(e=>setTimeout(e,300)),a(1,"completed"),a(2,"loading"),await new Promise(e=>setTimeout(e,300)),a(2,"completed"),a(3,"loading"),await new Promise(e=>setTimeout(e,300));for(const t of o){const e=s[t];e&&e.content?(a(3,"completed"),m(s=>s.map(s=>s.platformId===t?{...s,content:e.content,source:e.source,error:e.error}:s))):(a(3,"error"),m(e=>e.map(e=>e.platformId===t?{...e,error:"ç”Ÿæˆå¤±è´¥ï¼šæ— æ³•è·å–é€‚é…å†…å®¹"}:e)))}}_(),(e=>{const s="history_anonymous",t=localStorage.getItem(s);let a=[];if(t)try{a=JSON.parse(t)}catch{}const r=(new Date).toISOString();e.forEach(e=>{e.content&&a.push({platformId:e.platformId,content:e.content,timestamp:r})}),localStorage.setItem(s,JSON.stringify(a))})(d),r({title:"å†…å®¹å·²ç”Ÿæˆ",description:`å·²æˆåŠŸä¸º${o.length}ä¸ªå¹³å°ç”Ÿæˆå†…å®¹`})}catch(s){m(e=>e.map(e=>({...e,steps:e.steps.map(e=>"loading"===e.status?{...e,status:"error"}:e),error:s instanceof Error?s.message:"ç”Ÿæˆå¤±è´¥"}))),r({title:"ç”Ÿæˆå¤±è´¥",description:s instanceof Error?s.message:"å†…å®¹ç”Ÿæˆè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•",variant:"destructive"})}finally{h(!1)}},className:"w-full max-w-md",children:x?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"mr-2 h-4 w-4 animate-spin"}),"æ­£åœ¨ç”Ÿæˆä¸­..."]}):e.jsxs(e.Fragment,{children:["å¼€å§‹ç”Ÿæˆ",e.jsx(xe,{className:"ml-2 h-4 w-4"})]})})}),d.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"å¹³å°é€‚é…ç»“æœ"}),e.jsxs(L,{size:"lg",variant:"default",onClick:()=>{const e=d.filter(e=>e.content).map(e=>e.platformId);Ps(e),Ns(!0)},disabled:0===d.filter(e=>e.content).length,children:["api"===Ls?e.jsx(ve,{className:"h-5 w-5 mr-2"}):e.jsx(ne,{className:"h-5 w-5 mr-2"}),"api"===Ls?"æ‰¹é‡APIç›´å‘":"æ‰¹é‡ä¸€é”®è½¬å‘"]})]}),e.jsxs(Ye,{defaultValue:null==(a=d[0])?void 0:a.platformId,className:"w-full",children:[e.jsx(es,{className:"mb-6 grid w-full grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 h-12 overflow-x-auto",children:d.map(s=>e.jsx(ss,{value:s.platformId,className:"text-xs sm:text-sm font-medium min-w-0",children:e.jsx("div",{className:"flex items-center",children:Cs(s.platformId)})},s.platformId))}),d.map(s=>{var t,a;return e.jsx(ts,{value:s.platformId,children:e.jsxs(V,{className:"p-8 shadow-lg border-2",children:[e.jsx(G,{className:"pb-4",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs(K,{className:"text-2xl flex items-center",children:[Cs(s.platformId),e.jsx("span",{className:"ml-3",children:(null==(t=Ee[s.platformId])?void 0:t.name)||s.platformId})]})})}),e.jsxs(W,{className:"space-y-6",children:[e.jsx("div",{className:"space-y-3",children:s.steps.map((s,t)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium "+("completed"===s.status?"bg-green-500 text-white":"loading"===s.status?"bg-blue-500 text-white animate-spin":"error"===s.status?"bg-red-500 text-white":"bg-gray-200 text-gray-600"),children:"completed"===s.status?"âœ“":"loading"===s.status?"âŸ³":"error"===s.status?"âœ—":t+1}),e.jsx("span",{className:"text-sm "+("completed"===s.status?"text-green-600":"loading"===s.status?"text-blue-600":"error"===s.status?"text-red-600":"text-gray-500"),children:s.message})]},t))}),s.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ—"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"ç”Ÿæˆå¤±è´¥"}),e.jsx("div",{className:"mt-1 text-sm text-red-700",children:s.error})]})]})}),s.content&&!s.error&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"AIç”Ÿæˆå†…å®¹"}),e.jsx("div",{className:"mt-1 text-sm text-green-700",children:"å†…å®¹å·²æˆåŠŸç”Ÿæˆï¼Œæ‚¨å¯ä»¥ç¼–è¾‘ã€å¤åˆ¶æˆ–æ”¶è—"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"ç”Ÿæˆç»“æœ"}),e.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center xl:justify-start gap-2 mb-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"ç”Ÿæˆå†…å®¹"}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),s.content?v===s.platformId?e.jsxs("div",{className:"space-y-3",children:[e.jsx(He,{value:s.content,onChange:e=>{m(t=>t.map(t=>t.platformId===s.platformId?{...t,content:e.target.value}:t))},className:"min-h-[300px] text-base resize-none"}),e.jsxs("div",{className:"flex gap-3 justify-center lg:justify-start",children:[e.jsx(L,{size:"sm",onClick:()=>{return e=s.platformId,t=s.content,m(s=>s.map(s=>s.platformId===e?{...s,content:t}:s)),y(null),void r({title:"ä¿å­˜æˆåŠŸ",description:"å†…å®¹å·²æ›´æ–°"});var e,t},className:"bg-green-600 hover:bg-green-700",children:"ä¿å­˜"}),e.jsx(L,{size:"sm",variant:"outline",onClick:()=>y(null),children:"å–æ¶ˆ"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"whitespace-pre-wrap rounded-lg border-2 p-6 overflow-auto max-h-[600px] text-base leading-relaxed shadow-sm "+("xiaohongshu"===s.platformId?"bg-rose-50 border-rose-200":"douyin"===s.platformId?"bg-black text-white border-gray-800":"weibo"===s.platformId?"bg-orange-50 border-orange-200":"zhihu"===s.platformId?"bg-blue-50 border-blue-200":"wechat"===s.platformId?"bg-green-50 border-green-200":"bilibili"===s.platformId?"bg-pink-50 border-pink-200":"video"===s.platformId?"bg-emerald-50 border-emerald-200":"twitter"===s.platformId?"bg-sky-50 border-sky-200":"bg-gray-50 border-gray-200"),children:s.content}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-medium text-gray-700 shadow-sm",children:(null==(a=Ee[s.platformId])?void 0:a.name)||s.platformId})})]}):s.error?e.jsx("div",{className:"rounded-lg border-2 border-dashed border-red-200 p-12 flex items-center justify-center bg-red-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 text-lg font-medium",children:"ç”Ÿæˆå¤±è´¥"}),e.jsx("p",{className:"text-red-500 text-sm mt-2",children:s.error})]})}):e.jsx("div",{className:"rounded-lg border-2 border-dashed border-gray-200 p-12 flex items-center justify-center bg-gray-50",children:e.jsx("p",{className:"text-muted-foreground text-lg",children:"ç”Ÿæˆçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."})})]}),I[s.platformId]&&e.jsx("div",{className:"hidden lg:flex items-center justify-center absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-t-2 border-white"})})}),I[s.platformId]&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 mb-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"ç¿»è¯‘å†…å®¹"}),e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"whitespace-pre-wrap rounded-lg border-2 border-blue-200 p-6 bg-blue-50 overflow-auto max-h-[600px] text-base leading-relaxed shadow-sm",children:I[s.platformId]}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-medium text-blue-700 shadow-sm",children:"ç¿»è¯‘ç‰ˆæœ¬"})})]})]})]})]}),s.content&&e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[e.jsxs(L,{size:"lg",variant:"outline",onClick:()=>(async e=>{if(!x){m(s=>s.map(s=>s.platformId===e?{...s,steps:[{status:"loading",message:"é‡æ–°åˆ†æå†…å®¹..."},{status:"waiting",message:"æå–æ ¸å¿ƒä¿¡æ¯..."},{status:"waiting",message:"è¿›è¡Œå¹³å°é€‚é…..."},{status:"waiting",message:"ä¼˜åŒ–è¾“å‡ºç»“æœ..."}]}:s));try{const s={},t=f[e];s[`${e}-charCount`]=(null==t?void 0:t.charCount)||.6*As(e),s[`${e}-emoji`]=(null==t?void 0:t.useEmoji)||!1,s[`${e}-mdFormat`]=(null==t?void 0:t.useMdFormat)||!1,s[`${e}-autoFormat`]=(null==t?void 0:t.useAutoFormat)||!1,s[`${e}-brandLibrary`]=u;const a=await Ue(e,l,s),i=(s,t)=>{m(a=>a.map(a=>a.platformId===e?{...a,steps:a.steps.map((e,a)=>a===s?{...e,status:t}:e)}:a))};i(0,"completed"),await new Promise(e=>setTimeout(e,300)),i(1,"loading"),await new Promise(e=>setTimeout(e,300)),i(1,"completed"),i(2,"loading"),await new Promise(e=>setTimeout(e,300)),i(2,"completed"),i(3,"loading"),await new Promise(e=>setTimeout(e,300));const n=a[e];i(3,"completed"),m(s=>s.map(s=>s.platformId===e?{...s,content:n.content,source:n.source,error:n.error}:s)),r({title:"é‡æ–°ç”ŸæˆæˆåŠŸ",description:`å·²ä¸º${e}é‡æ–°ç”Ÿæˆå†…å®¹`})}catch(s){m(t=>t.map(t=>t.platformId===e?{...t,steps:t.steps.map(e=>"loading"===e.status?{...e,status:"error"}:e),error:s instanceof Error?s.message:"é‡æ–°ç”Ÿæˆå¤±è´¥"}:t)),r({title:"é‡æ–°ç”Ÿæˆå¤±è´¥",description:s instanceof Error?s.message:`é€‚é…${e}å†…å®¹æ—¶å‡ºé”™`,variant:"destructive"})}}})(s.platformId),disabled:x,children:[e.jsx(re,{className:"h-5 w-5 mr-2"}),"é‡æ–°ç”Ÿæˆ"]}),e.jsxs(L,{size:"lg",variant:"outline",onClick:()=>{return e=s.platformId,void y(v===e?null:e);var e},children:[e.jsx(ze,{className:"h-5 w-5 mr-2"}),v===s.platformId?"å–æ¶ˆç¼–è¾‘":"ç¼–è¾‘"]}),e.jsxs(L,{size:"lg",variant:"outline",onClick:()=>(e=>{const s=d.find(s=>s.platformId===e);if(!s||!s.content)return void r({title:"æ— æ³•æ”¶è—",description:"æ²¡æœ‰å¯æ”¶è—çš„å†…å®¹",variant:"destructive"});const t=JSON.parse(localStorage.getItem("favorites")||"[]"),a={id:Date.now().toString(),platformId:e,content:s.content,platformName:e,timestamp:(new Date).toISOString()};t.push(a),localStorage.setItem("favorites",JSON.stringify(t)),r({title:"æ”¶è—æˆåŠŸ",description:"å†…å®¹å·²æ·»åŠ åˆ°æ”¶è—ï¼Œå¯åœ¨æˆ‘çš„é¡µé¢æŸ¥çœ‹"})})(s.platformId),children:[e.jsx(Ae,{className:"h-5 w-5 mr-2"}),"æ”¶è—"]}),e.jsxs(L,{size:"lg",variant:"outline",onClick:()=>{return e=s.content,navigator.clipboard.writeText(e),void r({title:"å·²å¤åˆ¶åˆ°å‰ªè´´æ¿",description:"å†…å®¹å·²æˆåŠŸå¤åˆ¶ï¼Œå¯ç›´æ¥ç²˜è´´ä½¿ç”¨"});var e},children:[e.jsx(Oe,{className:"h-5 w-5 mr-2"}),"ä¸€é”®å¤åˆ¶"]}),e.jsxs(L,{size:"lg",variant:"outline",onClick:()=>(async(e,s)=>{if(S.has(e))r({title:"è¯·å‹¿é¢‘ç¹ç‚¹å‡»",description:"ç¿»è¯‘è¿›è¡Œä¸­ï¼Œè¯·ç¨å€™...",variant:"destructive"});else{C(s=>new Set(s).add(e));try{const t=await(async e=>{try{const s=await fetch("/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,targetLang:"en",sourceLang:"zh"})});if(!s.ok)throw new Error("Translation API failed");return(await s.json()).translatedText||e}catch{return fs(e)}})(s);k(s=>({...s,[e]:t})),r({title:"ç¿»è¯‘å®Œæˆ",description:"å†…å®¹å·²ç¿»è¯‘ä¸ºè‹±æ–‡"})}catch{r({title:"ç¿»è¯‘å¤±è´¥",description:"ç¿»è¯‘è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•",variant:"destructive"})}finally{setTimeout(()=>{C(s=>{const t=new Set(s);return t.delete(e),t})},3e3)}}})(s.platformId,s.content),disabled:S.has(s.platformId),children:[e.jsx(Te,{className:"h-5 w-5 mr-2"}),"ä¸€é”®ç¿»è¯‘"]}),e.jsxs(L,{size:"lg",variant:"default",onClick:()=>(e=>{const s=d.find(s=>s.platformId===e);s&&s.content?(ms({platformId:e,content:s.content}),cs(!0)):r({title:"æ— æ³•å‘å¸ƒ",description:"æ²¡æœ‰å¯å‘å¸ƒçš„å†…å®¹",variant:"destructive"})})(s.platformId),disabled:Gs.has(s.platformId),children:[Gs.has(s.platformId)?e.jsx(re,{className:"h-5 w-5 mr-2 animate-spin"}):"api"===Ls?e.jsx(ve,{className:"h-5 w-5 mr-2"}):e.jsx(ne,{className:"h-5 w-5 mr-2"}),Gs.has(s.platformId)?"å‘å¸ƒä¸­...":"api"===Ls?"APIç›´å‘":"ç«‹åˆ»å‘å¸ƒ"]})]})]})]})},s.platformId)})]})]})]}),e.jsx(os,{open:Xe,onOpenChange:cs,children:e.jsxs(xs,{children:[e.jsx(hs,{children:e.jsx(ps,{children:"ä¸€é”®è½¬å‘ç¡®è®¤"})}),e.jsxs("div",{className:"py-2 text-gray-700",children:[e.jsx("p",{children:"api"===Ls?"æ˜¯å¦é€šè¿‡APIç›´æ¥å‘å¸ƒå†…å®¹ï¼Ÿ":"å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œæ˜¯å¦è·³è½¬åˆ°å¹³å°å‘å¸ƒé¡µï¼Ÿ"}),e.jsx("div",{className:"bg-gray-100 rounded p-2 mt-2 text-xs break-all max-h-32 overflow-auto",children:null==ds?void 0:ds.content})]}),e.jsxs(us,{children:[e.jsx(L,{variant:"outline",onClick:()=>cs(!1),children:"å–æ¶ˆ"}),e.jsx(L,{variant:"default",onClick:()=>{if(!ds)return;const{platformId:e,content:s}=ds;if("api"===Ls)(async(e,s)=>{if(!vs(e))return r({title:"æœªæˆæƒ",description:"è¯·å…ˆé…ç½®å¹³å°APIæˆæƒä¿¡æ¯",variant:"destructive"}),void Hs(!0);Ks(s=>new Set(s).add(e));try{const t={text:s,title:`AIç”Ÿæˆå†…å®¹ - ${(new Date).toLocaleString()}`,hashtags:[]},a=await ws(e,t);if(a.success){const t=JSON.parse(localStorage.getItem("shareHistory")||"[]");t.unshift({id:Date.now().toString(),platformId:e,platformName:e,content:s,time:(new Date).toISOString()}),localStorage.setItem("shareHistory",JSON.stringify(t)),r({title:"å‘å¸ƒæˆåŠŸ",description:`å†…å®¹å·²æˆåŠŸå‘å¸ƒåˆ°${e}`}),a.publishUrl&&window.open(a.publishUrl,"_blank","noopener,noreferrer")}else r({title:"å‘å¸ƒå¤±è´¥",description:a.error||"å‘å¸ƒè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯",variant:"destructive"})}catch(t){r({title:"å‘å¸ƒå¤±è´¥",description:t instanceof Error?t.message:"ç½‘ç»œé”™è¯¯",variant:"destructive"})}finally{Ks(s=>{const t=new Set(s);return t.delete(e),t})}})(e,s);else{navigator.clipboard.writeText(s);const t=JSON.parse(localStorage.getItem("shareHistory")||"[]");t.unshift({id:Date.now().toString(),platformId:e,platformName:e,content:s,time:(new Date).toISOString()}),localStorage.setItem("shareHistory",JSON.stringify(t));const a=Ss[e];a?(window.open(a,"_blank","noopener,noreferrer"),r({title:"å†…å®¹å·²å¤åˆ¶ï¼Œæ­£åœ¨è·³è½¬",description:`å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œæ­£åœ¨æ‰“å¼€${e}å®˜ç½‘`})):r({title:"å†…å®¹å·²å¤åˆ¶",description:"å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œä½†è¯¥å¹³å°çš„å‘å¸ƒé“¾æ¥æš‚æœªé…ç½®"})}cs(!1),ms(null)},children:"api"===Ls?"ç¡®è®¤å‘å¸ƒ":"è·³è½¬å¹¶å‘å¸ƒ"})]})]})}),e.jsx(os,{open:bs,onOpenChange:Ns,children:e.jsxs(xs,{children:[e.jsx(hs,{children:e.jsx(ps,{children:"æ‰¹é‡ä¸€é”®è½¬å‘"})}),e.jsxs("div",{className:"py-2 text-gray-700",children:[e.jsx("p",{children:"è¯·é€‰æ‹©è¦æ‰¹é‡è½¬å‘çš„å¹³å°ï¼š"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.filter(e=>e.content).map(s=>e.jsx(L,{variant:Ts.includes(s.platformId)?"default":"outline",onClick:()=>Ps(e=>e.includes(s.platformId)?e.filter(e=>e!==s.platformId):[...e,s.platformId]),children:s.platformId},s.platformId))})]}),e.jsxs(us,{children:[e.jsx(L,{variant:"outline",onClick:()=>Ns(!1),children:"å–æ¶ˆ"}),e.jsx(L,{variant:"default",onClick:()=>{const e=Ts.map(e=>{const s=d.find(s=>s.platformId===e);return s&&s.content?{platformId:e,content:s.content}:null}).filter(Boolean);"api"===Ls?((async e=>{const s=e.filter(e=>!vs(e));if(s.length>0)return r({title:"éƒ¨åˆ†å¹³å°æœªæˆæƒ",description:`è¯·å…ˆé…ç½® ${s.join(", ")} çš„APIæˆæƒä¿¡æ¯`,variant:"destructive"}),void Hs(!0);const t=e.filter(e=>vs(e));if(0===t.length)return void r({title:"æ— å¯ç”¨å¹³å°",description:"è¯·å…ˆé…ç½®è‡³å°‘ä¸€ä¸ªå¹³å°çš„APIæˆæƒä¿¡æ¯",variant:"destructive"});const a=d.find(e=>e.platformId===t[0]);if(null==a?void 0:a.content){Ks(new Set(t));try{const e={text:a.content,title:`AIç”Ÿæˆå†…å®¹ - ${(new Date).toLocaleString()}`,hashtags:[]},s=await async function(e,s){const t=[];for(const r of e)try{const e=await ws(r,s);t.push(e)}catch(a){t.push({success:!1,error:a instanceof Error?a.message:"å‘å¸ƒå¤±è´¥"})}return t}(t,e),i=s.filter(e=>e.success).length,l=s.length-i,n=JSON.parse(localStorage.getItem("shareHistory")||"[]");s.forEach((e,s)=>{e.success&&n.unshift({id:Date.now().toString()+s,platformId:t[s],platformName:t[s],content:a.content,time:(new Date).toISOString()})}),localStorage.setItem("shareHistory",JSON.stringify(n)),r({title:"æ‰¹é‡å‘å¸ƒå®Œæˆ",description:`æˆåŠŸ: ${i}ä¸ªå¹³å°ï¼Œå¤±è´¥: ${l}ä¸ªå¹³å°`}),s.forEach((e,s)=>{e.success&&e.publishUrl&&setTimeout(()=>{window.open(e.publishUrl,"_blank","noopener,noreferrer")},500*s)})}catch(i){r({title:"æ‰¹é‡å‘å¸ƒå¤±è´¥",description:i instanceof Error?i.message:"ç½‘ç»œé”™è¯¯",variant:"destructive"})}finally{Ks(new Set)}}else r({title:"æ— å†…å®¹å¯å‘å¸ƒ",description:"è¯·å…ˆç”Ÿæˆå†…å®¹",variant:"destructive"})})(Ts),Ns(!1)):($s(e),Ns(!1),e.length>0&&Ds(e[0]))},disabled:0===Ts.length,children:"å¼€å§‹æ‰¹é‡è½¬å‘"})]})]})}),e.jsx(os,{open:!!Us,onOpenChange:e=>{e||Ds(null)},children:e.jsxs(xs,{children:[e.jsx(hs,{children:e.jsx(ps,{children:"æ‰¹é‡ä¸€é”®è½¬å‘"})}),e.jsxs("div",{className:"py-2 text-gray-700",children:[e.jsxs("p",{children:["å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œæ˜¯å¦è·³è½¬åˆ° ",null==Us?void 0:Us.platformId," å‘å¸ƒé¡µï¼Ÿ"]}),e.jsx("div",{className:"bg-gray-100 rounded p-2 mt-2 text-xs break-all max-h-32 overflow-auto",children:null==Us?void 0:Us.content})]}),e.jsxs(us,{children:[e.jsx(L,{variant:"outline",onClick:()=>{if(!Us)return;const e=Es.findIndex(e=>e.platformId===Us.platformId);e>=0&&e<Es.length-1?Ds(Es[e+1]):(Ds(null),$s([]),r({title:"æ‰¹é‡è½¬å‘å®Œæˆ",description:"å·²å®Œæˆæ‰€æœ‰å¹³å°çš„è½¬å‘"}))},children:"è·³è¿‡"}),e.jsx(L,{variant:"default",onClick:()=>{if(!Us)return;const{platformId:e,content:s}=Us;navigator.clipboard.writeText(s);const t=JSON.parse(localStorage.getItem("shareHistory")||"[]");t.unshift({id:Date.now().toString(),platformId:e,platformName:e,content:s,time:(new Date).toISOString()}),localStorage.setItem("shareHistory",JSON.stringify(t));const a=Ss[e];a&&window.open(a,"_blank","noopener,noreferrer");const i=Es.findIndex(s=>s.platformId===e);i>=0&&i<Es.length-1?Ds(Es[i+1]):(Ds(null),$s([]),r({title:"æ‰¹é‡è½¬å‘å®Œæˆ",description:"å·²å®Œæˆæ‰€æœ‰å¹³å°çš„è½¬å‘"}))},children:"è·³è½¬å¹¶å‘å¸ƒ"})]})]})}),e.jsx(os,{open:Bs,onOpenChange:Fs,children:e.jsxs(xs,{className:"max-w-2xl",children:[e.jsx(hs,{children:e.jsx(ps,{children:"è½¬å‘å†å²"})}),e.jsx("div",{className:"py-2 text-gray-700 max-h-[60vh] overflow-auto",children:0===Js.length?e.jsx("div",{className:"text-center text-gray-400 py-8",children:"æš‚æ— è½¬å‘å†å²"}):e.jsx("div",{className:"space-y-4",children:Js.map(s=>e.jsxs("div",{className:"border rounded p-2 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-bold text-blue-600",children:s.platformName}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(s.time).toLocaleString()})]}),e.jsx("div",{className:"text-xs break-all mb-1",children:s.content}),e.jsx(L,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(s.content),children:"å¤åˆ¶å†…å®¹"})]},s.id))})}),e.jsxs(us,{children:[e.jsx(L,{variant:"outline",onClick:()=>{localStorage.removeItem("shareHistory"),Rs([]),r({title:"å·²æ¸…ç©º",description:"è½¬å‘å†å²å·²æ¸…ç©º"})},disabled:0===Js.length,children:"æ¸…ç©ºå†å²"}),e.jsx(L,{variant:"default",onClick:()=>Fs(!1),children:"å…³é—­"})]})]})}),e.jsx(ys,{open:_s,onOpenChange:Hs}),e.jsx(Is,{isOpen:Z,onClose:()=>ee(!1),onUpgrade:()=>{ee(!1),i("/payment")},remainingCount:se,userType:"trial"===$?"trial":"pro"}),e.jsx(ks,{isOpen:ie,onClose:()=>le(!1),onUpgrade:()=>{le(!1),i("/payment")},featureName:oe.name,featureDescription:oe.description})]})}},Symbol.toStringTag,{value:"Module"}));export{Ts as A,_e as B,rs as C,os as D,gs as I,Ve as L,Ge as S,He as T,cs as a,xs as b,hs as c,ps as d,qe as e,Ke as f,Ze as g,Qe as h,Ye as i,es as j,ss as k,ts as l,fs as m,us as n,as as o,Be as p};
