import{r as e,w as o,y as r,j as t,R as n,b as a,x as s,u as i,P as d,e as c,A as l,d as p,z as u,a7 as f,a8 as v,a9 as h,aa as g,ab as m,D as x,E as P,I as C,h as O}from"./index-CqEx2ZQ2.js";var w="Popover",[b,j]=a(w,[o]),R=o(),[_,y]=b(w),A=o=>{const{__scopePopover:a,children:i,open:d,defaultOpen:c,onOpenChange:l,modal:p=!1}=o,u=R(a),f=e.useRef(null),[v,h]=e.useState(!1),[g,m]=r({prop:d,defaultProp:c??!1,onChange:l,caller:w});return t.jsx(n,{...u,children:t.jsx(_,{scope:a,contentId:s(),triggerRef:f,open:g,onOpenChange:m,onOpenToggle:e.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:v,onCustomAnchorAdd:e.useCallback(()=>h(!0),[]),onCustomAnchorRemove:e.useCallback(()=>h(!1),[]),modal:p,children:i})})};A.displayName=w;var F="PopoverAnchor";e.forwardRef((o,r)=>{const{__scopePopover:n,...a}=o,s=y(F,n),i=R(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:c}=s;return e.useEffect(()=>(d(),()=>c()),[d,c]),t.jsx(l,{...i,...a,ref:r})}).displayName=F;var D="PopoverTrigger",E=e.forwardRef((e,o)=>{const{__scopePopover:r,...n}=e,a=y(D,r),s=R(r),p=i(o,a.triggerRef),u=t.jsx(d.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":B(a.open),...n,ref:p,onClick:c(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?u:t.jsx(l,{asChild:!0,...s,children:u})});E.displayName=D;var N="PopoverPortal",[k,I]=b(N,{forceMount:void 0}),M=e=>{const{__scopePopover:o,forceMount:r,children:n,container:a}=e,s=y(N,o);return t.jsx(k,{scope:o,forceMount:r,children:t.jsx(p,{present:r||s.open,children:t.jsx(u,{asChild:!0,container:a,children:n})})})};M.displayName=N;var z="PopoverContent",K=e.forwardRef((e,o)=>{const r=I(z,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=y(z,e.__scopePopover);return t.jsx(p,{present:n||s.open,children:s.modal?t.jsx(S,{...a,ref:o}):t.jsx(U,{...a,ref:o})})});K.displayName=z;var T=h("PopoverContent.RemoveScroll"),S=e.forwardRef((o,r)=>{const n=y(z,o.__scopePopover),a=e.useRef(null),s=i(r,a),d=e.useRef(!1);return e.useEffect(()=>{const e=a.current;if(e)return f(e)},[]),t.jsx(v,{as:T,allowPinchZoom:!0,children:t.jsx(Z,{...o,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:c(o.onCloseAutoFocus,e=>{var o;e.preventDefault(),d.current||null==(o=n.triggerRef.current)||o.focus()}),onPointerDownOutside:c(o.onPointerDownOutside,e=>{const o=e.detail.originalEvent,r=0===o.button&&!0===o.ctrlKey,t=2===o.button||r;d.current=t},{checkForDefaultPrevented:!1}),onFocusOutside:c(o.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),U=e.forwardRef((o,r)=>{const n=y(z,o.__scopePopover),a=e.useRef(!1),s=e.useRef(!1);return t.jsx(Z,{...o,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var r,t;null==(r=o.onCloseAutoFocus)||r.call(o,e),e.defaultPrevented||(a.current||null==(t=n.triggerRef.current)||t.focus(),e.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:e=>{var r,t;null==(r=o.onInteractOutside)||r.call(o,e),e.defaultPrevented||(a.current=!0,"pointerdown"===e.detail.originalEvent.type&&(s.current=!0));const i=e.target;(null==(t=n.triggerRef.current)?void 0:t.contains(i))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&s.current&&e.preventDefault()}})}),Z=e.forwardRef((e,o)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:p,...u}=e,f=y(z,r),v=R(r);return g(),t.jsx(m,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:t.jsx(x,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:t.jsx(P,{"data-state":B(f.open),role:"dialog",id:f.contentId,...v,...u,ref:o,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),q="PopoverClose";function B(e){return e?"open":"closed"}e.forwardRef((e,o)=>{const{__scopePopover:r,...n}=e,a=y(q,r);return t.jsx(d.button,{type:"button",...n,ref:o,onClick:c(e.onClick,()=>a.onOpenChange(!1))})}).displayName=q,e.forwardRef((e,o)=>{const{__scopePopover:r,...n}=e,a=R(r);return t.jsx(C,{...a,...n,ref:o})}).displayName="PopoverArrow";var G=M,H=K;const J=A,L=E,Q=e.forwardRef(({className:e,align:o="center",sideOffset:r=4,...n},a)=>t.jsx(G,{children:t.jsx(H,{ref:a,align:o,sideOffset:r,className:O("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));Q.displayName=H.displayName;export{J as P,L as a,Q as b};
