import{j as s}from"./ui-core-BoM6Gtru.js";import{B as e,C as a,a as l,b as i,d as c,e as r}from"./pages-home-J00GHGYh.js";import{B as n}from"./pages-adapt-BKtjfSjY.js";import{S as d}from"./pages-hot-topics-DI0wSdlF.js";import{u as t,a as x}from"./useAuthingStatus-BNjsHLA2.js";import{u as m}from"./router-CDHmMMQ-.js";import{aL as h,o as j,ad as o,C as p,ap as g,U as u,n as N,aR as b,aT as f}from"./utils-Ck01-_Du.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-BjAIff2f.js";import"./components-layout-BOOBlVt3.js";import"./pages-brand-B_1hjexF.js";import"./api-services-Cf__elYu.js";import"./pages-content-extractor-BD6GTgOD.js";import"./components-auth-Csho6eHK.js";function v(){const v=m(),{isLoggedIn:w,user:y,loading:k,error:C,checkStatus:S,getUserInfo:A,login:L,logout:H,refreshUser:I}=t({autoCheck:!0,redirectUri:"/authing-status-test",enableSecurityLog:!0}),U=x();return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(e,{variant:"ghost",onClick:()=>{v(-1)},className:"mb-4",children:[s.jsx(h,{className:"w-4 h-4 mr-2"}),"返回"]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Authing状态检查测试"}),s.jsx("p",{className:"text-gray-600",children:"测试useAuthingStatus Hook的功能和状态管理"})]}),s.jsxs(a,{className:"mb-8",children:[s.jsxs(l,{children:[s.jsxs(i,{className:"flex items-center gap-2",children:[s.jsx(j,{className:"w-5 h-5"}),"当前状态概览"]}),s.jsx(c,{children:"实时显示Authing登录状态和用户信息"})]}),s.jsx(r,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k?s.jsx(o,{className:"w-4 h-4 animate-spin text-blue-600"}):w?s.jsx(p,{className:"w-4 h-4 text-green-600"}):s.jsx(g,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"登录状态"})]}),s.jsx(n,{variant:w?"default":"secondary",children:k?"检查中...":w?"已登录":"未登录"})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(u,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-900",children:"用户信息"})]}),s.jsx("p",{className:"text-sm text-green-700",children:k?"加载中...":y?`${y.nickname} (${y.username})`:"未获取"})]}),s.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(g,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"font-medium text-red-900",children:"错误状态"})]}),s.jsx("p",{className:"text-sm text-red-700",children:C||"无错误"})]})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(j,{className:"w-5 h-5 text-blue-600"}),"完整Hook功能测试"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(a,{children:[s.jsxs(l,{children:[s.jsx(i,{children:"状态检查操作"}),s.jsx(c,{children:"手动触发各种状态检查操作"})]}),s.jsxs(r,{className:"space-y-3",children:[s.jsxs(e,{onClick:S,disabled:k,className:"w-full",children:[k?s.jsx(o,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(N,{className:"w-4 h-4 mr-2"}),"检查登录状态"]}),s.jsxs(e,{onClick:A,disabled:k||!w,variant:"outline",className:"w-full",children:[s.jsx(u,{className:"w-4 h-4 mr-2"}),"获取用户信息"]}),s.jsxs(e,{onClick:I,disabled:k||!w,variant:"outline",className:"w-full",children:[s.jsx(N,{className:"w-4 h-4 mr-2"}),"刷新用户信息"]})]})]}),s.jsxs(a,{children:[s.jsxs(l,{children:[s.jsx(i,{children:"登录登出操作"}),s.jsx(c,{children:"测试登录和登出功能"})]}),s.jsxs(r,{className:"space-y-3",children:[s.jsxs(e,{onClick:()=>L(),disabled:k||w,className:"w-full",children:[s.jsx(b,{className:"w-4 h-4 mr-2"}),"登录"]}),s.jsxs(e,{onClick:H,disabled:k||!w,variant:"destructive",className:"w-full",children:[s.jsx(f,{className:"w-4 h-4 mr-2"}),"登出"]}),s.jsxs(e,{onClick:()=>L("/user-profile"),disabled:k||w,variant:"outline",className:"w-full",children:[s.jsx(b,{className:"w-4 h-4 mr-2"}),"登录后跳转到用户信息页"]})]})]})]})]}),s.jsx(d,{className:"my-8"}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5 text-green-600"}),"简化Hook对比"]}),s.jsxs(a,{children:[s.jsxs(l,{children:[s.jsx(i,{children:"useSimpleAuthingStatus Hook"}),s.jsx(c,{children:"基于您提供的代码逻辑实现的简化版本"})]}),s.jsx(r,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[U.loading?s.jsx(o,{className:"w-4 h-4 animate-spin text-purple-600"}):U.isLoggedIn?s.jsx(p,{className:"w-4 h-4 text-green-600"}):s.jsx(g,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"font-medium text-purple-900",children:"简化Hook状态"})]}),s.jsx(n,{variant:U.isLoggedIn?"default":"secondary",children:U.loading?"检查中...":U.isLoggedIn?"已登录":"未登录"})]}),s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(u,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-purple-900",children:"简化Hook用户"})]}),s.jsx("p",{className:"text-sm text-purple-700",children:U.loading?"加载中...":U.user?`${U.user.nickname||U.user.username}`:"未获取"})]}),s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(N,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-purple-900",children:"自动跳转"})]}),s.jsx("p",{className:"text-sm text-purple-700",children:U.loading?"检查中...":U.isLoggedIn?"已登录":"未登录时自动跳转"})]})]})})]})]}),s.jsx(d,{className:"my-8"}),y&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5 text-blue-600"}),"用户信息详情"]}),s.jsxs(a,{children:[s.jsxs(l,{children:[s.jsx(i,{children:"当前用户信息"}),s.jsx(c,{children:"从Authing获取的完整用户信息"})]}),s.jsx(r,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"基本信息"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"用户ID:"}),s.jsx("p",{className:"font-mono bg-gray-100 p-1 rounded",children:y.id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"用户名:"}),s.jsx("p",{children:y.username})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"昵称:"}),s.jsx("p",{children:y.nickname})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"邮箱:"}),s.jsx("p",{children:y.email||"未设置"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"手机号:"}),s.jsx("p",{children:y.phone||"未设置"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"时间信息"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"创建时间:"}),s.jsx("p",{children:new Date(y.createdAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"更新时间:"}),s.jsx("p",{children:new Date(y.updatedAt).toLocaleString()})]})]})]})]})})]})]}),s.jsxs(a,{children:[s.jsxs(l,{children:[s.jsx(i,{children:"功能特性"}),s.jsx(c,{children:"useAuthingStatus Hook的主要功能和特性"})]}),s.jsx(r,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"核心功能"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:"• 自动检查登录状态"}),s.jsx("li",{children:"• 获取用户信息"}),s.jsx("li",{children:"• 登录/登出操作"}),s.jsx("li",{children:"• 刷新用户信息"}),s.jsx("li",{children:"• 错误处理"}),s.jsx("li",{children:"• 加载状态管理"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"安全特性"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:"• 安全日志记录"}),s.jsx("li",{children:"• 错误日志追踪"}),s.jsx("li",{children:"• 用户行为监控"}),s.jsx("li",{children:"• 状态验证"}),s.jsx("li",{children:"• 安全的跳转机制"}),s.jsx("li",{children:"• 防重复操作"})]})]})]})})]})]})}export{v as default};
