import{j as e}from"./ui-core-BoM6Gtru.js";import{r as s}from"./router-CDHmMMQ-.js";import{C as a,a as r,b as t,e as l,B as c}from"./pages-home-DBDkeS6P.js";import{B as m,L as i,I as n}from"./pages-adapt-D91yLQsN.js";import{c as d}from"./creemClientService-DNWMJNoV.js";import{ad as o,p as x,C as p}from"./utils-Ck01-_Du.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-B0lu_Zdo.js";import"./components-layout-GdDGmkJW.js";import"./pages-brand-Y2nduvKa.js";import"./api-services-sC6AUvc1.js";import"./pages-content-extractor-UQ_Zkhev.js";import"./components-auth-BdwTK_yH.js";import"./browser-C5-Pn058.js";function j(){const[j,h]=s.useState(!1),[u,g]=s.useState(null),[N,f]=s.useState(null),[v,b]=s.useState("prod_3nJOuQeVStqkp6JaDcrKHf"),[y,C]=s.useState("test@example.com");return e.jsx("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:["🧪 简单Creem API测试",e.jsx(m,{variant:"secondary",children:"快速验证"})]}),e.jsx("p",{className:"text-muted-foreground",children:"快速测试Creem API是否正常工作"})]}),e.jsxs(l,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"priceId",children:"价格ID"}),e.jsx(n,{id:"priceId",value:v,onChange:e=>b(e.target.value),placeholder:"输入Creem价格ID",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"customerEmail",children:"客户邮箱"}),e.jsx(n,{id:"customerEmail",type:"email",value:y,onChange:e=>C(e.target.value),placeholder:"customer@example.com",className:"mt-1"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(c,{onClick:async()=>{h(!0),g(null),f(null);try{const e=await d(v,y);g(e)}catch(e){f(e.message||"未知错误")}finally{h(!1)}},disabled:j,size:"lg",className:"min-w-[200px]",children:j?e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"h-5 w-5 mr-2 animate-spin"}),"测试中..."]}):"测试Creem API"})}),N&&e.jsx(a,{className:"border-red-200 bg-red-50",children:e.jsxs(l,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(x,{className:"h-5 w-5 text-red-600"}),e.jsx("h3",{className:"font-medium text-red-900",children:"测试失败"})]}),e.jsx("p",{className:"text-red-700 text-sm",children:N})]})}),u&&e.jsx(a,{className:"border-green-200 bg-green-50",children:e.jsxs(l,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(p,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"font-medium text-green-900",children:"测试成功"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"成功:"})," ",u.success?"是":"否"]}),u.url&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"支付URL:"})," ",u.url]}),u.checkout&&e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-green-700 font-medium",children:"查看完整响应数据"}),e.jsx("pre",{className:"mt-2 p-3 bg-white rounded border text-xs overflow-auto",children:JSON.stringify(u.checkout,null,2)})]})]})]})}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"使用说明"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[e.jsx("p",{children:"• 输入有效的Creem价格ID（如：prod_3nJOuQeVStqkp6JaDcrKHf）"}),e.jsx("p",{children:"• 输入客户邮箱（可选，但推荐填写）"}),e.jsx("p",{children:'• 点击"测试Creem API"按钮'}),e.jsx("p",{children:"• 查看测试结果和响应数据"})]})]})]})]})})}export{j as default};
