import{r as e,u as s,j as a,B as i,ae as r,_ as l,aW as c,C as d,e as t,f as n,g as m,i as x,L as o,T as p,a as h,b as j,d as u}from"./index-BuR5xlXm.js";import{I as f}from"./input-DXKrnJBr.js";import{S as N}from"./separator-CMY9eZD-.js";import{A as v}from"./AlipayQRCode-DJxkOHJh.js";import{r as g}from"./creemClientService-CRnFWG6U.js";import{C as b}from"./credit-card-CMjqDMcN.js";import{E as y}from"./external-link-Bk1fLpvj.js";import"./smartphone-SbHUnXyW.js";import"./browser-Il7jAgTf.js";function I({priceId:l,customerEmail:c,children:d="ç«‹å³æ”¯ä»˜",variant:t="default",size:n="default",className:m="",disabled:x=!1,showIcon:o=!0}){const[p,h]=e.useState(!1),{toast:j}=s();return a.jsx(i,{onClick:async()=>{if(l){h(!0);try{await g(l,c),j({title:"æ­£åœ¨è·³è½¬",description:"æ­£åœ¨è·³è½¬åˆ°æ”¯ä»˜é¡µé¢..."})}catch(e){j({title:"æ”¯ä»˜å¤±è´¥",description:e.message||"æ— æ³•è·³è½¬åˆ°æ”¯ä»˜é¡µé¢ï¼Œè¯·ç¨åé‡è¯•",variant:"destructive"})}finally{h(!1)}}else j({title:"é”™è¯¯",description:"äº§å“IDä¸èƒ½ä¸ºç©º",variant:"destructive"})},variant:t,size:n,className:m,disabled:x||p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(r,{className:"w-4 h-4 mr-2 animate-spin"}),"å¤„ç†ä¸­..."]}):a.jsxs(a.Fragment,{children:[o&&a.jsx(b,{className:"w-4 h-4 mr-2"}),d,o&&a.jsx(y,{className:"w-4 h-4 ml-2"})]})})}function C(){const[s,r]=e.useState("prod_3nJOuQeVStqkp6JaDcrKHf"),[g,b]=e.useState(""),[y,C]=e.useState(!1),{user:w}=l();return c.useEffect(()=>{(null==w?void 0:w.email)&&!g&&b(w.email)},[w,g]),a.jsx("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:a.jsxs(d,{children:[a.jsxs(t,{children:[a.jsxs(n,{className:"flex items-center gap-2",children:["ğŸ’³ å®Œæ•´æ”¯ä»˜æµç¨‹æµ‹è¯•",a.jsx(m,{variant:"secondary",children:"Creemæ”¯ä»˜"})]}),a.jsx("p",{className:"text-muted-foreground",children:"æµ‹è¯•Creemæ”¯ä»˜çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬äºŒç»´ç æ”¯ä»˜å’Œè·³è½¬æ”¯ä»˜"})]}),a.jsxs(x,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"é€‰æ‹©äº§å“"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"pro-monthly",name:"ä¸“ä¸šç‰ˆæœˆä»˜",priceId:"prod_3nJOuQeVStqkp6JaDcrKHf",price:29,description:"é€‚åˆä¸ªäººç”¨æˆ·ä½¿ç”¨"},{id:"pro-yearly",name:"ä¸“ä¸šç‰ˆå¹´ä»˜",priceId:"prod_5qBlDTLpD3h9gvOZFd4Rgu",price:288,description:"å¹´ä»˜äº«å—æ›´å¤šä¼˜æƒ ï¼Œæ¯”æœˆä»˜çœ80å…ƒ"},{id:"premium-monthly",name:"é«˜çº§ç‰ˆæœˆä»˜",priceId:"prod_4HYBfvrcbXYnbxjlswMj28",price:79,description:"é«˜çº§ç‰ˆæœˆä»˜è®¢é˜…"},{id:"premium-yearly",name:"é«˜çº§ç‰ˆå¹´ä»˜",priceId:"prod_6OfIoVnRg2pXsuYceVKOYk",price:788,description:"å¹´ä»˜äº«å—æ›´å¤šä¼˜æƒ ï¼Œæ¯”æœˆä»˜çœ202å…ƒ"}].map(e=>a.jsx(d,{className:"p-4 cursor-pointer transition-colors "+(s===e.priceId?"border-blue-500 bg-blue-50":"hover:border-gray-300"),onClick:()=>{return s=e.priceId,r(s),void C(!1);var s},children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),a.jsx(m,{variant:"outline",className:"text-lg px-3 py-1",children:e.price})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:e.priceId}),s===e.priceId&&a.jsx(m,{variant:"default",className:"mt-1",children:"å·²é€‰æ‹©"})]})]})},e.priceId))})]}),a.jsxs("div",{children:[a.jsx(o,{htmlFor:"customerEmail",children:"å®¢æˆ·é‚®ç®±"}),a.jsx(f,{id:"customerEmail",type:"email",placeholder:"customer@example.com",value:g,onChange:e=>b(e.target.value),className:"mt-2"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ç”¨äºæ”¯ä»˜é€šçŸ¥å’Œè®¢å•ç¡®è®¤"})]}),a.jsxs(p,{defaultValue:"redirect",className:"w-full",children:[a.jsxs(h,{className:"grid w-full grid-cols-2",children:[a.jsx(j,{value:"redirect",children:"è·³è½¬æ”¯ä»˜"}),a.jsx(j,{value:"qrcode",children:"äºŒç»´ç æ”¯ä»˜"})]}),a.jsx(u,{value:"redirect",className:"space-y-4",children:a.jsx(d,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"è·³è½¬åˆ°Creemæ”¯ä»˜é¡µé¢"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"ç‚¹å‡»æ”¯ä»˜æŒ‰é’®åï¼Œå°†è·³è½¬åˆ°Creemçš„æ”¯ä»˜é¡µé¢å®Œæˆæ”¯ä»˜"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h5",{className:"font-medium mb-2",children:"å½“å‰é…ç½®"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"ä»·æ ¼ID:"})," ",s]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"å®¢æˆ·é‚®ç®±:"})," ",g||"æœªè®¾ç½®"]})]})]}),a.jsx("div",{className:"flex gap-4",children:a.jsx(I,{priceId:s,customerEmail:g||void 0,className:"flex-1",size:"lg",children:"è·³è½¬åˆ°æ”¯ä»˜é¡µé¢"})})]})})}),a.jsx(u,{value:"qrcode",className:"space-y-4",children:a.jsx(d,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"æ‰«ç æ”¯ä»˜"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"ç”Ÿæˆæ”¯ä»˜å®äºŒç»´ç ï¼Œä½¿ç”¨æ‰‹æœºæ‰«ç å®Œæˆæ”¯ä»˜"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(i,{onClick:()=>{C(!0)},className:"flex-1",size:"lg",children:"ç”Ÿæˆæ”¯ä»˜äºŒç»´ç "}),a.jsx(i,{variant:"outline",onClick:()=>C(!1),children:"éšè—äºŒç»´ç "})]}),y&&s&&a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h5",{className:"font-medium mb-4",children:"æ”¯ä»˜äºŒç»´ç "}),a.jsx("div",{className:"flex justify-center",children:a.jsx(v,{priceId:s,customerEmail:g||void 0,title:"ä½¿ç”¨æ”¯ä»˜å®æ‰«ç ä»˜æ¬¾",showPrice:!0,onRefresh:()=>{}})})]})]})})})]}),a.jsx(N,{}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"æ”¯ä»˜æµç¨‹è¯´æ˜"}),a.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-medium",children:"1."}),a.jsx("span",{children:"é€‰æ‹©äº§å“å’Œæ”¯ä»˜æ–¹å¼"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-medium",children:"2."}),a.jsx("span",{children:"å¡«å†™å®¢æˆ·é‚®ç®±ï¼ˆç”¨äºæ”¯ä»˜é€šçŸ¥ï¼‰"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-medium",children:"3."}),a.jsx("span",{children:"ç‚¹å‡»æ”¯ä»˜æŒ‰é’®æˆ–æ‰«æäºŒç»´ç "})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-medium",children:"4."}),a.jsx("span",{children:"åœ¨Creemæ”¯ä»˜é¡µé¢å®Œæˆæ”¯ä»˜"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-medium",children:"5."}),a.jsx("span",{children:"æ”¯ä»˜æˆåŠŸåè‡ªåŠ¨è¿”å›å¹¶æ¿€æ´»æœåŠ¡"})]})]})]})]})]})})}export{C as default};
