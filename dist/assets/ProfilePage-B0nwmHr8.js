import{c as e,i as s,t as a,r as l,j as i,n as t,B as r,ai as c,aj as n,ak as d,p as m,T as o,s as x}from"./index-CqEx2ZQ2.js";import{C as h,a as j,b as p,c as v,d as g}from"./card-DrUj54Xk.js";import{B as u}from"./badge-CY8ouemD.js";import{I as N}from"./input-CrmJOG1J.js";import{L as f}from"./label-7gl6F879.js";import{S as b}from"./separator-BUmw8N0j.js";import{P as w}from"./PageNavigation-D2O4Qkdm.js";import{I as y}from"./info-F2_x9WlH.js";import{U as k}from"./upload-KPy_Dsha.js";import{C}from"./crown-Bb8YyAK7.js";import{S}from"./save-M8A5BkI7.js";import{G as L}from"./gift-r9ukEm5s.js";import{A as T}from"./award-C6KUA7Yv.js";import{C as A}from"./copy-HXuvyyMP.js";import"./zap-CKqZoK8L.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=e("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),I=e("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function U(){var e,U;const{user:$,isAuthenticated:B,logout:D}=s(),{toast:F}=a(),[G,H]=l.useState(!1),[M,P]=l.useState({nickname:(null==$?void 0:$.nickname)||(null==$?void 0:$.username)||"",phone:(null==$?void 0:$.phone)||"",email:(null==$?void 0:$.email)||"",avatar:(null==$?void 0:$.avatar)||""}),_={userId:"temp_1752390537259_3180",accountType:"体验版",availableUses:10,tokenLimit:1e5,usedTokens:25e3,usedCount:3,registrationDate:"2025/7/12",timeSaved:45,contentGenerated:3};if(!B||!$)return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(w,{title:"个人中心",description:"管理您的账户信息和设置",showAdaptButton:!1}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(h,{className:"max-w-md mx-auto",children:[i.jsxs(j,{children:[i.jsxs(p,{className:"flex items-center gap-2",children:[i.jsx(t,{className:"w-5 h-5"}),"请先登录"]}),i.jsx(v,{children:"登录后可以查看和管理您的个人中心"})]}),i.jsx(g,{children:i.jsx(r,{className:"w-full",onClick:()=>window.location.href="/",children:"返回首页"})})]})})]});const q=(e,s)=>{P(a=>({...a,[e]:s})),H(!0)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[i.jsx(w,{title:"个人中心",description:"管理您的账户信息和设置",showAdaptButton:!1}),G&&i.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(y,{className:"h-5 w-5 text-amber-400 mr-3"}),i.jsx("p",{className:"text-sm text-amber-700",children:"您有未保存的更改，请点击保存按钮"})]})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsx(h,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:i.jsx(g,{className:"p-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[i.jsxs("div",{className:"text-center md:text-left",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsxs(c,{className:"w-24 h-24 border-4 border-white/20",children:[i.jsx(n,{src:M.avatar?M.avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${M.nickname||$.username}`,alt:M.nickname}),i.jsx(d,{className:"text-2xl bg-white/20 text-white",children:(null==(e=M.nickname)?void 0:e.charAt(0))||(null==(U=$.username)?void 0:U.charAt(0))||"U"})]}),i.jsx("div",{className:"absolute -bottom-2 -right-2",children:i.jsx(r,{size:"sm",variant:"secondary",className:"w-8 h-8 rounded-full p-0",onClick:()=>{const e=`https://api.dicebear.com/7.x/initials/svg?seed=${Math.random().toString(36).substring(7)}`;P(s=>({...s,avatar:e})),H(!0),F({title:"头像已更新",description:"已生成新的随机头像"})},children:i.jsx(m,{className:"w-4 h-4"})})})]}),i.jsx("div",{className:"mt-4 space-y-2",children:i.jsxs(r,{variant:"outline",size:"sm",onClick:()=>{F({title:"功能开发中",description:"头像上传功能即将上线"})},className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[i.jsx(k,{className:"w-4 h-4 mr-2"}),"上传头像"]})})]}),i.jsxs("div",{className:"flex-1 text-center md:text-left",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:M.nickname||$.username||"用户"}),i.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start mb-4",children:[i.jsxs(u,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:[i.jsx(C,{className:"w-3 h-3 mr-1"}),_.accountType]}),i.jsxs(u,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:[i.jsx(z,{className:"w-3 h-3 mr-1"}),_.usedCount,"/",_.availableUses," 次使用"]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-white/70",children:"用户ID"}),i.jsx("div",{className:"font-mono",children:_.userId})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white/70",children:"注册时间"}),i.jsx("div",{children:_.registrationDate})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white/70",children:"Token使用"}),i.jsxs("div",{children:[_.usedTokens.toLocaleString(),"/",_.tokenLimit.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white/70",children:"已节省时间"}),i.jsxs("div",{children:[_.timeSaved,"分钟"]})]})]})]})]})})})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(h,{className:"h-full flex flex-col",children:[i.jsxs(j,{children:[i.jsxs(p,{className:"flex items-center gap-2",children:[i.jsx(t,{className:"w-5 h-5"}),"个人资料"]}),i.jsx(v,{children:"管理您的个人信息"})]}),i.jsxs(g,{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{children:[i.jsx(f,{htmlFor:"nickname",children:"昵称"}),i.jsx(N,{id:"nickname",value:M.nickname,onChange:e=>q("nickname",e.target.value),placeholder:"请输入昵称",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(f,{htmlFor:"phone",children:"手机号"}),i.jsx(N,{id:"phone",value:M.phone,onChange:e=>q("phone",e.target.value),placeholder:"请输入手机号",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(f,{htmlFor:"email",children:"邮箱"}),i.jsx(N,{id:"email",type:"email",value:M.email,onChange:e=>q("email",e.target.value),placeholder:"请输入邮箱",className:"mt-1"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"首次验证奖励: 完成邮箱验证可获10次免费使用"})]})]}),i.jsx(b,{className:"my-6"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(r,{onClick:()=>{F({title:"保存成功",description:"个人资料已更新"}),H(!1)},className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",disabled:!G,children:[i.jsx(S,{className:"w-4 h-4 mr-2"}),"保存更改"]}),i.jsxs(r,{variant:"outline",className:"w-full",onClick:async()=>{try{await D(),F({title:"登出成功",description:"您已成功登出账户"})}catch(e){F({title:"登出失败",description:"请稍后重试",variant:"destructive"})}},children:[i.jsx(I,{className:"w-4 h-4 mr-2"}),"退出登录"]})]})]})]})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(h,{className:"h-full flex flex-col",children:[i.jsxs(j,{children:[i.jsxs(p,{className:"flex items-center gap-2",children:[i.jsx(o,{className:"w-5 h-5"}),"使用统计"]}),i.jsx(v,{children:"查看您的使用情况"})]}),i.jsxs(g,{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex-1 space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"使用次数"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[_.usedCount,"/",_.availableUses]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:_.usedCount/_.availableUses*100+"%"}})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Token使用量"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[_.usedTokens.toLocaleString(),"/",_.tokenLimit.toLocaleString()]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-2 rounded-full transition-all duration-300",style:{width:_.usedTokens/_.tokenLimit*100+"%"}})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_.timeSaved}),i.jsx("div",{className:"text-sm text-purple-600",children:"分钟节省"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.contentGenerated}),i.jsx("div",{className:"text-sm text-green-600",children:"内容生成"})]})]})]}),i.jsxs(r,{className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white mt-6",children:[i.jsx(C,{className:"w-4 h-4 mr-2"}),"解锁高级功能"]})]})]})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(h,{className:"h-full flex flex-col",children:[i.jsxs(j,{children:[i.jsxs(p,{className:"flex items-center gap-2",children:[i.jsx(L,{className:"w-5 h-5"}),"邀请奖励"]}),i.jsx(v,{children:"邀请好友获得免费次数"})]}),i.jsxs(g,{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex-1 space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-4 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(T,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"font-semibold text-blue-800",children:"邀请奖励规则"})]}),i.jsx("p",{className:"text-sm text-blue-700",children:"每邀请1人注册，双方各得20次免费使用机会，永久有效！"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-xl font-bold text-gray-800",children:"0"}),i.jsx("div",{className:"text-sm text-gray-600",children:"成功邀请"})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-xl font-bold text-gray-800",children:"0"}),i.jsx("div",{className:"text-sm text-gray-600",children:"获得次数"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(f,{children:"邀请链接"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(N,{value:`${window.location.origin}?ref=${_.userId}`,readOnly:!0,className:"text-xs"}),i.jsx(r,{variant:"outline",size:"sm",onClick:()=>{const e=`${window.location.origin}?ref=${_.userId}`;navigator.clipboard.writeText(e),F({title:"邀请链接已复制",description:"链接已复制到剪贴板"})},children:i.jsx(A,{className:"w-4 h-4"})})]})]})]}),i.jsxs(r,{className:"w-full bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white mt-6",children:[i.jsx(x,{className:"w-4 h-4 mr-2"}),"立即邀请好友"]})]})]})})]})]})]})}export{U as default};
