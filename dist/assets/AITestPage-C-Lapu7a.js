import{j as s}from"./ui-core-CAB0i5kI.js";import{r as e}from"./router-CDHmMMQ-.js";import{C as a,a as t,b as n,d as r,e as l,B as c}from"./pages-home-BHK5UR8N.js";import{T as i,B as d}from"./pages-adapt-DD3tr1QX.js";import{A as m,a as o}from"./pages-brand-B7FvO9nG.js";import{A as x}from"./api-services-K45L-h6x.js";import{d as h,ad as j,a7 as u,C as p,p as g}from"./utils-yUmPvHGu.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-vwQhqdDC.js";import"./components-layout-Bl-K3hGA.js";import"./components-auth-LnNXSgJg.js";const N=()=>{const[N,f]=e.useState(""),[v,y]=e.useState(!1),[w,b]=e.useState(null),[A,C]=e.useState(null),[I,S]=e.useState([]),D=x.getInstance();return s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI功能测试"}),s.jsx("p",{className:"text-muted-foreground",children:"测试品牌资料分析功能的各项能力"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(a,{children:[s.jsxs(t,{children:[s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(h,{className:"h-5 w-5"}),"内容输入"]}),s.jsx(r,{children:"输入要分析的品牌资料内容"})]}),s.jsxs(l,{className:"space-y-4",children:[s.jsx(i,{placeholder:"请输入品牌资料内容，例如：我们是一个专注于用户体验的科技公司，致力于为用户提供简单易用的产品...",value:N,onChange:s=>f(s.target.value),rows:6}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(c,{onClick:async()=>{if(N.trim()){y(!0),C(null),b(null);try{const s=Date.now(),e=await D.analyzeBrandContent(N),a=Date.now()-s;b(e),S(s=>[...s,{test:"品牌资料分析",status:"success",message:`分析完成，耗时 ${a}ms`,duration:a}])}catch(s){const e=s instanceof Error?s.message:"未知错误";C(e),S(s=>[...s,{test:"品牌资料分析",status:"error",message:e}])}finally{y(!1)}}else C("请输入要分析的内容")},disabled:v||!N.trim(),className:"flex-1",children:v?s.jsxs(s.Fragment,{children:[s.jsx(j,{className:"h-4 w-4 mr-2 animate-spin"}),"分析中..."]}):s.jsxs(s.Fragment,{children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"开始分析"]})}),s.jsx(c,{variant:"outline",onClick:async()=>{S([]),S(s=>[...s,{test:"API连接测试",status:"pending",message:"正在测试..."}]);try{const s=Date.now();await new Promise(s=>setTimeout(s,500));const e=Date.now()-s;S(s=>s.map(s=>"API连接测试"===s.test?{...s,status:"success",message:`连接成功，耗时 ${e}ms`,duration:e}:s))}catch(s){S(s=>s.map(s=>"API连接测试"===s.test?{...s,status:"error",message:"连接失败"}:s))}S(s=>[...s,{test:"简单内容分析",status:"pending",message:"正在分析..."}]);try{const s=Date.now(),e="我们是一个专注于用户体验的科技公司，致力于为用户提供简单易用的产品。",a=await D.analyzeBrandContent(e),t=Date.now()-s;S(s=>s.map(s=>"简单内容分析"===s.test?{...s,status:"success",message:`分析成功，提取到 ${a.keywords.length} 个关键词`,duration:t}:s))}catch(s){S(s=>s.map(s=>"简单内容分析"===s.test?{...s,status:"error",message:"分析失败"}:s))}S(s=>[...s,{test:"文件类型支持",status:"pending",message:"正在检查..."}]);try{const s=D.getSupportedFileTypes();S(e=>e.map(e=>"文件类型支持"===e.test?{...e,status:"success",message:`支持 ${s.length} 种文件类型`}:e))}catch(s){S(s=>s.map(s=>"文件类型支持"===s.test?{...s,status:"error",message:"检查失败"}:s))}},disabled:v,children:"运行测试套件"})]})]})]}),s.jsxs(a,{children:[s.jsxs(t,{children:[s.jsx(n,{children:"测试结果"}),s.jsx(r,{children:"功能测试的执行结果"})]}),s.jsxs(l,{children:[0===I.length?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"暂无测试结果，点击上方按钮开始测试"}):s.jsx("div",{className:"space-y-3",children:I.map((e,a)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["success"===e.status&&s.jsx(p,{className:"h-4 w-4 text-green-500"}),"error"===e.status&&s.jsx(g,{className:"h-4 w-4 text-red-500"}),"pending"===e.status&&s.jsx(j,{className:"h-4 w-4 animate-spin text-blue-500"}),s.jsx("span",{className:"font-medium",children:e.test})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm",children:e.message}),e.duration&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.duration,"ms"]})]})]},a))}),I.length>0&&s.jsx(c,{variant:"outline",onClick:()=>{b(null),C(null),S([])},className:"w-full mt-4",children:"清空结果"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[A&&s.jsxs(m,{variant:"destructive",children:[s.jsx(g,{className:"h-4 w-4"}),s.jsx(o,{children:A})]}),w&&s.jsxs(a,{children:[s.jsxs(t,{children:[s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(u,{className:"h-5 w-5"}),"分析结果"]}),s.jsx(r,{children:"AI分析生成的品牌特征"})]}),s.jsxs(l,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"品牌关键词"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.keywords.map((e,a)=>s.jsx(d,{variant:"secondary",children:e},a))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"品牌语气"}),s.jsx("p",{className:"text-sm bg-muted p-3 rounded-lg",children:w.tone})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"内容建议"}),s.jsx("ul",{className:"space-y-1",children:w.suggestions.map((e,a)=>s.jsxs("li",{className:"text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),e]},a))})]})]})]}),s.jsxs(a,{children:[s.jsxs(t,{children:[s.jsx(n,{children:"支持的文件类型"}),s.jsx(r,{children:"AI分析功能支持的文件格式"})]}),s.jsx(l,{children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:D.getSupportedFileTypes().map((e,a)=>s.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[s.jsx("div",{className:"font-medium",children:e.extension}),s.jsx("div",{className:"text-muted-foreground",children:e.description})]},a))})})]})]})]})]})};export{N as default};
