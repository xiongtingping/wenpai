import{c as e,r as t,$ as s,a0 as a,a1 as r,a2 as n,a3 as l,a4 as i,a5 as c,j as d,Y as o,u,p as m,a6 as p,F as h,M as x,Z as f,a7 as v,a8 as g,X as j,k as y,P as w,C as b,i as N,T as k,a as S,b as A,d as C,B as E,e as I,f as R,h as $,L as D,K,N as M,O as P,Q as q,U as F,a9 as z,aa as L,ab as T,ac as V,g as B,ad as O,ae as _,af as U,ag as H,ah as X,ai as G,aj as W,ak as Z,H as J}from"./index-Dk-gCvGC.js";import{I as Q}from"./input-DhHrf3ht.js";import{A as Y,a as ee}from"./alert-Q2shJZAq.js";import{D as te,a as se,b as ae,c as re,e as ne,d as le}from"./dialog-480ju0ai.js";import{S as ie}from"./search-WI96IYUW.js";import{P as ce}from"./progress-DZrfLPeA.js";import{A as de}from"./aiAnalysisService-Bgw6064h.js";import{H as oe}from"./heart-D1oLcH8f.js";import{B as ue}from"./book-open-BAGlJysq.js";import{T as me}from"./tag-3eMchzMP.js";import{I as pe}from"./info-BpKGwfCH.js";import{S as he}from"./save-i5C6icUg.js";import{A as xe}from"./award-CWchHDDB.js";import{L as fe}from"./lightbulb-CHklH9_x.js";import{B as ve}from"./brain-DYzkN-Z0.js";import{F as ge}from"./file-CSMba4lF.js";import{F as je}from"./funnel-Dwot3d4y.js";import{S as ye}from"./square-pen-Bvl9tt87.js";import{T as we}from"./trash-2-BRjr6LBN.js";import{P as be}from"./plus-BBMybHHC.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=e("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ke=e("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),Se=e("file-up",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),Ae=e("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Ce=e("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);var Ee=.999,Ie=/[\\\/_+.#"@\[\(\{&]/,Re=/[\\\/_+.#"@\[\(\{&]/g,$e=/[\s-]/,De=/[\s-]/g;function Ke(e,t,s,a,r,n,l){if(n===t.length)return r===e.length?1:.99;var i=`${r},${n}`;if(void 0!==l[i])return l[i];for(var c,d,o,u,m=a.charAt(n),p=s.indexOf(m,r),h=0;p>=0;)(c=Ke(e,t,s,a,p+1,n+1,l))>h&&(p===r?c*=1:Ie.test(e.charAt(p-1))?(c*=.8,(o=e.slice(r,p-1).match(Re))&&r>0&&(c*=Math.pow(Ee,o.length))):$e.test(e.charAt(p-1))?(c*=.9,(u=e.slice(r,p-1).match(De))&&r>0&&(c*=Math.pow(Ee,u.length))):(c*=.17,r>0&&(c*=Math.pow(Ee,p-r))),e.charAt(p)!==t.charAt(n)&&(c*=.9999)),(c<.1&&s.charAt(p-1)===a.charAt(n+1)||a.charAt(n+1)===a.charAt(n)&&s.charAt(p-1)!==a.charAt(n))&&.1*(d=Ke(e,t,s,a,p+1,n+2,l))>c&&(c=.1*d),c>h&&(h=c),p=s.indexOf(m,p+1);return l[i]=h,h}function Me(e){return e.toLowerCase().replace(De," ")}function Pe(e,t,s){return Ke(e=s&&s.length>0?e+" "+s.join(" "):e,t,Me(e),Me(t),0,0,{})}var qe='[cmdk-group=""]',Fe='[cmdk-group-items=""]',ze='[cmdk-item=""]',Le=`${ze}:not([aria-disabled="true"])`,Te="cmdk-item-select",Ve="data-value",Be=(e,t,s)=>Pe(e,t,s),Oe=t.createContext(void 0),_e=()=>t.useContext(Oe),Ue=t.createContext(void 0),He=()=>t.useContext(Ue),Xe=t.createContext(void 0),Ge=t.forwardRef((e,r)=>{let n=ct(()=>{var t,s;return{search:"",value:null!=(s=null!=(t=e.value)?t:e.defaultValue)?s:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=ct(()=>new Set),i=ct(()=>new Map),c=ct(()=>new Map),d=ct(()=>new Set),o=lt(e),{label:u,children:m,value:p,onValueChange:h,filter:x,shouldFilter:f,loop:v,disablePointerSelection:g=!1,vimBindings:j=!0,...y}=e,w=s(),b=s(),N=s(),k=t.useRef(null),S=ut();it(()=>{if(void 0!==p){let e=p.trim();n.current.value=e,A.emit()}},[p]),it(()=>{S(6,D)},[]);let A=t.useMemo(()=>({subscribe:e=>(d.current.add(e),()=>d.current.delete(e)),snapshot:()=>n.current,setState:(e,t,s)=>{var a,r,l,i;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)$(),I(),S(1,R);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(N);e?e.focus():null==(a=document.getElementById(w))||a.focus()}if(S(7,()=>{var e;n.current.selectedItemId=null==(e=K())?void 0:e.id,A.emit()}),s||S(5,D),void 0!==(null==(r=o.current)?void 0:r.value)){let e=null!=t?t:"";return void(null==(i=(l=o.current).onValueChange)||i.call(l,e))}}A.emit()}},emit:()=>{d.current.forEach(e=>e())}}),[]),C=t.useMemo(()=>({value:(e,t,s)=>{var a;t!==(null==(a=c.current.get(e))?void 0:a.value)&&(c.current.set(e,{value:t,keywords:s}),n.current.filtered.items.set(e,E(t,s)),S(2,()=>{I(),A.emit()}))},item:(e,t)=>(l.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),S(3,()=>{$(),I(),n.current.value||R(),A.emit()}),()=>{c.current.delete(e),l.current.delete(e),n.current.filtered.items.delete(e);let t=K();S(4,()=>{$(),(null==t?void 0:t.getAttribute("id"))===e&&R(),A.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{c.current.delete(e),i.current.delete(e)}),filter:()=>o.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:w,inputId:N,labelId:b,listInnerRef:k}),[]);function E(e,t){var s,a;let r=null!=(a=null==(s=o.current)?void 0:s.filter)?a:Be;return e?r(e,n.current.search,t):0}function I(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(s=>{let a=i.current.get(s),r=0;a.forEach(t=>{let s=e.get(t);r=Math.max(s,r)}),t.push([s,r])});let s=k.current;M().sort((t,s)=>{var a,r;let n=t.getAttribute("id"),l=s.getAttribute("id");return(null!=(a=e.get(l))?a:0)-(null!=(r=e.get(n))?r:0)}).forEach(e=>{let t=e.closest(Fe);t?t.appendChild(e.parentElement===t?e:e.closest(`${Fe} > *`)):s.appendChild(e.parentElement===s?e:e.closest(`${Fe} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let s=null==(t=k.current)?void 0:t.querySelector(`${qe}[${Ve}="${encodeURIComponent(e[0])}"]`);null==s||s.parentElement.appendChild(s)})}function R(){let e=M().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(Ve);A.setState("value",t||void 0)}function $(){var e,t,s,a;if(!n.current.search||!1===o.current.shouldFilter)return void(n.current.filtered.count=l.current.size);n.current.filtered.groups=new Set;let r=0;for(let i of l.current){let l=E(null!=(t=null==(e=c.current.get(i))?void 0:e.value)?t:"",null!=(a=null==(s=c.current.get(i))?void 0:s.keywords)?a:[]);n.current.filtered.items.set(i,l),l>0&&r++}for(let[l,c]of i.current)for(let e of c)if(n.current.filtered.items.get(e)>0){n.current.filtered.groups.add(l);break}n.current.filtered.count=r}function D(){var e,t,s;let a=K();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(s=null==(t=a.closest(qe))?void 0:t.querySelector('[cmdk-group-heading=""]'))||s.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function K(){var e;return null==(e=k.current)?void 0:e.querySelector(`${ze}[aria-selected="true"]`)}function M(){var e;return Array.from((null==(e=k.current)?void 0:e.querySelectorAll(Le))||[])}function P(e){let t=M()[e];t&&A.setState("value",t.getAttribute(Ve))}function q(e){var t;let s=K(),a=M(),r=a.findIndex(e=>e===s),n=a[r+e];null!=(t=o.current)&&t.loop&&(n=r+e<0?a[a.length-1]:r+e===a.length?a[0]:a[r+e]),n&&A.setState("value",n.getAttribute(Ve))}function F(e){let t,s=K(),a=null==s?void 0:s.closest(qe);for(;a&&!t;)a=e>0?rt(a,qe):nt(a,qe),t=null==a?void 0:a.querySelector(Le);t?A.setState("value",t.getAttribute(Ve)):q(e)}let z=()=>P(M().length-1),L=e=>{e.preventDefault(),e.metaKey?z():e.altKey?F(1):q(1)},T=e=>{e.preventDefault(),e.metaKey?P(0):e.altKey?F(-1):q(-1)};return t.createElement(a.div,{ref:r,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=y.onKeyDown)||t.call(y,e);let s=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!s)switch(e.key){case"n":case"j":j&&e.ctrlKey&&L(e);break;case"ArrowDown":L(e);break;case"p":case"k":j&&e.ctrlKey&&T(e);break;case"ArrowUp":T(e);break;case"Home":e.preventDefault(),P(0);break;case"End":e.preventDefault(),z();break;case"Enter":{e.preventDefault();let t=K();if(t){let e=new Event(Te);t.dispatchEvent(e)}}}}},t.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:pt},u),mt(e,e=>t.createElement(Ue.Provider,{value:A},t.createElement(Oe.Provider,{value:C},e))))}),We=t.forwardRef((e,r)=>{var n,l;let i=s(),d=t.useRef(null),o=t.useContext(Xe),u=_e(),m=lt(e),p=null!=(l=null==(n=m.current)?void 0:n.forceMount)?l:null==o?void 0:o.forceMount;it(()=>{if(!p)return u.item(i,null==o?void 0:o.id)},[p]);let h=ot(i,d,[e.value,e.children,d],e.keywords),x=He(),f=dt(e=>e.value&&e.value===h.current),v=dt(e=>!(!p&&!1!==u.filter())||!e.search||e.filtered.items.get(i)>0);function g(){var e,t;j(),null==(t=(e=m.current).onSelect)||t.call(e,h.current)}function j(){x.setState("value",h.current,!0)}if(t.useEffect(()=>{let t=d.current;if(t&&!e.disabled)return t.addEventListener(Te,g),()=>t.removeEventListener(Te,g)},[v,e.onSelect,e.disabled]),!v)return null;let{disabled:y,value:w,onSelect:b,forceMount:N,keywords:k,...S}=e;return t.createElement(a.div,{ref:c(d,r),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!f,"data-disabled":!!y,"data-selected":!!f,onPointerMove:y||u.getDisablePointerSelection()?void 0:j,onClick:y?void 0:g},e.children)}),Ze=t.forwardRef((e,r)=>{let{heading:n,children:l,forceMount:i,...d}=e,o=s(),u=t.useRef(null),m=t.useRef(null),p=s(),h=_e(),x=dt(e=>!(!i&&!1!==h.filter())||!e.search||e.filtered.groups.has(o));it(()=>h.group(o),[]),ot(o,u,[e.value,e.heading,m]);let f=t.useMemo(()=>({id:o,forceMount:i}),[i]);return t.createElement(a.div,{ref:c(u,r),...d,"cmdk-group":"",role:"presentation",hidden:!x||void 0},n&&t.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:p},n),mt(e,e=>t.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?p:void 0},t.createElement(Xe.Provider,{value:f},e))))}),Je=t.forwardRef((e,s)=>{let{alwaysRender:r,...n}=e,l=t.useRef(null),i=dt(e=>!e.search);return r||i?t.createElement(a.div,{ref:c(l,s),...n,"cmdk-separator":"",role:"separator"}):null}),Qe=t.forwardRef((e,s)=>{let{onValueChange:r,...n}=e,l=null!=e.value,i=He(),c=dt(e=>e.search),d=dt(e=>e.selectedItemId),o=_e();return t.useEffect(()=>{null!=e.value&&i.setState("search",e.value)},[e.value]),t.createElement(a.input,{ref:s,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":o.listId,"aria-labelledby":o.labelId,"aria-activedescendant":d,id:o.inputId,type:"text",value:l?e.value:c,onChange:e=>{l||i.setState("search",e.target.value),null==r||r(e.target.value)}})}),Ye=t.forwardRef((e,s)=>{let{children:r,label:n="Suggestions",...l}=e,i=t.useRef(null),d=t.useRef(null),o=dt(e=>e.selectedItemId),u=_e();return t.useEffect(()=>{if(d.current&&i.current){let e,t=d.current,s=i.current,a=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;s.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return a.observe(t),()=>{cancelAnimationFrame(e),a.unobserve(t)}}},[]),t.createElement(a.div,{ref:c(i,s),...l,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:u.listId},mt(e,e=>t.createElement("div",{ref:c(d,u.listInnerRef),"cmdk-list-sizer":""},e)))}),et=t.forwardRef((e,s)=>{let{open:a,onOpenChange:c,overlayClassName:d,contentClassName:o,container:u,...m}=e;return t.createElement(r,{open:a,onOpenChange:c},t.createElement(n,{container:u},t.createElement(l,{"cmdk-overlay":"",className:d}),t.createElement(i,{"aria-label":e.label,"cmdk-dialog":"",className:o},t.createElement(Ge,{ref:s,...m}))))}),tt=t.forwardRef((e,s)=>dt(e=>0===e.filtered.count)?t.createElement(a.div,{ref:s,...e,"cmdk-empty":"",role:"presentation"}):null),st=t.forwardRef((e,s)=>{let{progress:r,children:n,label:l="Loading...",...i}=e;return t.createElement(a.div,{ref:s,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},mt(e,e=>t.createElement("div",{"aria-hidden":!0},e)))}),at=Object.assign(Ge,{List:Ye,Item:We,Input:Qe,Group:Ze,Separator:Je,Dialog:et,Empty:tt,Loading:st});function rt(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function nt(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function lt(e){let s=t.useRef(e);return it(()=>{s.current=e}),s}var it="undefined"==typeof window?t.useEffect:t.useLayoutEffect;function ct(e){let s=t.useRef();return void 0===s.current&&(s.current=e()),s}function dt(e){let s=He(),a=()=>e(s.snapshot());return t.useSyncExternalStore(s.subscribe,a,a)}function ot(e,s,a,r=[]){let n=t.useRef(),l=_e();return it(()=>{var t;let i=(()=>{var e;for(let t of a){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():n.current}})(),c=r.map(e=>e.trim());l.value(e,i,c),null==(t=s.current)||t.setAttribute(Ve,i),n.current=i}),n}var ut=()=>{let[e,s]=t.useState(),a=ct(()=>new Map);return it(()=>{a.current.forEach(e=>e()),a.current=new Map},[e]),(e,t)=>{a.current.set(e,t),s({})}};function mt({asChild:e,children:s},a){return e&&t.isValidElement(s)?t.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(s),{ref:s.ref},a(s.props.children)):a(s)}var pt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ht=t.forwardRef(({className:e,...t},s)=>d.jsx(at,{ref:s,className:o("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ht.displayName=at.displayName;const xt=t.forwardRef(({className:e,...t},s)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(ie,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(at.Input,{ref:s,className:o("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));xt.displayName=at.Input.displayName;const ft=t.forwardRef(({className:e,...t},s)=>d.jsx(at.List,{ref:s,className:o("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ft.displayName=at.List.displayName;const vt=t.forwardRef((e,t)=>d.jsx(at.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));vt.displayName=at.Empty.displayName;const gt=t.forwardRef(({className:e,...t},s)=>d.jsx(at.Group,{ref:s,className:o("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));gt.displayName=at.Group.displayName,t.forwardRef(({className:e,...t},s)=>d.jsx(at.Separator,{ref:s,className:o("-mx-1 h-px bg-border",e),...t})).displayName=at.Separator.displayName;const jt=t.forwardRef(({className:e,...t},s)=>d.jsx(at.Item,{ref:s,className:o("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));function yt(){const[e,s]=t.useState("dimensions"),[a,r]=t.useState([]),[n,l]=t.useState(null),[i,c]=t.useState(!1),[o,be]=t.useState(0),[Ee,Ie]=t.useState(""),[Re,$e]=t.useState(!1),[De,Ke]=t.useState(0),[Me,Pe]=t.useState(!1),[qe,Fe]=t.useState("品牌资料"),[ze,Le]=t.useState(!1),Te=["品牌资料","产品介绍","营销素材","用户反馈","竞品分析","行业报告","其他"],[Ve,Be]=t.useState(!1),[Oe,_e]=t.useState(null),[Ue,He]=t.useState(null),[Xe,Ge]=t.useState("date-new"),[We,Ze]=t.useState([]),[Je,Qe]=t.useState(null),[Ye,et]=t.useState(""),[tt,st]=t.useState(""),[at,rt]=t.useState(""),[nt,lt]=t.useState(null),[it,ct]=t.useState(null),[dt,ot]=t.useState(""),{toast:ut}=u();m();const mt=t.useRef(null),[pt,yt]=t.useState([{id:"brandName",title:"品牌名称",description:"品牌的名字",icon:d.jsx(p,{className:"h-4 w-4"}),placeholder:"请输入您的品牌名称...",value:"",keywords:[],isRequired:!1,category:"basic"},{id:"brandDescription",title:"品牌描述",description:"简要描述品牌定位和特色",icon:d.jsx(h,{className:"h-4 w-4"}),placeholder:"请描述您的品牌定位、特色和核心价值...",value:"",keywords:[],isRequired:!1,category:"basic"},{id:"brandSlogan",title:"品牌Slogan",description:"品牌的口号",icon:d.jsx(x,{className:"h-4 w-4"}),placeholder:"请输入您的品牌口号...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"brandValues",title:"品牌价值观",description:"驱动品牌行为和决策的基本原则是什么？",icon:d.jsx(oe,{className:"h-4 w-4"}),placeholder:"请描述您的品牌价值观和基本原则...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"brandVision",title:"品牌愿景与使命",description:"你的品牌存在的根本原因是什么？长期目标是什么？",icon:d.jsx(p,{className:"h-4 w-4"}),placeholder:"请描述您的品牌愿景、使命和长期目标...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"brandStory",title:"品牌故事",description:"品牌起源故事",icon:d.jsx(ue,{className:"h-4 w-4"}),placeholder:"请讲述您的品牌起源故事...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"adSlogans",title:"广告语集",description:"品牌过往广告中使用的标语口号",icon:d.jsx(f,{className:"h-4 w-4"}),placeholder:"请列出您的品牌广告语和标语...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"productKeywords",title:"产品描述词库",description:"描述品牌产品或服务的核心关键词",icon:d.jsx(Ae,{className:"h-4 w-4"}),placeholder:"请列出描述您产品的核心关键词...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"brandTone",title:"品牌语调/语气",description:"包括语言风格、语气、情感倾向（如正式、友好、幽默、专业等）",icon:d.jsx(v,{className:"h-4 w-4"}),placeholder:"请描述您的品牌语调、语气和语言风格...",value:"",keywords:[],isRequired:!1,category:"voice"},{id:"brandPersonality",title:"品牌个性",description:"如果你的品牌是一个人，它会是什么样的性格？",icon:d.jsx(Ce,{className:"h-4 w-4"}),placeholder:"请描述您的品牌个性特征...",value:"",keywords:[],isRequired:!1,category:"voice"},{id:"coreTopics",title:"品牌核心话题",description:"品牌内容的核心主题和指引方向",icon:d.jsx(g,{className:"h-4 w-4"}),placeholder:"请列出您的品牌核心话题和内容方向...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"brandHashtags",title:"品牌Hashtags",description:"以#话题的形式，在品牌内容结尾出现，推荐用户使用这些",icon:d.jsx(j,{className:"h-4 w-4"}),placeholder:"请列出您的品牌标签，如：#品牌名 #产品特色...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"brandKeywords",title:"品牌关键词",description:"尽量在品牌内容中使用的词",icon:d.jsx(me,{className:"h-4 w-4"}),placeholder:"请列出您的品牌关键词...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"forbiddenWords",title:"品牌禁用词",description:"禁止在品牌内容中出现的词",icon:d.jsx(y,{className:"h-4 w-4"}),placeholder:"请列出您的品牌禁用词...",value:"",keywords:[],isRequired:!1,category:"content"}]);t.useEffect(()=>{l({id:"1",name:"我的品牌",tone:"专业而亲切",slogans:["专业可靠","用户友好","创新引领"],keywords:["专业","可靠","创新","用户友好"],forbiddenWords:["过度营销","技术术语","负面词汇"],files:[],createdAt:new Date,updatedAt:new Date,aiAnalysis:{toneAnalysis:"专业而亲切",keyThemes:["专业","可靠","创新"],brandPersonality:"专业可靠的品牌形象",targetAudience:"追求专业解决方案的用户",contentSuggestions:["强调专业性","突出可靠性","展现创新性"],valueAlignment:["建议1","建议2"],topicConsistency:["建议1","建议2"]}})},[]);const bt=async e=>{var t,s,a,n,l;ct(e.id);try{r(t=>t.map(t=>t.id===e.id?{...t,processingStatus:"processing"}:t));const i=de.getInstance(),c=await i.analyzeBrandContent(e.content||"品牌资料内容"),d=`AI分析结果：\n\n1. 品牌关键词：${(null==(t=c.brandKeywords)?void 0:t.join("、"))||c.keywords.join("、")}\n2. 产品关键词：${(null==(s=c.productKeywords)?void 0:s.join("、"))||""}\n3. 目标受众：${(null==(a=c.targetAudience)?void 0:a.join("、"))||""}\n4. 品牌故事：${(null==(n=c.brandStory)?void 0:n.join("、"))||""}\n5. 竞争优势：${(null==(l=c.competitiveAdvantage)?void 0:l.join("、"))||""}\n6. 品牌语气特征：${c.tone}\n7. 内容建议：${c.suggestions.join("、")}`,o=[...c.brandKeywords||[],...c.productKeywords||[],...c.targetAudience||[],...c.brandStory||[],...c.competitiveAdvantage||[]];r(t=>t.map(t=>t.id===e.id?{...t,content:d,extractedKeywords:o,processingStatus:"completed"}:t)),kt(c,d),ut({title:"AI分析完成",description:`已成功分析 ${e.name}，并补充到品牌语料库`})}catch(i){r(t=>t.map(t=>t.id===e.id?{...t,processingStatus:"failed"}:t)),ut({title:"AI分析失败",description:i instanceof Error?i.message:"请稍后重试",variant:"destructive"})}finally{ct(null)}},Nt=async()=>{var e,t,s,n,l;const i=a.filter(e=>"completed"!==e.processingStatus);if(0!==i.length){$e(!0),Ke(0);try{const a=de.getInstance();for(let d=0;d<i.length;d++){const o=i[d];r(e=>e.map(e=>e.id===o.id?{...e,processingStatus:"processing"}:e));try{const i=await a.analyzeBrandContent(o.content||"品牌资料内容"),c=`AI分析结果：\n\n1. 品牌关键词：${(null==(e=i.brandKeywords)?void 0:e.join("、"))||i.keywords.join("、")}\n2. 产品关键词：${(null==(t=i.productKeywords)?void 0:t.join("、"))||""}\n3. 目标受众：${(null==(s=i.targetAudience)?void 0:s.join("、"))||""}\n4. 品牌故事：${(null==(n=i.brandStory)?void 0:n.join("、"))||""}\n5. 竞争优势：${(null==(l=i.competitiveAdvantage)?void 0:l.join("、"))||""}\n6. 品牌语气特征：${i.tone}\n7. 内容建议：${i.suggestions.join("、")}`,d=[...i.brandKeywords||[],...i.productKeywords||[],...i.targetAudience||[],...i.brandStory||[],...i.competitiveAdvantage||[]];r(e=>e.map(e=>e.id===o.id?{...e,content:c,extractedKeywords:d,processingStatus:"completed"}:e)),kt(i,c)}catch(c){r(e=>e.map(e=>e.id===o.id?{...e,processingStatus:"failed"}:e))}Ke((d+1)/i.length*100)}ut({title:"批量AI分析完成",description:"已自动分析所有品牌资料并补充语料库"})}catch(c){ut({title:"批量AI分析失败",description:c instanceof Error?c.message:"请稍后重试",variant:"destructive"})}finally{$e(!1),Ke(0)}}else ut({title:"无需处理",description:"所有文件都已处理完成"})},kt=(e,t)=>{yt(s=>s.map(s=>{let a=s.value,r=[...s.keywords];switch(s.id){case"brandKeywords":if(""===s.value){const t=e.brandKeywords||e.keywords||[];t.length>0&&(a=t.join("、"),r=[...s.keywords,...t])}break;case"productKeywords":if(""===s.value){const t=e.productKeywords||[];t.length>0&&(a=t.join("、"),r=t)}break;case"targetAudience":if(""===s.value){const t=e.targetAudience||[];t.length>0&&(a=t.join("、"),r=t)}break;case"brandStory":if(""===s.value){const t=e.brandStory||[];t.length>0&&(a=t.join("、"),r=t)}break;case"competitiveAdvantage":if(""===s.value){const t=e.competitiveAdvantage||[];t.length>0&&(a=t.join("、"),r=t)}break;case"brandDescription":""===s.value&&(a=t.substring(0,200)+"...");break;case"brandTone":""===s.value&&(a=e.tone||"专业、可靠、创新");break;case"brandPersonality":""===s.value&&(a="专业可靠、用户友好、创新引领")}return{...s,value:a,keywords:r}}))},St=(e,t)=>{yt(s=>s.map(s=>s.id===e?{...s,value:t}:s))},At=(e,t)=>{t.trim()&&yt(s=>s.map(s=>{if(s.id===e){const e=[...s.keywords,t.trim()],a=s.value?`${s.value}、${t.trim()}`:t.trim();return{...s,keywords:e,value:a}}return s}))},Ct=(e,t)=>{yt(s=>s.map(s=>{if(s.id===e){const e=s.keywords.filter(e=>e!==t),a=e.join("、");return{...s,keywords:e,value:a}}return s}))},Et=e=>pt.filter(t=>t.category===e),It=a.filter(e=>{var t,s;if(Ee){const a=Ee.toLowerCase();return e.name.toLowerCase().includes(a)||(null==(t=e.description)?void 0:t.toLowerCase().includes(a))||(null==(s=e.category)?void 0:s.toLowerCase().includes(a))}return!(We.length>0)||e.category&&We.includes(e.category)}).sort((e,t)=>{switch(Xe){case"date-new":return new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime();case"date-old":return new Date(e.uploadDate).getTime()-new Date(t.uploadDate).getTime();case"name-asc":return e.name.localeCompare(t.name);case"name-desc":return t.name.localeCompare(e.name);case"size-asc":return parseFloat(e.size||"0")-parseFloat(t.size||"0");case"size-desc":return parseFloat(t.size||"0")-parseFloat(e.size||"0");default:return 0}});return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[d.jsx(w,{title:"多维品牌语料库",description:"AI智能分析品牌资料，自动构建完整的品牌语料库，支持多维度自定义完善",showAdaptButton:!1,showUpgradeButton:!0}),d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("input",{ref:mt,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.md,.jpg,.jpeg,.png,.gif,.bmp,.webp,.xls,.xlsx,.ppt,.pptx",onChange:async e=>{const t=e.target.files;if(!t||0===t.length)return;c(!0),be(0);const s=[];for(let r=0;r<t.length;r++){const e=t[r];let n=d.jsx(h,{className:"h-8 w-8 text-blue-500"});e.type.includes("pdf")?n=d.jsx(ge,{className:"h-8 w-8 text-red-500"}):e.type.includes("image")?n=d.jsx(ke,{className:"h-8 w-8 text-green-500"}):e.type.includes("word")&&(n=d.jsx(h,{className:"h-8 w-8 text-blue-700"}));const l=qe;try{const t=de.getInstance();let a="";a=t.isFileTypeSupported(e)?await t.readFileContent(e):`不支持的文件类型: ${e.type}`;const i={id:`asset-${Date.now()}-${r}`,name:e.name,type:"document",content:a,uploadDate:new Date,fileIcon:n,description:"",category:l,processingStatus:"pending"};s.push(i)}catch(a){const t={id:`asset-${Date.now()}-${r}`,name:e.name,type:"document",content:`文件读取失败: ${a instanceof Error?a.message:"未知错误"}`,uploadDate:new Date,fileIcon:n,description:"",category:l,processingStatus:"failed"};s.push(t)}be((r+1)/t.length*100),await new Promise(e=>setTimeout(e,500))}r(e=>[...e,...s]),e.target.value="",c(!1),be(0),ut({title:"文件上传成功",description:`已成功上传 ${s.length} 个品牌资料文件，AI正在自动分析...`}),setTimeout(()=>{Nt()},1e3),setTimeout(()=>{Nt()},1e3)},className:"hidden"}),i&&d.jsx(b,{className:"mb-6",children:d.jsxs(N,{className:"pt-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:"上传进度"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(o),"%"]})]}),d.jsx(ce,{value:o,className:"w-full"})]})}),Re&&d.jsx(b,{className:"mb-6",children:d.jsxs(N,{className:"pt-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:"AI分析进度"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(De),"%"]})]}),d.jsx(ce,{value:De,className:"w-full"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI正在分析品牌资料，自动补充语料库内容..."})]})}),d.jsxs(Y,{className:"mb-6",children:[d.jsx(pe,{className:"h-4 w-4"}),d.jsxs(ee,{children:[d.jsx("strong",{children:"使用提示："}),"上传品牌资料越多，AI分析越准确。建议上传品牌手册、产品介绍、营销文案等资料。 所有维度都支持手动编辑，AI会自动补充关键词建议。"]})]}),d.jsxs(k,{value:e,onValueChange:s,className:"space-y-6",children:[d.jsxs(S,{className:"grid w-full grid-cols-2",children:[d.jsx(A,{value:"dimensions",children:"品牌语料库"}),d.jsx(A,{value:"assets",children:"资料管理"})]}),d.jsxs(C,{value:"dimensions",className:"space-y-6",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs(E,{onClick:()=>{localStorage.setItem("brandDimensions",JSON.stringify(pt)),ut({title:"保存成功",description:"品牌语料库已保存"})},children:[d.jsx(he,{className:"h-4 w-4 mr-2"}),"保存语料库"]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(b,{children:[d.jsxs(I,{className:"pb-3",children:[d.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[d.jsx(p,{className:"h-5 w-5 text-blue-600"}),"基础信息"]}),d.jsx($,{children:"品牌的基本信息和定位"})]}),d.jsx(N,{className:"space-y-4",children:Et("basic").map(e=>d.jsx(wt,{dimension:e,onUpdate:St,onAddKeyword:At,onRemoveKeyword:Ct,isEditing:Ue===e.id,onEdit:()=>He(e.id),onCancel:()=>He(null)},e.id))})]}),d.jsxs(b,{children:[d.jsxs(I,{className:"pb-3",children:[d.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[d.jsx(v,{className:"h-5 w-5 text-orange-600"}),"语调风格"]}),d.jsx($,{children:"品牌的语音特征和表达方式"})]}),d.jsx(N,{className:"space-y-4",children:Et("voice").map(e=>d.jsx(wt,{dimension:e,onUpdate:St,onAddKeyword:At,onRemoveKeyword:Ct,isEditing:Ue===e.id,onEdit:()=>He(e.id),onCancel:()=>He(null)},e.id))})]}),d.jsxs(b,{children:[d.jsxs(I,{className:"pb-3",children:[d.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[d.jsx(xe,{className:"h-5 w-5 text-purple-600"}),"品牌身份"]}),d.jsx($,{children:"品牌的核心价值观和使命愿景"})]}),d.jsx(N,{className:"space-y-4",children:Et("identity").map(e=>d.jsx(wt,{dimension:e,onUpdate:St,onAddKeyword:At,onRemoveKeyword:Ct,isEditing:Ue===e.id,onEdit:()=>He(e.id),onCancel:()=>He(null)},e.id))})]}),d.jsxs(b,{children:[d.jsxs(I,{className:"pb-3",children:[d.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[d.jsx(fe,{className:"h-5 w-5 text-green-600"}),"内容策略"]}),d.jsx($,{children:"品牌内容创作的核心要素"})]}),d.jsx(N,{className:"space-y-4",children:Et("content").map(e=>d.jsx(wt,{dimension:e,onUpdate:St,onAddKeyword:At,onRemoveKeyword:Ct,isEditing:Ue===e.id,onEdit:()=>He(e.id),onCancel:()=>He(null)},e.id))})]})]})]}),d.jsx(C,{value:"assets",className:"space-y-6",children:d.jsxs(b,{children:[d.jsxs(I,{children:[d.jsx(R,{children:"品牌资料管理"}),d.jsx($,{children:"管理上传的品牌资料文件"})]}),d.jsxs(N,{children:[d.jsxs("div",{className:"flex gap-2 mb-4 items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(D,{className:"text-sm font-medium",children:"分类："}),d.jsxs(K,{value:qe,onValueChange:Fe,children:[d.jsx(M,{className:"w-40",children:d.jsx(P,{placeholder:"选择分类"})}),d.jsx(q,{children:Te.map(e=>d.jsx(F,{value:e,children:e},e))})]})]}),d.jsxs(E,{variant:"outline",onClick:()=>{var e;return null==(e=mt.current)?void 0:e.click()},disabled:i,children:[d.jsx(z,{className:"h-4 w-4 mr-2"}),i?"上传中...":"上传资料"]}),d.jsxs(E,{onClick:Nt,disabled:Re||0===a.length,children:[d.jsx(ve,{className:"h-4 w-4 mr-2"}),Re?"AI分析中...":"批量AI分析"]})]}),d.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(pe,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"支持的文件格式"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(h,{className:"h-4 w-4 text-blue-600"}),d.jsx("span",{children:"文档：PDF, DOC, DOCX, TXT, MD"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ke,{className:"h-4 w-4 text-green-600"}),d.jsx("span",{children:"图片：JPG, PNG, GIF, BMP, WEBP"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ge,{className:"h-4 w-4 text-red-600"}),d.jsx("span",{children:"表格：XLS, XLSX"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(h,{className:"h-4 w-4 text-purple-600"}),d.jsx("span",{children:"演示：PPT, PPTX"})]})]}),d.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:[d.jsx("strong",{children:"注意："}),"单个文件大小建议不超过10MB，支持批量上传多个文件。AI将自动分析文件内容并提取品牌相关信息。"]})]})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),d.jsx(Q,{placeholder:"搜索资料...",value:Ee,onChange:e=>Ie(e.target.value),className:"pl-10"})]})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(K,{value:Xe,onValueChange:e=>Ge(e),children:[d.jsx(M,{className:"w-[180px]",children:d.jsx(P,{placeholder:"排序方式"})}),d.jsxs(q,{children:[d.jsx(F,{value:"date-new",children:"最新上传"}),d.jsx(F,{value:"date-old",children:"最早上传"}),d.jsx(F,{value:"name-asc",children:"名称 A-Z"}),d.jsx(F,{value:"name-desc",children:"名称 Z-A"})]})]}),d.jsxs(L,{children:[d.jsx(T,{asChild:!0,children:d.jsxs(E,{variant:"outline",className:"w-[120px]",children:[d.jsx(je,{className:"h-4 w-4 mr-2"}),"分类"]})}),d.jsx(V,{className:"w-48",children:d.jsxs(ht,{children:[d.jsx(xt,{placeholder:"搜索分类..."}),d.jsxs(ft,{children:[d.jsx(vt,{children:"未找到分类"}),d.jsx(gt,{children:["品牌手册","文案指南","产品介绍","营销素材","新闻稿","企业介绍","VI规范","品牌故事"].map(e=>d.jsx(jt,{onSelect:()=>(e=>{Ze(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:We.includes(e),onChange:()=>{},className:"h-4 w-4"}),d.jsx("span",{children:e})]})},e))})]})]})})]})]})]}),0===a.length?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Se,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"暂无品牌资料，请上传文件开始构建语料库"})]}):d.jsx("div",{className:"space-y-4",children:It.map(e=>d.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>(async e=>{lt(e.id);try{const t=`文件名称：${e.name}\n文件大小：${e.size||"未知"} KB\n上传时间：${e.uploadDate.toLocaleString()}\n文件类型：${e.type}\n\n原始内容：\n${e.content||"暂无内容"}`;ot(t)}catch(t){ot("无法读取文件内容")}})(e),children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.fileIcon,d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"font-medium truncate",children:e.name}),e.category&&d.jsx(B,{variant:"secondary",className:"text-xs",children:e.category})]}),d.jsx("p",{className:"text-sm text-gray-500",children:e.uploadDate.toLocaleDateString()}),e.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:["pending"===e.processingStatus&&d.jsxs(d.Fragment,{children:[d.jsxs(B,{variant:"secondary",children:[d.jsx(O,{className:"h-3 w-3 mr-1"}),"待分析"]}),d.jsxs(E,{size:"sm",variant:"outline",onClick:t=>{t.stopPropagation(),bt(e)},disabled:it===e.id,children:[d.jsx(ve,{className:"h-3 w-3 mr-1"}),it===e.id?"分析中...":"AI分析"]})]}),"processing"===e.processingStatus&&d.jsxs(B,{variant:"default",children:[d.jsx(_,{className:"h-3 w-3 mr-1 animate-spin"}),"分析中"]}),"completed"===e.processingStatus&&d.jsxs(B,{variant:"default",children:[d.jsx(U,{className:"h-3 w-3 mr-1"}),"已完成"]}),"failed"===e.processingStatus&&d.jsxs(d.Fragment,{children:[d.jsxs(B,{variant:"destructive",children:[d.jsx(H,{className:"h-3 w-3 mr-1"}),"分析失败"]}),d.jsxs(E,{size:"sm",variant:"outline",onClick:t=>{t.stopPropagation(),bt(e)},disabled:it===e.id,children:[d.jsx(ve,{className:"h-3 w-3 mr-1"}),it===e.id?"分析中...":"重新分析"]})]}),d.jsxs(X,{children:[d.jsx(G,{asChild:!0,children:d.jsx(E,{variant:"ghost",size:"sm",onClick:e=>e.stopPropagation(),children:d.jsx(Ne,{className:"h-4 w-4"})})}),d.jsxs(W,{align:"end",children:[d.jsxs(Z,{onClick:t=>{t.stopPropagation(),(e=>{_e(e),et(e.name),st(e.description||""),rt(e.category||"品牌资料"),Qe(e.id)})(e)},children:[d.jsx(ye,{className:"h-4 w-4 mr-2"}),"编辑"]}),d.jsxs(Z,{onClick:()=>{return t=e.id,r(e=>e.filter(e=>e.id!==t)),void ut({title:"删除成功",description:"品牌资料已删除"});var t},children:[d.jsx(we,{className:"h-4 w-4 mr-2"}),"删除"]})]})]})]})]},e.id))})]})]})})]})]}),d.jsx(te,{open:null!==nt,onOpenChange:()=>lt(null),children:d.jsxs(se,{className:"max-w-4xl max-h-[80vh]",children:[d.jsx(ae,{children:d.jsx(re,{children:"资料内容"})}),d.jsx("div",{className:"space-y-4",children:d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm overflow-auto max-h-[60vh]",children:dt})})})]})}),d.jsx(te,{open:null!==Je,onOpenChange:()=>{Qe(null),et(""),st(""),rt("")},children:d.jsxs(se,{className:"max-w-2xl",children:[d.jsxs(ae,{children:[d.jsx(re,{children:"编辑资料"}),d.jsx(ne,{children:"修改资料的基本信息，包括名称、描述和分类"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(D,{htmlFor:"asset-name",children:"资料名称"}),d.jsx(Q,{id:"asset-name",value:Ye,onChange:e=>et(e.target.value),placeholder:"请输入资料名称"})]}),d.jsxs("div",{children:[d.jsx(D,{htmlFor:"asset-category",children:"分类"}),d.jsxs(K,{value:at,onValueChange:rt,children:[d.jsx(M,{children:d.jsx(P,{placeholder:"选择分类"})}),d.jsx(q,{children:Te.map(e=>d.jsx(F,{value:e,children:e},e))})]})]}),d.jsxs("div",{children:[d.jsx(D,{htmlFor:"asset-description",children:"描述"}),d.jsx(J,{id:"asset-description",value:tt,onChange:e=>st(e.target.value),placeholder:"请输入资料描述（可选）",rows:3})]})]}),d.jsxs(le,{children:[d.jsx(E,{variant:"outline",onClick:()=>{Qe(null),et(""),st(""),rt("")},children:"取消"}),d.jsx(E,{onClick:()=>{Oe&&(r(e=>e.map(e=>e.id===Oe.id?{...e,name:Ye,description:tt,category:at}:e)),Qe(null),_e(null),et(""),st(""),rt(""),ut({title:"保存成功",description:"品牌资料信息已更新"}))},children:"保存"})]})]})})]})}function wt({dimension:e,onUpdate:s,onAddKeyword:a,onRemoveKeyword:r,isEditing:n,onEdit:l,onCancel:i}){const[c,o]=t.useState(""),u=()=>{c.trim()&&(a(e.id,c),o(""))};return d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[e.icon,d.jsxs("div",{children:[d.jsx(D,{className:"text-sm font-medium",children:e.title}),d.jsx("p",{className:"text-xs text-gray-500",children:e.description})]})]}),n?d.jsx(E,{variant:"ghost",size:"sm",onClick:i,children:d.jsx(H,{className:"h-4 w-4"})}):d.jsx(E,{variant:"ghost",size:"sm",onClick:l,children:d.jsx(ye,{className:"h-4 w-4"})})]}),n?d.jsxs("div",{className:"space-y-3",children:[d.jsx(J,{placeholder:e.placeholder,value:e.value,onChange:t=>s(e.id,t.target.value),className:"min-h-[80px]"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(D,{className:"text-xs font-medium",children:"关键词"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Q,{placeholder:"添加关键词...",value:c,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&u(),className:"flex-1"}),d.jsx(E,{size:"sm",onClick:u,children:d.jsx(be,{className:"h-4 w-4"})})]}),e.keywords.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1",children:e.keywords.map((t,s)=>d.jsxs(B,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>r(e.id,t),children:[t," ",d.jsx(H,{className:"h-3 w-3 ml-1"})]},s))})]})]}):d.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[e.value?d.jsx("p",{className:"text-sm",children:e.value}):d.jsx("p",{className:"text-sm text-gray-400",children:"暂无内容"}),e.keywords.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.keywords.map((e,t)=>d.jsx(B,{variant:"outline",className:"text-xs",children:e},t))})]})]})}jt.displayName=at.Item.displayName;export{yt as default};
