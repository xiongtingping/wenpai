import{r as e,u as a,V as t,j as s,b as r,P as n,e as o,a8 as c,h as i}from"./index-wtqtRwUF.js";import{u as d}from"./index-CdvIVdPv.js";var l="Switch",[u,b]=r(l),[f,p]=u(l),h=e.forwardRef((r,c)=>{const{__scopeSwitch:i,name:d,checked:u,defaultChecked:b,required:p,disabled:h,value:m="on",onCheckedChange:k,form:v,...x}=r,[y,j]=e.useState(null),S=a(c,e=>j(e)),N=e.useRef(!1),C=!y||v||!!y.closest("form"),[R,_]=t({prop:u,defaultProp:b??!1,onChange:k,caller:l});return s.jsxs(f,{scope:i,checked:R,disabled:h,children:[s.jsx(n.button,{type:"button",role:"switch","aria-checked":R,"aria-required":p,"data-state":g(R),"data-disabled":h?"":void 0,disabled:h,value:m,...x,ref:S,onClick:o(r.onClick,e=>{_(e=>!e),C&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),C&&s.jsx(w,{control:y,bubbles:!N.current,name:d,value:m,checked:R,required:p,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});h.displayName=l;var m="SwitchThumb",k=e.forwardRef((e,a)=>{const{__scopeSwitch:t,...r}=e,o=p(m,t);return s.jsx(n.span,{"data-state":g(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:a})});k.displayName=m;var w=e.forwardRef(({__scopeSwitch:t,control:r,checked:n,bubbles:o=!0,...i},l)=>{const u=e.useRef(null),b=a(u,l),f=d(n),p=c(r);return e.useEffect(()=>{const e=u.current;if(!e)return;const a=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(a,"checked").set;if(f!==n&&t){const a=new Event("click",{bubbles:o});t.call(e,n),e.dispatchEvent(a)}},[f,n,o]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:b,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function g(e){return e?"checked":"unchecked"}w.displayName="SwitchBubbleInput";var v=h,x=k;const y=e.forwardRef(({className:e,...a},t)=>s.jsx(v,{className:i("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:t,children:s.jsx(x,{className:i("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));y.displayName=v.displayName;export{y as S};
