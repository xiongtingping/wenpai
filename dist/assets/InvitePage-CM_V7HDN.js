import{j as e}from"./ui-core-CkDiOLPZ.js";import{r as s,u as a}from"./router-CDHmMMQ-.js";import{u as r,g as t,f as l,B as i,C as c,e as n,a as x,b as m,d}from"./pages-home-cm4XWoxC.js";import{I as o}from"./pages-adapt-BekQTgf9.js";import{aK as h,aJ as g,x as p,C as j,n as b,ax as N,aa as f}from"./utils-DOwhHgxs.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-lYQV1woT.js";import"./components-layout-Dpkc7dU5.js";import"./components-auth-Cmg7TtKX.js";import"./pages-brand-CdVj9KMe.js";import"./api-services-CFC91rmd.js";function u(){const{toast:u}=r(),{userId:v,isTempUser:y}=t(),[w,C]=s.useState("invite"),$=l(e=>e.userInviteCode),k=l(e=>e.generateInviteCode);l(e=>e.userInviteStats);const I=l(e=>e.usageRemaining),S=a(),[D,O]=s.useState(null),T=window.location.origin,z=`${T}/register?ref=${$}`;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(i,{variant:"ghost",size:"sm",onClick:()=>S("/"),className:"hover:bg-gray-100 text-gray-600",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"返回首页"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"邀请好友"}),e.jsx("p",{className:"text-sm text-gray-500",children:"邀请朋友注册，双方都能获得免费使用次数奖励"})]})]})})})}),e.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{className:"border-2 border-blue-100 overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[e.jsx(g,{className:"mr-3 h-6 w-6"})," 邀请好友，双方共同获益"]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"每邀请1人注册，双方各得20次免费使用机会"})]}),e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"您的专属邀请链接"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(o,{value:z,readOnly:!0,className:"bg-gray-50 font-medium text-blue-800 text-base py-3"}),e.jsxs(i,{onClick:()=>(async e=>{try{const s=`${window.location.origin}/register?ref=${e}`;await navigator.clipboard.writeText(s),u({title:"邀请链接已复制",description:"邀请链接已复制到剪贴板"})}catch(s){u({title:"复制失败",description:"请手动复制邀请链接",variant:"destructive"})}})($),className:"flex-shrink-0 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(p,{className:"h-5 w-5 mr-2"})," 复制链接"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200",children:e.jsxs(n,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"🎁"}),e.jsx("p",{className:"text-base font-semibold text-blue-800 mb-2",children:"邀请奖励"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"+20 次"}),e.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"每邀请1人注册，双方获得"})]})}),e.jsx(c,{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200",children:e.jsxs(n,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"💎"}),e.jsx("p",{className:"text-base font-semibold text-green-800 mb-2",children:"当前可用"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:I}),e.jsx("p",{className:"text-sm text-green-600 mt-2",children:"本月剩余使用次数"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-4 rounded-xl border border-gray-200",children:[e.jsxs("h3",{className:"text-base font-semibold mb-3 text-gray-800 flex items-center",children:[e.jsx(j,{className:"h-4 w-4 mr-2 text-green-500"}),"使用须知"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-green-500 text-sm",children:"✓"}),e.jsx("span",{className:"text-gray-700",children:"每次成功邀请好友注册，您和好友各获得 20 次免费生成次数"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-green-500 text-sm",children:"✓"}),e.jsx("span",{className:"text-gray-700",children:"邀请链接长期有效，无过期时间"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-green-500 text-sm",children:"✓"}),e.jsx("span",{className:"text-gray-700",children:"每月月初自动赠送 10 次免费使用次数"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-green-500 text-sm",children:"✓"}),e.jsx("span",{className:"text-gray-700",children:"奖励次数永久有效，可累积使用"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsxs(i,{variant:"outline",onClick:()=>{const e=new Date;(new Date).setDate(e.getDate()+7);const s={code:k(),createdAt:e.toISOString(),clicks:0,registrations:0};O(s)},className:"flex-1 py-2 text-base border-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50",children:[e.jsx(b,{className:"h-4 w-4 mr-2"})," 创建新链接"]}),e.jsxs(i,{className:"flex-1 py-2 text-base bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(N,{className:"h-4 w-4 mr-2"})," 立即分享"]})]})]})})]}),D&&e.jsxs(c,{className:"border-2 border-green-200 bg-gradient-to-r from-green-50 to-emerald-50",children:[e.jsxs(x,{className:"pb-3",children:[e.jsxs(m,{className:"flex items-center text-green-800 text-lg",children:[e.jsx(j,{className:"h-5 w-5 text-green-500 mr-2"}),"新邀请链接已创建"]}),e.jsx(d,{className:"text-green-600",children:"分享以下链接给您的好友，开始获得奖励"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(o,{value:`${T}/register?ref=${D.code}`,readOnly:!0,className:"bg-white font-medium text-base py-3 border-green-300"}),e.jsxs(i,{onClick:()=>{navigator.clipboard.writeText(`${T}/register?ref=${D.code}`),u({title:"链接已复制",description:"新的邀请链接已复制到剪贴板"})},className:"flex-shrink-0 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[e.jsx(p,{className:"h-4 w-4 mr-2"})," 复制"]})]}),e.jsxs("p",{className:"mt-3 text-sm text-green-600 flex items-center",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"邀请链接已创建，可立即使用"]})]})]})]})})]})}export{u as default};
