const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/aiService-CT12DuDs.js","assets/index-wtqtRwUF.js","assets/index-D34As0XM.css"])))=>i.map(i=>d[i]);
import{c as e,k as s,t,r as a,j as n,B as i,F as r,p as c,a7 as l}from"./index-wtqtRwUF.js";import{C as o,a as d,b as m,c as u,d as h}from"./card-C_bFSq7l.js";import{I as x,T as j}from"./input-B8WnY-wn.js";import{T as p}from"./textarea-B0w6bqkK.js";import{L as v}from"./label-DB7H83V6.js";import{P as g}from"./PageNavigation-BCbqFNdb.js";import{B as w}from"./book-open-DmAJmw91.js";import{Z as N}from"./zap-CsLxIsFs.js";import{G as y}from"./globe-Et8JMC8P.js";import{F as f,L as k,S as C,a as b,B as S}from"./search-B7ULU9VI.js";import{U as A}from"./badge-d0rZNW5y.js";import{C as I}from"./circle-check-big-CLn3wO-i.js";import{C as T,L as z}from"./link-2-BYXAL57F.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=e("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),R=e("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$=e("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),D=e=>{const s=e.includes("xiaohongshu")?"小红书":e.includes("zhihu")?"知乎":e.includes("weibo")?"微博":"网页";return`# ${s}内容提取\n\n## 主要内容\n\n这是从 ${e} 提取的内容。\n\n### 核心观点\n- **观点一**：详细阐述了重要概念和基本原理，为读者提供了深入的理解\n- **观点二**：分析了当前市场状况和发展趋势，具有很强的前瞻性\n- **观点三**：提供了实用的方法和建议，可以直接应用到实际工作中\n\n### 关键信息\n- 发布时间：2024年2月15日\n- 作者：${s}用户\n- 阅读量：10.2万\n- 点赞数：3.5千\n\n### 深度分析\n\n#### 实用价值\n这篇内容具有很强的实用价值，不仅提供了理论基础，还结合了实际案例进行分析。对于相关领域的从业者来说，是一份很好的参考资料。\n\n#### 应用建议\n1. **直接应用**：可以将其中的方法论直接应用到实际工作中\n2. **深入研究**：建议进一步深入研究相关领域的最新发展\n3. **持续关注**：关注作者的后续更新和相关讨论\n\n### 相关链接\n- [原文链接](${e})\n- [作者主页](${e}/author)\n- [相关话题](${e}/topics)\n\n---\n\n*提取时间：${(new Date).toLocaleString("zh-CN")}*\n*数据来源：${e}*`},P=e=>`## 🤖 AI智能总结\n\n### 📋 内容概要\n这是一份高质量的内容，包含了丰富的信息和深入的分析。内容结构清晰，逻辑严谨，具有很强的参考价值。\n\n### 🔍 核心观点\n- **主要论点**：内容围绕核心主题展开，提供了全面的分析视角\n- **关键信息**：包含了重要的数据和事实依据，支撑了主要观点\n- **实用建议**：提供了具体可行的方法和建议，具有很强的操作性\n\n### 💡 关键要点\n1. **理论基础扎实**：内容具备完整的理论体系支撑\n2. **实践指导性强**：提供了具体的操作指南和实施步骤\n3. **案例分析详细**：通过实际案例加深理解和应用\n4. **前瞻性强**：对未来发展趋势有深入的分析和预测\n\n### 📈 应用价值\n- **决策参考**：可作为相关决策的重要参考依据\n- **学习资料**：适合作为学习和研究的参考材料\n- **实践指导**：提供了具体的实践指导和操作建议\n\n### 🎯 推荐指数\n**⭐⭐⭐⭐⭐ 五星推荐**\n\n这份内容质量优秀，信息丰富，具有很高的参考价值。建议收藏并深入学习应用。\n\n---\n\n*AI总结生成时间：${(new Date).toLocaleString("zh-CN")}*`,U=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(s){return!1}};function O(){const e=s(),{toast:O}=t(),_=a.useRef(null),[F,E]=a.useState("url"),[q,B]=a.useState(""),[M,V]=a.useState(""),[G,H]=a.useState(null),[Z,J]=a.useState([]),[K,Q]=a.useState(!1),[W,X]=a.useState(!1),[Y,ee]=a.useState(!0),se=()=>{"url"===F&&q?(async()=>{var e,s,t;if(!q.trim())return void O({title:"请输入URL",description:"请提供有效的网页地址",variant:"destructive"});Q(!0);const a=Date.now().toString();try{await new Promise(e=>setTimeout(e,2e3));const i={id:a,source:q,sourceType:"url",title:`网页内容：${q.includes("xiaohongshu")?"小红书":q.includes("zhihu")?"知乎":"网页"}内容提取`,content:D(q),metadata:{description:"从网页中提取的结构化内容",keywords:["内容提取","网页解析","数据抓取"],author:"网站编辑",date:"2024-02-15",wordCount:350,charCount:1200},extractedAt:(new Date).toISOString(),status:"success"};if(Y)try{await new Promise(e=>setTimeout(e,500)),i.content;const a=await l(()=>import("./aiService-CT12DuDs.js"),__vite__mapDeps([0,1,2])).then(e=>e.default.summarizeContent(i.content)),n=a.data,r=null==n?void 0:n.data;a.success&&(null==(t=null==(s=null==(e=null==r?void 0:r.choices)?void 0:e[0])?void 0:s.message)?void 0:t.content)?i.summary=r.choices[0].message.content:i.summary=P(i.content)}catch(n){i.summary=P(i.content)}J(e=>[i,...e]),B(""),O({title:"内容提取成功",description:Y?"已成功提取网页内容并生成AI总结":"已成功提取网页内容"})}catch{const e={id:a,source:q,sourceType:"url",title:"提取失败",content:"",extractedAt:(new Date).toISOString(),status:"error",error:"提取失败，请检查URL是否有效"};J(s=>[e,...s]),O({title:"提取失败",description:"请检查URL是否有效或稍后重试",variant:"destructive"})}finally{Q(!1)}})():"file"===F&&G?(async()=>{if(!G)return void O({title:"请选择文件",description:"请上传要提取内容的文件",variant:"destructive"});Q(!0);const e=Date.now().toString();try{await new Promise(e=>setTimeout(e,1500));const t=await(s=G,new Promise((e,t)=>{const a=new FileReader;a.onload=s=>{var t;const a=null==(t=s.target)?void 0:t.result;e(a)},a.onerror=t,a.readAsText(s)})),a={id:e,source:G.name,sourceType:"file",title:`文件内容：${G.name}`,content:t,metadata:{description:`从文件 ${G.name} 提取的内容`,wordCount:t.split(/\s+/).length,charCount:t.length},extractedAt:(new Date).toISOString(),status:"success"};Y&&(await new Promise(e=>setTimeout(e,1500)),a.summary=P(a.content)),J(e=>[a,...e]),H(null),O({title:"文件提取成功",description:Y?`已成功提取 ${G.name} 的内容并生成AI总结`:`已成功提取 ${G.name} 的内容`})}catch{const s={id:e,source:G.name,sourceType:"file",title:"提取失败",content:"",extractedAt:(new Date).toISOString(),status:"error",error:"文件读取失败，请检查文件格式"};J(e=>[s,...e]),O({title:"文件提取失败",description:"请检查文件格式或稍后重试",variant:"destructive"})}finally{Q(!1)}var s})():"text"===F&&M&&(async()=>{if(!M.trim())return void O({title:"请输入文本",description:"请提供要处理的文本内容",variant:"destructive"});Q(!0);const e=Date.now().toString();try{await new Promise(e=>setTimeout(e,1e3));const s={id:e,source:"手动输入",sourceType:"text",title:"文本内容处理",content:M,metadata:{description:"从手动输入的文本中提取的内容",wordCount:M.split(/\s+/).length,charCount:M.length},extractedAt:(new Date).toISOString(),status:"success"};Y&&(await new Promise(e=>setTimeout(e,1500)),s.summary=P(s.content)),J(e=>[s,...e]),V(""),O({title:"文本处理成功",description:Y?"已成功处理文本内容并生成AI总结":"已成功处理文本内容"})}catch{const s={id:e,source:"手动输入",sourceType:"text",title:"处理失败",content:"",extractedAt:(new Date).toISOString(),status:"error",error:"文本处理失败，请检查内容格式"};J(e=>[s,...e]),O({title:"文本处理失败",description:"请检查内容格式或稍后重试",variant:"destructive"})}finally{Q(!1)}})()};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(g,{title:"内容提取与AI总结",description:"从网页、文件或文本中提取内容，并生成AI智能总结",actions:n.jsx("div",{className:"flex gap-2",children:n.jsxs(i,{variant:"outline",onClick:()=>e("/bookmarks"),children:[n.jsx(w,{className:"w-4 h-4 mr-2"}),"我的资料库"]})})}),n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1 space-y-6",children:n.jsxs(o,{children:[n.jsxs(d,{children:[n.jsxs(m,{className:"flex items-center gap-2",children:[n.jsx(N,{className:"w-5 h-5"}),"内容提取"]}),n.jsx(u,{children:"选择内容来源，开始提取和总结"})]}),n.jsxs(h,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(v,{className:"text-sm font-medium",children:"提取方式"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[n.jsxs(i,{variant:"url"===F?"default":"outline",size:"sm",onClick:()=>E("url"),className:"flex items-center gap-2",children:[n.jsx(y,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"网页URL"}),n.jsx("span",{className:"sm:hidden",children:"URL"})]}),n.jsxs(i,{variant:"file"===F?"default":"outline",size:"sm",onClick:()=>E("file"),className:"flex items-center gap-2",children:[n.jsx(f,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"文件上传"}),n.jsx("span",{className:"sm:hidden",children:"文件"})]}),n.jsxs(i,{variant:"text"===F?"default":"outline",size:"sm",onClick:()=>E("text"),className:"flex items-center gap-2",children:[n.jsx(r,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"文本输入"}),n.jsx("span",{className:"sm:hidden",children:"文本"})]})]})]}),"url"===F&&n.jsxs("div",{children:[n.jsx(v,{children:"网页URL"}),n.jsx(x,{placeholder:"https://example.com",value:q,onChange:e=>B(e.target.value),className:"mt-2"})]}),"file"===F&&n.jsxs("div",{children:[n.jsx(v,{children:"选择文件"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("input",{type:"file",ref:_,onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];t&&H(t)},accept:".txt,.md,.doc,.docx,.pdf",className:"hidden"}),n.jsxs(i,{variant:"outline",onClick:()=>{var e;return null==(e=_.current)?void 0:e.click()},className:"w-full",children:[n.jsx(A,{className:"w-4 h-4 mr-2"}),G?G.name:"选择文件"]})]})]}),"text"===F&&n.jsxs("div",{children:[n.jsx(v,{children:"文本内容"}),n.jsx(p,{placeholder:"输入要提取和总结的文本内容...",value:M,onChange:e=>V(e.target.value),rows:6,className:"mt-2"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"auto-summary",checked:Y,onChange:e=>ee(e.target.checked),className:"rounded"}),n.jsx("label",{htmlFor:"auto-summary",className:"text-sm font-medium",children:"自动生成AI总结"})]}),n.jsx(i,{onClick:se,disabled:K,className:"w-full",children:K?n.jsxs(n.Fragment,{children:[n.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}),"提取中..."]}):n.jsxs(n.Fragment,{children:[n.jsx(C,{className:"w-4 h-4 mr-2"}),"开始提取"]})})]})]})}),n.jsx("div",{className:"lg:col-span-2 space-y-6",children:Z.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["提取结果 (",Z.length,")"]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>J([]),children:[n.jsx(j,{className:"w-4 h-4 mr-2"}),"清空所有"]})]}),Z.map(e=>{var s,t;return n.jsxs(o,{className:"border",children:[n.jsxs(d,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:["success"===e.status&&n.jsx(I,{className:"w-5 h-5 text-green-500"}),"error"===e.status&&n.jsx(L,{className:"w-5 h-5 text-red-500"}),n.jsx(m,{className:"text-lg",children:e.title})]}),n.jsxs("div",{className:"flex gap-2",children:["error"===e.status&&n.jsxs(i,{variant:"outline",size:"sm",onClick:se,children:[n.jsx($,{className:"w-4 h-4 mr-1"}),"重试"]}),"success"===e.status&&n.jsxs(n.Fragment,{children:[n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>U(e.content),children:[n.jsx(T,{className:"w-4 h-4 mr-1"}),"复制"]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>((e,s)=>{const t=new Blob([e],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)})(e.content,`${e.title}.md`),children:[n.jsx(R,{className:"w-4 h-4 mr-1"}),"下载"]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>(async()=>{try{await new Promise(e=>setTimeout(e,500)),O({title:"保存成功",description:"内容已保存到个人库"})}catch(e){O({title:"保存失败",description:"请稍后重试",variant:"destructive"})}})(),children:[n.jsx(b,{className:"w-4 h-4 mr-1"}),"保存"]})]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>{return s=e.id,J(e=>e.filter(e=>e.id!==s)),void O({title:"删除成功",description:"已删除该提取结果"});var s},children:[n.jsx(j,{className:"w-4 h-4 mr-1"}),"删除"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:["url"===e.sourceType&&n.jsx(z,{className:"w-4 h-4"}),"file"===e.sourceType&&n.jsx(f,{className:"w-4 h-4"}),"text"===e.sourceType&&n.jsx(r,{className:"w-4 h-4"}),e.source]}),n.jsx("span",{children:(t=e.extractedAt,new Date(t).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))}),(null==(s=e.metadata)?void 0:s.wordCount)&&n.jsxs("span",{children:["字数: ",e.metadata.wordCount]})]})]}),n.jsx(h,{children:"success"===e.status?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"提取内容"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:e.content})})]}),e.summary?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(S,{className:"w-4 h-4 text-purple-500"}),n.jsx("h4",{className:"font-medium",children:"AI智能总结"}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>U(e.summary),children:[n.jsx(T,{className:"w-4 h-4 mr-1"}),"复制总结"]})]}),n.jsx("div",{className:"bg-purple-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:e.summary})})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(i,{variant:"outline",onClick:()=>(async e=>{var s,t,a;const n=Z.find(s=>s.id===e);if(n){X(!0);try{const i=await l(()=>import("./aiService-CT12DuDs.js"),__vite__mapDeps([0,1,2])).then(e=>e.default.summarizeContent(n.content)),r=i.data,c=null==r?void 0:r.data;if(!i.success||!(null==(a=null==(t=null==(s=null==c?void 0:c.choices)?void 0:s[0])?void 0:t.message)?void 0:a.content))throw new Error("AI总结生成失败");J(s=>s.map(s=>s.id===e?{...s,summary:c.choices[0].message.content}:s)),O({title:"AI总结生成成功",description:"已为内容生成智能总结"})}catch(i){O({title:"AI总结失败",description:"请稍后重试或检查网络连接",variant:"destructive"})}finally{X(!1)}}})(e.id),disabled:W,children:W?n.jsxs(n.Fragment,{children:[n.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}),"生成中..."]}):n.jsxs(n.Fragment,{children:[n.jsx(c,{className:"w-4 h-4 mr-2"}),"生成AI总结"]})})})]}):n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded",children:e.error||"提取失败"})})]},e.id)})]}):n.jsx(o,{className:"border-dashed",children:n.jsxs(h,{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[n.jsx(N,{className:"w-12 h-12 mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"等待内容提取"}),n.jsxs("p",{className:"text-sm text-center",children:["请在左侧选择内容来源并开始提取",n.jsx("br",{}),"支持网页URL、文件上传和文本输入"]})]})})})]})})]})}export{O as default};
