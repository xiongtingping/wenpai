const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/aiService-CT12DuDs.js","assets/index-wtqtRwUF.js","assets/index-D34As0XM.css"])))=>i.map(i=>d[i]);
import{c as e,k as s,t,r as a,j as n,B as i,F as r,p as c,a7 as l}from"./index-wtqtRwUF.js";import{C as o,a as d,b as m,c as u,d as h}from"./card-C_bFSq7l.js";import{I as x,T as j}from"./input-B8WnY-wn.js";import{T as p}from"./textarea-B0w6bqkK.js";import{L as v}from"./label-DB7H83V6.js";import{P as g}from"./PageNavigation-BCbqFNdb.js";import{B as w}from"./book-open-DmAJmw91.js";import{Z as N}from"./zap-CsLxIsFs.js";import{G as y}from"./globe-Et8JMC8P.js";import{F as f,L as k,S as C,a as b,B as S}from"./search-B7ULU9VI.js";import{U as A}from"./badge-d0rZNW5y.js";import{C as I}from"./circle-check-big-CLn3wO-i.js";import{C as T,L as z}from"./link-2-BYXAL57F.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=e("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),R=e("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$=e("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),D=e=>{const s=e.includes("xiaohongshu")?"å°çº¢ä¹¦":e.includes("zhihu")?"çŸ¥ä¹":e.includes("weibo")?"å¾®åš":"ç½‘é¡µ";return`# ${s}å†…å®¹æå–\n\n## ä¸»è¦å†…å®¹\n\nè¿™æ˜¯ä» ${e} æå–çš„å†…å®¹ã€‚\n\n### æ ¸å¿ƒè§‚ç‚¹\n- **è§‚ç‚¹ä¸€**ï¼šè¯¦ç»†é˜è¿°äº†é‡è¦æ¦‚å¿µå’ŒåŸºæœ¬åŸç†ï¼Œä¸ºè¯»è€…æä¾›äº†æ·±å…¥çš„ç†è§£\n- **è§‚ç‚¹äºŒ**ï¼šåˆ†æäº†å½“å‰å¸‚åœºçŠ¶å†µå’Œå‘å±•è¶‹åŠ¿ï¼Œå…·æœ‰å¾ˆå¼ºçš„å‰ç»æ€§\n- **è§‚ç‚¹ä¸‰**ï¼šæä¾›äº†å®ç”¨çš„æ–¹æ³•å’Œå»ºè®®ï¼Œå¯ä»¥ç›´æ¥åº”ç”¨åˆ°å®é™…å·¥ä½œä¸­\n\n### å…³é”®ä¿¡æ¯\n- å‘å¸ƒæ—¶é—´ï¼š2024å¹´2æœˆ15æ—¥\n- ä½œè€…ï¼š${s}ç”¨æˆ·\n- é˜…è¯»é‡ï¼š10.2ä¸‡\n- ç‚¹èµæ•°ï¼š3.5åƒ\n\n### æ·±åº¦åˆ†æ\n\n#### å®ç”¨ä»·å€¼\nè¿™ç¯‡å†…å®¹å…·æœ‰å¾ˆå¼ºçš„å®ç”¨ä»·å€¼ï¼Œä¸ä»…æä¾›äº†ç†è®ºåŸºç¡€ï¼Œè¿˜ç»“åˆäº†å®é™…æ¡ˆä¾‹è¿›è¡Œåˆ†æã€‚å¯¹äºç›¸å…³é¢†åŸŸçš„ä»ä¸šè€…æ¥è¯´ï¼Œæ˜¯ä¸€ä»½å¾ˆå¥½çš„å‚è€ƒèµ„æ–™ã€‚\n\n#### åº”ç”¨å»ºè®®\n1. **ç›´æ¥åº”ç”¨**ï¼šå¯ä»¥å°†å…¶ä¸­çš„æ–¹æ³•è®ºç›´æ¥åº”ç”¨åˆ°å®é™…å·¥ä½œä¸­\n2. **æ·±å…¥ç ”ç©¶**ï¼šå»ºè®®è¿›ä¸€æ­¥æ·±å…¥ç ”ç©¶ç›¸å…³é¢†åŸŸçš„æœ€æ–°å‘å±•\n3. **æŒç»­å…³æ³¨**ï¼šå…³æ³¨ä½œè€…çš„åç»­æ›´æ–°å’Œç›¸å…³è®¨è®º\n\n### ç›¸å…³é“¾æ¥\n- [åŸæ–‡é“¾æ¥](${e})\n- [ä½œè€…ä¸»é¡µ](${e}/author)\n- [ç›¸å…³è¯é¢˜](${e}/topics)\n\n---\n\n*æå–æ—¶é—´ï¼š${(new Date).toLocaleString("zh-CN")}*\n*æ•°æ®æ¥æºï¼š${e}*`},P=e=>`## ğŸ¤– AIæ™ºèƒ½æ€»ç»“\n\n### ğŸ“‹ å†…å®¹æ¦‚è¦\nè¿™æ˜¯ä¸€ä»½é«˜è´¨é‡çš„å†…å®¹ï¼ŒåŒ…å«äº†ä¸°å¯Œçš„ä¿¡æ¯å’Œæ·±å…¥çš„åˆ†æã€‚å†…å®¹ç»“æ„æ¸…æ™°ï¼Œé€»è¾‘ä¸¥è°¨ï¼Œå…·æœ‰å¾ˆå¼ºçš„å‚è€ƒä»·å€¼ã€‚\n\n### ğŸ” æ ¸å¿ƒè§‚ç‚¹\n- **ä¸»è¦è®ºç‚¹**ï¼šå†…å®¹å›´ç»•æ ¸å¿ƒä¸»é¢˜å±•å¼€ï¼Œæä¾›äº†å…¨é¢çš„åˆ†æè§†è§’\n- **å…³é”®ä¿¡æ¯**ï¼šåŒ…å«äº†é‡è¦çš„æ•°æ®å’Œäº‹å®ä¾æ®ï¼Œæ”¯æ’‘äº†ä¸»è¦è§‚ç‚¹\n- **å®ç”¨å»ºè®®**ï¼šæä¾›äº†å…·ä½“å¯è¡Œçš„æ–¹æ³•å’Œå»ºè®®ï¼Œå…·æœ‰å¾ˆå¼ºçš„æ“ä½œæ€§\n\n### ğŸ’¡ å…³é”®è¦ç‚¹\n1. **ç†è®ºåŸºç¡€æ‰å®**ï¼šå†…å®¹å…·å¤‡å®Œæ•´çš„ç†è®ºä½“ç³»æ”¯æ’‘\n2. **å®è·µæŒ‡å¯¼æ€§å¼º**ï¼šæä¾›äº†å…·ä½“çš„æ“ä½œæŒ‡å—å’Œå®æ–½æ­¥éª¤\n3. **æ¡ˆä¾‹åˆ†æè¯¦ç»†**ï¼šé€šè¿‡å®é™…æ¡ˆä¾‹åŠ æ·±ç†è§£å’Œåº”ç”¨\n4. **å‰ç»æ€§å¼º**ï¼šå¯¹æœªæ¥å‘å±•è¶‹åŠ¿æœ‰æ·±å…¥çš„åˆ†æå’Œé¢„æµ‹\n\n### ğŸ“ˆ åº”ç”¨ä»·å€¼\n- **å†³ç­–å‚è€ƒ**ï¼šå¯ä½œä¸ºç›¸å…³å†³ç­–çš„é‡è¦å‚è€ƒä¾æ®\n- **å­¦ä¹ èµ„æ–™**ï¼šé€‚åˆä½œä¸ºå­¦ä¹ å’Œç ”ç©¶çš„å‚è€ƒææ–™\n- **å®è·µæŒ‡å¯¼**ï¼šæä¾›äº†å…·ä½“çš„å®è·µæŒ‡å¯¼å’Œæ“ä½œå»ºè®®\n\n### ğŸ¯ æ¨èæŒ‡æ•°\n**â­â­â­â­â­ äº”æ˜Ÿæ¨è**\n\nè¿™ä»½å†…å®¹è´¨é‡ä¼˜ç§€ï¼Œä¿¡æ¯ä¸°å¯Œï¼Œå…·æœ‰å¾ˆé«˜çš„å‚è€ƒä»·å€¼ã€‚å»ºè®®æ”¶è—å¹¶æ·±å…¥å­¦ä¹ åº”ç”¨ã€‚\n\n---\n\n*AIæ€»ç»“ç”Ÿæˆæ—¶é—´ï¼š${(new Date).toLocaleString("zh-CN")}*`,U=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(s){return!1}};function O(){const e=s(),{toast:O}=t(),_=a.useRef(null),[F,E]=a.useState("url"),[q,B]=a.useState(""),[M,V]=a.useState(""),[G,H]=a.useState(null),[Z,J]=a.useState([]),[K,Q]=a.useState(!1),[W,X]=a.useState(!1),[Y,ee]=a.useState(!0),se=()=>{"url"===F&&q?(async()=>{var e,s,t;if(!q.trim())return void O({title:"è¯·è¾“å…¥URL",description:"è¯·æä¾›æœ‰æ•ˆçš„ç½‘é¡µåœ°å€",variant:"destructive"});Q(!0);const a=Date.now().toString();try{await new Promise(e=>setTimeout(e,2e3));const i={id:a,source:q,sourceType:"url",title:`ç½‘é¡µå†…å®¹ï¼š${q.includes("xiaohongshu")?"å°çº¢ä¹¦":q.includes("zhihu")?"çŸ¥ä¹":"ç½‘é¡µ"}å†…å®¹æå–`,content:D(q),metadata:{description:"ä»ç½‘é¡µä¸­æå–çš„ç»“æ„åŒ–å†…å®¹",keywords:["å†…å®¹æå–","ç½‘é¡µè§£æ","æ•°æ®æŠ“å–"],author:"ç½‘ç«™ç¼–è¾‘",date:"2024-02-15",wordCount:350,charCount:1200},extractedAt:(new Date).toISOString(),status:"success"};if(Y)try{await new Promise(e=>setTimeout(e,500)),i.content;const a=await l(()=>import("./aiService-CT12DuDs.js"),__vite__mapDeps([0,1,2])).then(e=>e.default.summarizeContent(i.content)),n=a.data,r=null==n?void 0:n.data;a.success&&(null==(t=null==(s=null==(e=null==r?void 0:r.choices)?void 0:e[0])?void 0:s.message)?void 0:t.content)?i.summary=r.choices[0].message.content:i.summary=P(i.content)}catch(n){i.summary=P(i.content)}J(e=>[i,...e]),B(""),O({title:"å†…å®¹æå–æˆåŠŸ",description:Y?"å·²æˆåŠŸæå–ç½‘é¡µå†…å®¹å¹¶ç”ŸæˆAIæ€»ç»“":"å·²æˆåŠŸæå–ç½‘é¡µå†…å®¹"})}catch{const e={id:a,source:q,sourceType:"url",title:"æå–å¤±è´¥",content:"",extractedAt:(new Date).toISOString(),status:"error",error:"æå–å¤±è´¥ï¼Œè¯·æ£€æŸ¥URLæ˜¯å¦æœ‰æ•ˆ"};J(s=>[e,...s]),O({title:"æå–å¤±è´¥",description:"è¯·æ£€æŸ¥URLæ˜¯å¦æœ‰æ•ˆæˆ–ç¨åé‡è¯•",variant:"destructive"})}finally{Q(!1)}})():"file"===F&&G?(async()=>{if(!G)return void O({title:"è¯·é€‰æ‹©æ–‡ä»¶",description:"è¯·ä¸Šä¼ è¦æå–å†…å®¹çš„æ–‡ä»¶",variant:"destructive"});Q(!0);const e=Date.now().toString();try{await new Promise(e=>setTimeout(e,1500));const t=await(s=G,new Promise((e,t)=>{const a=new FileReader;a.onload=s=>{var t;const a=null==(t=s.target)?void 0:t.result;e(a)},a.onerror=t,a.readAsText(s)})),a={id:e,source:G.name,sourceType:"file",title:`æ–‡ä»¶å†…å®¹ï¼š${G.name}`,content:t,metadata:{description:`ä»æ–‡ä»¶ ${G.name} æå–çš„å†…å®¹`,wordCount:t.split(/\s+/).length,charCount:t.length},extractedAt:(new Date).toISOString(),status:"success"};Y&&(await new Promise(e=>setTimeout(e,1500)),a.summary=P(a.content)),J(e=>[a,...e]),H(null),O({title:"æ–‡ä»¶æå–æˆåŠŸ",description:Y?`å·²æˆåŠŸæå– ${G.name} çš„å†…å®¹å¹¶ç”ŸæˆAIæ€»ç»“`:`å·²æˆåŠŸæå– ${G.name} çš„å†…å®¹`})}catch{const s={id:e,source:G.name,sourceType:"file",title:"æå–å¤±è´¥",content:"",extractedAt:(new Date).toISOString(),status:"error",error:"æ–‡ä»¶è¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼"};J(e=>[s,...e]),O({title:"æ–‡ä»¶æå–å¤±è´¥",description:"è¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼æˆ–ç¨åé‡è¯•",variant:"destructive"})}finally{Q(!1)}var s})():"text"===F&&M&&(async()=>{if(!M.trim())return void O({title:"è¯·è¾“å…¥æ–‡æœ¬",description:"è¯·æä¾›è¦å¤„ç†çš„æ–‡æœ¬å†…å®¹",variant:"destructive"});Q(!0);const e=Date.now().toString();try{await new Promise(e=>setTimeout(e,1e3));const s={id:e,source:"æ‰‹åŠ¨è¾“å…¥",sourceType:"text",title:"æ–‡æœ¬å†…å®¹å¤„ç†",content:M,metadata:{description:"ä»æ‰‹åŠ¨è¾“å…¥çš„æ–‡æœ¬ä¸­æå–çš„å†…å®¹",wordCount:M.split(/\s+/).length,charCount:M.length},extractedAt:(new Date).toISOString(),status:"success"};Y&&(await new Promise(e=>setTimeout(e,1500)),s.summary=P(s.content)),J(e=>[s,...e]),V(""),O({title:"æ–‡æœ¬å¤„ç†æˆåŠŸ",description:Y?"å·²æˆåŠŸå¤„ç†æ–‡æœ¬å†…å®¹å¹¶ç”ŸæˆAIæ€»ç»“":"å·²æˆåŠŸå¤„ç†æ–‡æœ¬å†…å®¹"})}catch{const s={id:e,source:"æ‰‹åŠ¨è¾“å…¥",sourceType:"text",title:"å¤„ç†å¤±è´¥",content:"",extractedAt:(new Date).toISOString(),status:"error",error:"æ–‡æœ¬å¤„ç†å¤±è´¥ï¼Œè¯·æ£€æŸ¥å†…å®¹æ ¼å¼"};J(e=>[s,...e]),O({title:"æ–‡æœ¬å¤„ç†å¤±è´¥",description:"è¯·æ£€æŸ¥å†…å®¹æ ¼å¼æˆ–ç¨åé‡è¯•",variant:"destructive"})}finally{Q(!1)}})()};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(g,{title:"å†…å®¹æå–ä¸AIæ€»ç»“",description:"ä»ç½‘é¡µã€æ–‡ä»¶æˆ–æ–‡æœ¬ä¸­æå–å†…å®¹ï¼Œå¹¶ç”ŸæˆAIæ™ºèƒ½æ€»ç»“",actions:n.jsx("div",{className:"flex gap-2",children:n.jsxs(i,{variant:"outline",onClick:()=>e("/bookmarks"),children:[n.jsx(w,{className:"w-4 h-4 mr-2"}),"æˆ‘çš„èµ„æ–™åº“"]})})}),n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1 space-y-6",children:n.jsxs(o,{children:[n.jsxs(d,{children:[n.jsxs(m,{className:"flex items-center gap-2",children:[n.jsx(N,{className:"w-5 h-5"}),"å†…å®¹æå–"]}),n.jsx(u,{children:"é€‰æ‹©å†…å®¹æ¥æºï¼Œå¼€å§‹æå–å’Œæ€»ç»“"})]}),n.jsxs(h,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(v,{className:"text-sm font-medium",children:"æå–æ–¹å¼"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[n.jsxs(i,{variant:"url"===F?"default":"outline",size:"sm",onClick:()=>E("url"),className:"flex items-center gap-2",children:[n.jsx(y,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"ç½‘é¡µURL"}),n.jsx("span",{className:"sm:hidden",children:"URL"})]}),n.jsxs(i,{variant:"file"===F?"default":"outline",size:"sm",onClick:()=>E("file"),className:"flex items-center gap-2",children:[n.jsx(f,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"æ–‡ä»¶ä¸Šä¼ "}),n.jsx("span",{className:"sm:hidden",children:"æ–‡ä»¶"})]}),n.jsxs(i,{variant:"text"===F?"default":"outline",size:"sm",onClick:()=>E("text"),className:"flex items-center gap-2",children:[n.jsx(r,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"æ–‡æœ¬è¾“å…¥"}),n.jsx("span",{className:"sm:hidden",children:"æ–‡æœ¬"})]})]})]}),"url"===F&&n.jsxs("div",{children:[n.jsx(v,{children:"ç½‘é¡µURL"}),n.jsx(x,{placeholder:"https://example.com",value:q,onChange:e=>B(e.target.value),className:"mt-2"})]}),"file"===F&&n.jsxs("div",{children:[n.jsx(v,{children:"é€‰æ‹©æ–‡ä»¶"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("input",{type:"file",ref:_,onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];t&&H(t)},accept:".txt,.md,.doc,.docx,.pdf",className:"hidden"}),n.jsxs(i,{variant:"outline",onClick:()=>{var e;return null==(e=_.current)?void 0:e.click()},className:"w-full",children:[n.jsx(A,{className:"w-4 h-4 mr-2"}),G?G.name:"é€‰æ‹©æ–‡ä»¶"]})]})]}),"text"===F&&n.jsxs("div",{children:[n.jsx(v,{children:"æ–‡æœ¬å†…å®¹"}),n.jsx(p,{placeholder:"è¾“å…¥è¦æå–å’Œæ€»ç»“çš„æ–‡æœ¬å†…å®¹...",value:M,onChange:e=>V(e.target.value),rows:6,className:"mt-2"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"auto-summary",checked:Y,onChange:e=>ee(e.target.checked),className:"rounded"}),n.jsx("label",{htmlFor:"auto-summary",className:"text-sm font-medium",children:"è‡ªåŠ¨ç”ŸæˆAIæ€»ç»“"})]}),n.jsx(i,{onClick:se,disabled:K,className:"w-full",children:K?n.jsxs(n.Fragment,{children:[n.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}),"æå–ä¸­..."]}):n.jsxs(n.Fragment,{children:[n.jsx(C,{className:"w-4 h-4 mr-2"}),"å¼€å§‹æå–"]})})]})]})}),n.jsx("div",{className:"lg:col-span-2 space-y-6",children:Z.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["æå–ç»“æœ (",Z.length,")"]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>J([]),children:[n.jsx(j,{className:"w-4 h-4 mr-2"}),"æ¸…ç©ºæ‰€æœ‰"]})]}),Z.map(e=>{var s,t;return n.jsxs(o,{className:"border",children:[n.jsxs(d,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:["success"===e.status&&n.jsx(I,{className:"w-5 h-5 text-green-500"}),"error"===e.status&&n.jsx(L,{className:"w-5 h-5 text-red-500"}),n.jsx(m,{className:"text-lg",children:e.title})]}),n.jsxs("div",{className:"flex gap-2",children:["error"===e.status&&n.jsxs(i,{variant:"outline",size:"sm",onClick:se,children:[n.jsx($,{className:"w-4 h-4 mr-1"}),"é‡è¯•"]}),"success"===e.status&&n.jsxs(n.Fragment,{children:[n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>U(e.content),children:[n.jsx(T,{className:"w-4 h-4 mr-1"}),"å¤åˆ¶"]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>((e,s)=>{const t=new Blob([e],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)})(e.content,`${e.title}.md`),children:[n.jsx(R,{className:"w-4 h-4 mr-1"}),"ä¸‹è½½"]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>(async()=>{try{await new Promise(e=>setTimeout(e,500)),O({title:"ä¿å­˜æˆåŠŸ",description:"å†…å®¹å·²ä¿å­˜åˆ°ä¸ªäººåº“"})}catch(e){O({title:"ä¿å­˜å¤±è´¥",description:"è¯·ç¨åé‡è¯•",variant:"destructive"})}})(),children:[n.jsx(b,{className:"w-4 h-4 mr-1"}),"ä¿å­˜"]})]}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>{return s=e.id,J(e=>e.filter(e=>e.id!==s)),void O({title:"åˆ é™¤æˆåŠŸ",description:"å·²åˆ é™¤è¯¥æå–ç»“æœ"});var s},children:[n.jsx(j,{className:"w-4 h-4 mr-1"}),"åˆ é™¤"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:["url"===e.sourceType&&n.jsx(z,{className:"w-4 h-4"}),"file"===e.sourceType&&n.jsx(f,{className:"w-4 h-4"}),"text"===e.sourceType&&n.jsx(r,{className:"w-4 h-4"}),e.source]}),n.jsx("span",{children:(t=e.extractedAt,new Date(t).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))}),(null==(s=e.metadata)?void 0:s.wordCount)&&n.jsxs("span",{children:["å­—æ•°: ",e.metadata.wordCount]})]})]}),n.jsx(h,{children:"success"===e.status?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"æå–å†…å®¹"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:e.content})})]}),e.summary?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(S,{className:"w-4 h-4 text-purple-500"}),n.jsx("h4",{className:"font-medium",children:"AIæ™ºèƒ½æ€»ç»“"}),n.jsxs(i,{variant:"outline",size:"sm",onClick:()=>U(e.summary),children:[n.jsx(T,{className:"w-4 h-4 mr-1"}),"å¤åˆ¶æ€»ç»“"]})]}),n.jsx("div",{className:"bg-purple-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:e.summary})})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(i,{variant:"outline",onClick:()=>(async e=>{var s,t,a;const n=Z.find(s=>s.id===e);if(n){X(!0);try{const i=await l(()=>import("./aiService-CT12DuDs.js"),__vite__mapDeps([0,1,2])).then(e=>e.default.summarizeContent(n.content)),r=i.data,c=null==r?void 0:r.data;if(!i.success||!(null==(a=null==(t=null==(s=null==c?void 0:c.choices)?void 0:s[0])?void 0:t.message)?void 0:a.content))throw new Error("AIæ€»ç»“ç”Ÿæˆå¤±è´¥");J(s=>s.map(s=>s.id===e?{...s,summary:c.choices[0].message.content}:s)),O({title:"AIæ€»ç»“ç”ŸæˆæˆåŠŸ",description:"å·²ä¸ºå†…å®¹ç”Ÿæˆæ™ºèƒ½æ€»ç»“"})}catch(i){O({title:"AIæ€»ç»“å¤±è´¥",description:"è¯·ç¨åé‡è¯•æˆ–æ£€æŸ¥ç½‘ç»œè¿æ¥",variant:"destructive"})}finally{X(!1)}}})(e.id),disabled:W,children:W?n.jsxs(n.Fragment,{children:[n.jsx(k,{className:"w-4 h-4 mr-2 animate-spin"}),"ç”Ÿæˆä¸­..."]}):n.jsxs(n.Fragment,{children:[n.jsx(c,{className:"w-4 h-4 mr-2"}),"ç”ŸæˆAIæ€»ç»“"]})})})]}):n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded",children:e.error||"æå–å¤±è´¥"})})]},e.id)})]}):n.jsx(o,{className:"border-dashed",children:n.jsxs(h,{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[n.jsx(N,{className:"w-12 h-12 mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"ç­‰å¾…å†…å®¹æå–"}),n.jsxs("p",{className:"text-sm text-center",children:["è¯·åœ¨å·¦ä¾§é€‰æ‹©å†…å®¹æ¥æºå¹¶å¼€å§‹æå–",n.jsx("br",{}),"æ”¯æŒç½‘é¡µURLã€æ–‡ä»¶ä¸Šä¼ å’Œæ–‡æœ¬è¾“å…¥"]})]})})})]})})]})}export{O as default};
