import{j as e}from"./ui-core-BoM6Gtru.js";import{j as s,C as t,a as i,b as l,e as a,B as r}from"./pages-home-DBDkeS6P.js";import{B as n}from"./pages-adapt-D91yLQsN.js";import{S as d}from"./pages-hot-topics-BG8BbuZW.js";import"./router-CDHmMMQ-.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-B0lu_Zdo.js";import"./components-layout-GdDGmkJW.js";import"./utils-Ck01-_Du.js";import"./pages-brand-Y2nduvKa.js";import"./api-services-sC6AUvc1.js";import"./pages-content-extractor-UQ_Zkhev.js";import"./components-auth-BdwTK_yH.js";function c(){const{user:c,isAuthenticated:x,loading:m,error:o,status:j,login:h,logout:u}=s();return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(t,{children:[e.jsxs(i,{children:[e.jsx(l,{className:"text-2xl font-bold text-center",children:"🔐 Authing SDK 统一登录测试"}),e.jsx("p",{className:"text-center text-muted-foreground",children:"验证所有登录入口都使用Authing SDK模式，不再使用自定义表单"})]}),e.jsxs(a,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t,{children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-2",children:x?"✅":"❌"}),e.jsx("div",{className:"text-sm font-medium",children:"认证状态"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:x?"已登录":"未登录"})]})}),e.jsx(t,{children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-2",children:m?"⏳":"✅"}),e.jsx("div",{className:"text-sm font-medium",children:"加载状态"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:m?"加载中":"已完成"})]})}),e.jsx(t,{children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-2",children:"authenticated"===j?"✅":"loading"===j?"⏳":"❌"}),e.jsx("div",{className:"text-sm font-medium",children:"状态详情"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:j})]})})]}),e.jsx(d,{}),x&&c&&e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(l,{className:"text-lg",children:"👤 用户信息"})}),e.jsx(a,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"用户ID:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"昵称:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.nickname||"未设置"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"邮箱:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.email||"未设置"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"手机:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.phone||"未设置"})]})]})})]}),o&&e.jsx(t,{className:"border-red-200 bg-red-50",children:e.jsx(a,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"destructive",children:"错误"}),e.jsx("span",{className:"text-sm text-red-700",children:o})]})})}),e.jsx(d,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{onClick:()=>{h()},disabled:m||x,className:"h-12 text-base",children:m?"⏳ 加载中...":"🔐 测试Authing登录"}),e.jsx(r,{onClick:async()=>{await u()},disabled:m||!x,variant:"outline",className:"h-12 text-base",children:"🚪 测试Authing登出"})]}),e.jsx(t,{className:"bg-blue-50 border-blue-200",children:e.jsxs(a,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"✅ 统一认证架构说明"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• 所有登录入口都使用Authing SDK，不再使用自定义表单"}),e.jsx("li",{children:"• 登录弹窗会自动关闭，无需手动处理"}),e.jsx("li",{children:"• 支持邮箱、手机号、社交账号等多种登录方式"}),e.jsx("li",{children:"• 统一的用户状态管理和权限控制"}),e.jsx("li",{children:"• 保留了所有功能，包括个人中心等"})]})]})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"测试其他登录入口:"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>window.open("/login","_blank"),children:"/login"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>window.open("/login-register","_blank"),children:"/login-register"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>window.open("/register","_blank"),children:"/register"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>window.open("/forgot-password","_blank"),children:"/forgot-password"})]})]})]})]})})})}export{c as default};
