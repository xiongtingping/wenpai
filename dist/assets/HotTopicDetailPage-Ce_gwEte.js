import{c as e,an as s,p as a,u as t,r as l,j as i,B as r,P as c,C as n,e as o,g as m,f as x,h as d,af as h,am as j,i as p,Z as N,ao as f,X as g}from"./index-Dk-gCvGC.js";import{S as u}from"./separator-BIt6tbUO.js";import{A as y}from"./arrow-left-D5FHeCmc.js";import{S as b}from"./share-2-CsM52jhB.js";import{C as v}from"./copy-Dl2_VZ1T.js";import{F as w}from"./flame-DZdU2rcs.js";import{E as k}from"./eye-BIY8v0D2.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=e("bookmark-plus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);function S(){const{platform:e,title:S}=s(),I=a(),{toast:T}=t(),[F,$]=l.useState(null),[z,R]=l.useState(!0),[U,J]=l.useState(!1),[O,A]=l.useState(!1);l.useEffect(()=>{if(e&&S){const a=localStorage.getItem("hotTopicsData");if(a)try{const s=(JSON.parse(a)[e]||[]).find(e=>decodeURIComponent(e.title)===decodeURIComponent(S));$(s||{title:decodeURIComponent(S),hot:"100000",url:"#",platform:e,desc:decodeURIComponent(S),content:`关于"${decodeURIComponent(S)}"的话题在${e}平台引发了广泛讨论。这个话题涉及多个方面的内容，包括背景信息、相关讨论和重要观点。`,relatedTopics:[`${decodeURIComponent(S)}相关讨论`,"热门话题","实时讨论"],rank:1})}catch(s){}R(!1)}},[e,S]);const D=()=>{I("/hot-topics")},E=async()=>{if(navigator.share&&F)try{await navigator.share({title:F.title,text:F.content||F.title,url:window.location.href})}catch(e){}else await G()},G=async()=>{try{await navigator.clipboard.writeText(window.location.href),A(!0),T({title:"链接已复制",description:"话题链接已复制到剪贴板"}),setTimeout(()=>A(!1),2e3)}catch(e){T({title:"复制失败",description:"无法复制链接到剪贴板",variant:"destructive"})}},H=()=>{if(F){const e=JSON.parse(localStorage.getItem("bookmarkedTopics")||"[]");if(e.some(e=>e.title===F.title&&e.platform===F.platform)){const s=e.filter(e=>!(e.title===F.title&&e.platform===F.platform));localStorage.setItem("bookmarkedTopics",JSON.stringify(s)),J(!1),T({title:"已取消收藏",description:"话题已从收藏中移除"})}else e.push(F),localStorage.setItem("bookmarkedTopics",JSON.stringify(e)),J(!0),T({title:"已收藏",description:"话题已添加到收藏"})}},B=e=>{const s=parseInt(e);return s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}K`:e},V=e=>({weibo:"微博",zhihu:"知乎",douyin:"抖音",bilibili:"B站",baidu:"百度","36kr":"36氪",ithome:"IT之家",sspai:"少数派",juejin:"掘金",csdn:"CSDN",github:"GitHub",v2ex:"V2EX",ngabbs:"NGA",hellogithub:"HelloGitHub"}[e]||e);return z?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"加载中..."})]})})}):F?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[i.jsx(c,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-6",children:i.jsxs(r,{variant:"ghost",onClick:D,className:"flex items-center gap-2",children:[i.jsx(y,{className:"w-4 h-4"}),"返回热点话题"]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(n,{className:"mb-6",children:[i.jsx(o,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(m,{variant:"outline",children:V(F.platform||"")}),F.rank&&i.jsxs(m,{className:"bg-blue-500 text-white",children:["#",F.rank]})]}),i.jsx(x,{className:"text-2xl font-bold text-gray-800 mb-2",children:F.title}),i.jsx(d,{className:"text-gray-600",children:F.desc})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(r,{variant:"outline",size:"sm",onClick:E,className:"flex items-center gap-1",children:[i.jsx(b,{className:"w-4 h-4"}),"分享"]}),i.jsxs(r,{variant:"outline",size:"sm",onClick:G,className:"flex items-center gap-1",children:[O?i.jsx(h,{className:"w-4 h-4"}):i.jsx(v,{className:"w-4 h-4"}),O?"已复制":"复制链接"]}),i.jsxs(r,{variant:"outline",size:"sm",onClick:H,className:"flex items-center gap-1",children:[U?i.jsx(j,{className:"w-4 h-4"}):i.jsx(C,{className:"w-4 h-4"}),U?"已收藏":"收藏"]})]})]})}),i.jsxs(p,{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(w,{className:"w-5 h-5 text-orange-500"}),i.jsx("span",{className:"font-semibold text-orange-600",children:"热度值"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(N,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-lg font-bold text-gray-800",children:B(F.hot)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(k,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-sm text-gray-600",children:"实时热度"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx(f,{className:"w-5 h-5 text-blue-500"}),"话题详情"]}),i.jsx("div",{className:"prose prose-gray max-w-none",children:i.jsx("p",{className:"text-gray-700 leading-relaxed",children:F.content||`关于"${F.title}"的话题在${V(F.platform||"")}平台引发了广泛讨论。这个话题涉及多个方面的内容，包括背景信息、相关讨论和重要观点。`})})]}),i.jsx(u,{className:"my-6"}),F.relatedTopics&&F.relatedTopics.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx(g,{className:"w-5 h-5 text-green-500"}),"相关话题"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:F.relatedTopics.map((e,s)=>i.jsx(m,{variant:"secondary",className:"cursor-pointer hover:bg-gray-200 transition-colors",children:e},s))})]})]})]})}),i.jsxs("div",{className:"lg:col-span-1",children:[i.jsxs(n,{children:[i.jsx(o,{children:i.jsx(x,{className:"text-lg",children:"话题统计"})}),i.jsxs(p,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"平台"}),i.jsx(m,{variant:"outline",children:V(F.platform||"")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"排名"}),i.jsxs("span",{className:"font-semibold",children:["#",F.rank||"N/A"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"热度值"}),i.jsx("span",{className:"font-semibold text-orange-600",children:B(F.hot)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"更新时间"}),i.jsx("span",{className:"text-sm text-gray-500",children:(new Date).toLocaleString("zh-CN")})]})]})]}),i.jsxs(n,{className:"mt-4",children:[i.jsx(o,{children:i.jsx(x,{className:"text-lg",children:"快速操作"})}),i.jsxs(p,{className:"space-y-2",children:[i.jsxs(r,{variant:"outline",className:"w-full justify-start",onClick:E,children:[i.jsx(b,{className:"w-4 h-4 mr-2"}),"分享话题"]}),i.jsx(r,{variant:"outline",className:"w-full justify-start",onClick:H,children:U?i.jsxs(i.Fragment,{children:[i.jsx(j,{className:"w-4 h-4 mr-2"}),"取消收藏"]}):i.jsxs(i.Fragment,{children:[i.jsx(C,{className:"w-4 h-4 mr-2"}),"收藏话题"]})}),i.jsx(r,{variant:"outline",className:"w-full justify-start",onClick:G,children:O?i.jsxs(i.Fragment,{children:[i.jsx(h,{className:"w-4 h-4 mr-2"}),"已复制链接"]}):i.jsxs(i.Fragment,{children:[i.jsx(v,{className:"w-4 h-4 mr-2"}),"复制链接"]})})]})]})]})]})]})]}):i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"话题未找到"}),i.jsx(r,{onClick:D,children:"返回热点话题"})]})})}export{S as default};
