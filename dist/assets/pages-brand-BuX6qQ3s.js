import{j as e,M as t,N as a,Q as s,U as r,W as n,X as l,Y as i,Z as d,_ as o,$ as c,a0 as u,a1 as m,a2 as p,a3 as h,a4 as x,a5 as f,a6 as g,a7 as v,B as j,E as y,O as w,F as N,a8 as b,a9 as k,aa as S}from"./ui-core-BoM6Gtru.js";import{r as C,u as A}from"./router-CDHmMMQ-.js";import{c as E,u as R,C as I,e as D,B as $,a as K,b as z,d as P}from"./pages-home-B-YLcn0z.js";import{i as M,j as F,k as q,l as O,L as T,S as _,e as L,f as B,g as V,h as U,I as X,B as G,D as H,b as W,c as Z,d as J,m as Y,T as Q,n as ee}from"./pages-adapt-CSkmXLuc.js";import{ae as te,j as ae,af as se,b as re,z as ne,a3 as le,e as ie,M as de,w as oe,ag as ce,Z as ue,ah as me,ai as pe,aj as he,Y as xe,H as fe,a8 as ge,o as ve,m as je,s as ye,ak as we,al as Ne,ab as be,a7 as ke,am as Se,ac as Ce,D as Ae,an as Ee,aa as Re,ad as Ie,X as De,ao as $e,v as Ke,a5 as ze,P as Pe}from"./utils-Ck01-_Du.js";import{P as Me}from"./components-layout-B8FsrdzO.js";import{A as Fe}from"./api-services-DPZFfcoz.js";const qe=s,Oe=r,Te=C.forwardRef(({className:s,align:r="center",sideOffset:n=4,...l},i)=>e.jsx(t,{children:e.jsx(a,{ref:i,align:r,sideOffset:n,className:E("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...l})}));Te.displayName=a.displayName;const _e=x,Le=f;C.forwardRef(({className:t,inset:a,children:s,...r},l)=>e.jsxs(n,{ref:l,className:E("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...r,children:[s,e.jsx(te,{className:"ml-auto"})]})).displayName=n.displayName,C.forwardRef(({className:t,...a},s)=>e.jsx(l,{ref:s,className:E("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})).displayName=l.displayName;const Be=C.forwardRef(({className:t,sideOffset:a=4,...s},r)=>e.jsx(i,{children:e.jsx(d,{ref:r,sideOffset:a,className:E("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s})}));Be.displayName=d.displayName;const Ve=C.forwardRef(({className:t,inset:a,...s},r)=>e.jsx(o,{ref:r,className:E("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",a&&"pl-8",t),...s}));Ve.displayName=o.displayName,C.forwardRef(({className:t,children:a,checked:s,...r},n)=>e.jsxs(c,{ref:n,className:E("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(u,{children:e.jsx(ae,{className:"h-4 w-4"})})}),a]})).displayName=c.displayName,C.forwardRef(({className:t,children:a,...s},r)=>e.jsxs(m,{ref:r,className:E("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(u,{children:e.jsx(se,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=m.displayName;const Ue=C.forwardRef(({className:t,inset:a,...s},r)=>e.jsx(p,{ref:r,className:E("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...s}));Ue.displayName=p.displayName;const Xe=C.forwardRef(({className:t,...a},s)=>e.jsx(h,{ref:s,className:E("-mx-1 my-1 h-px bg-muted",t),...a}));Xe.displayName=h.displayName;const Ge=re("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),He=C.forwardRef(({className:t,variant:a,...s},r)=>e.jsx("div",{ref:r,role:"alert",className:E(Ge({variant:a}),t),...s}));He.displayName="Alert",C.forwardRef(({className:t,...a},s)=>e.jsx("h5",{ref:s,className:E("mb-1 font-medium leading-none tracking-tight",t),...a})).displayName="AlertTitle";const We=C.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:E("text-sm [&_p]:leading-relaxed",t),...a}));We.displayName="AlertDescription";var Ze=.999,Je=/[\\\/_+.#"@\[\(\{&]/,Ye=/[\\\/_+.#"@\[\(\{&]/g,Qe=/[\s-]/,et=/[\s-]/g;function tt(e,t,a,s,r,n,l){if(n===t.length)return r===e.length?1:.99;var i=`${r},${n}`;if(void 0!==l[i])return l[i];for(var d,o,c,u,m=s.charAt(n),p=a.indexOf(m,r),h=0;p>=0;)(d=tt(e,t,a,s,p+1,n+1,l))>h&&(p===r?d*=1:Je.test(e.charAt(p-1))?(d*=.8,(c=e.slice(r,p-1).match(Ye))&&r>0&&(d*=Math.pow(Ze,c.length))):Qe.test(e.charAt(p-1))?(d*=.9,(u=e.slice(r,p-1).match(et))&&r>0&&(d*=Math.pow(Ze,u.length))):(d*=.17,r>0&&(d*=Math.pow(Ze,p-r))),e.charAt(p)!==t.charAt(n)&&(d*=.9999)),(d<.1&&a.charAt(p-1)===s.charAt(n+1)||s.charAt(n+1)===s.charAt(n)&&a.charAt(p-1)!==s.charAt(n))&&.1*(o=tt(e,t,a,s,p+1,n+2,l))>d&&(d=.1*o),d>h&&(h=d),p=a.indexOf(m,p+1);return l[i]=h,h}function at(e){return e.toLowerCase().replace(et," ")}function st(e,t,a){return tt(e=a&&a.length>0?e+" "+a.join(" "):e,t,at(e),at(t),0,0,{})}var rt='[cmdk-group=""]',nt='[cmdk-group-items=""]',lt='[cmdk-item=""]',it=`${lt}:not([aria-disabled="true"])`,dt="cmdk-item-select",ot="data-value",ct=(e,t,a)=>st(e,t,a),ut=C.createContext(void 0),mt=()=>C.useContext(ut),pt=C.createContext(void 0),ht=()=>C.useContext(pt),xt=C.createContext(void 0),ft=C.forwardRef((e,t)=>{let a=It(()=>{var t,a;return{search:"",value:null!=(a=null!=(t=e.value)?t:e.defaultValue)?a:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=It(()=>new Set),r=It(()=>new Map),n=It(()=>new Map),l=It(()=>new Set),i=Et(e),{label:d,children:o,value:c,onValueChange:u,filter:m,shouldFilter:p,loop:h,disablePointerSelection:x=!1,vimBindings:f=!0,...j}=e,y=g(),w=g(),N=g(),b=C.useRef(null),k=Kt();Rt(()=>{if(void 0!==c){let e=c.trim();a.current.value=e,S.emit()}},[c]),Rt(()=>{k(6,$)},[]);let S=C.useMemo(()=>({subscribe:e=>(l.current.add(e),()=>l.current.delete(e)),snapshot:()=>a.current,setState:(e,t,s)=>{var r,n,l,d;if(!Object.is(a.current[e],t)){if(a.current[e]=t,"search"===e)D(),R(),k(1,I);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(N);e?e.focus():null==(r=document.getElementById(y))||r.focus()}if(k(7,()=>{var e;a.current.selectedItemId=null==(e=K())?void 0:e.id,S.emit()}),s||k(5,$),void 0!==(null==(n=i.current)?void 0:n.value)){let e=null!=t?t:"";return void(null==(d=(l=i.current).onValueChange)||d.call(l,e))}}S.emit()}},emit:()=>{l.current.forEach(e=>e())}}),[]),A=C.useMemo(()=>({value:(e,t,s)=>{var r;t!==(null==(r=n.current.get(e))?void 0:r.value)&&(n.current.set(e,{value:t,keywords:s}),a.current.filtered.items.set(e,E(t,s)),k(2,()=>{R(),S.emit()}))},item:(e,t)=>(s.current.add(e),t&&(r.current.has(t)?r.current.get(t).add(e):r.current.set(t,new Set([e]))),k(3,()=>{D(),R(),a.current.value||I(),S.emit()}),()=>{n.current.delete(e),s.current.delete(e),a.current.filtered.items.delete(e);let t=K();k(4,()=>{D(),(null==t?void 0:t.getAttribute("id"))===e&&I(),S.emit()})}),group:e=>(r.current.has(e)||r.current.set(e,new Set),()=>{n.current.delete(e),r.current.delete(e)}),filter:()=>i.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:y,inputId:N,labelId:w,listInnerRef:b}),[]);function E(e,t){var s,r;let n=null!=(r=null==(s=i.current)?void 0:s.filter)?r:ct;return e?n(e,a.current.search,t):0}function R(){if(!a.current.search||!1===i.current.shouldFilter)return;let e=a.current.filtered.items,t=[];a.current.filtered.groups.forEach(a=>{let s=r.current.get(a),n=0;s.forEach(t=>{let a=e.get(t);n=Math.max(a,n)}),t.push([a,n])});let s=b.current;z().sort((t,a)=>{var s,r;let n=t.getAttribute("id"),l=a.getAttribute("id");return(null!=(s=e.get(l))?s:0)-(null!=(r=e.get(n))?r:0)}).forEach(e=>{let t=e.closest(nt);t?t.appendChild(e.parentElement===t?e:e.closest(`${nt} > *`)):s.appendChild(e.parentElement===s?e:e.closest(`${nt} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let a=null==(t=b.current)?void 0:t.querySelector(`${rt}[${ot}="${encodeURIComponent(e[0])}"]`);null==a||a.parentElement.appendChild(a)})}function I(){let e=z().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(ot);S.setState("value",t||void 0)}function D(){var e,t,l,d;if(!a.current.search||!1===i.current.shouldFilter)return void(a.current.filtered.count=s.current.size);a.current.filtered.groups=new Set;let o=0;for(let r of s.current){let s=E(null!=(t=null==(e=n.current.get(r))?void 0:e.value)?t:"",null!=(d=null==(l=n.current.get(r))?void 0:l.keywords)?d:[]);a.current.filtered.items.set(r,s),s>0&&o++}for(let[s,n]of r.current)for(let e of n)if(a.current.filtered.items.get(e)>0){a.current.filtered.groups.add(s);break}a.current.filtered.count=o}function $(){var e,t,a;let s=K();s&&((null==(e=s.parentElement)?void 0:e.firstChild)===s&&(null==(a=null==(t=s.closest(rt))?void 0:t.querySelector('[cmdk-group-heading=""]'))||a.scrollIntoView({block:"nearest"})),s.scrollIntoView({block:"nearest"}))}function K(){var e;return null==(e=b.current)?void 0:e.querySelector(`${lt}[aria-selected="true"]`)}function z(){var e;return Array.from((null==(e=b.current)?void 0:e.querySelectorAll(it))||[])}function P(e){let t=z()[e];t&&S.setState("value",t.getAttribute(ot))}function M(e){var t;let a=K(),s=z(),r=s.findIndex(e=>e===a),n=s[r+e];null!=(t=i.current)&&t.loop&&(n=r+e<0?s[s.length-1]:r+e===s.length?s[0]:s[r+e]),n&&S.setState("value",n.getAttribute(ot))}function F(e){let t,a=K(),s=null==a?void 0:a.closest(rt);for(;s&&!t;)s=e>0?Ct(s,rt):At(s,rt),t=null==s?void 0:s.querySelector(it);t?S.setState("value",t.getAttribute(ot)):M(e)}let q=()=>P(z().length-1),O=e=>{e.preventDefault(),e.metaKey?q():e.altKey?F(1):M(1)},T=e=>{e.preventDefault(),e.metaKey?P(0):e.altKey?F(-1):M(-1)};return C.createElement(v.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=j.onKeyDown)||t.call(j,e);let a=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!a)switch(e.key){case"n":case"j":f&&e.ctrlKey&&O(e);break;case"ArrowDown":O(e);break;case"p":case"k":f&&e.ctrlKey&&T(e);break;case"ArrowUp":T(e);break;case"Home":e.preventDefault(),P(0);break;case"End":e.preventDefault(),q();break;case"Enter":{e.preventDefault();let t=K();if(t){let e=new Event(dt);t.dispatchEvent(e)}}}}},C.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:Pt},d),zt(e,e=>C.createElement(pt.Provider,{value:S},C.createElement(ut.Provider,{value:A},e))))}),gt=C.forwardRef((e,t)=>{var a,s;let r=g(),n=C.useRef(null),l=C.useContext(xt),i=mt(),d=Et(e),o=null!=(s=null==(a=d.current)?void 0:a.forceMount)?s:null==l?void 0:l.forceMount;Rt(()=>{if(!o)return i.item(r,null==l?void 0:l.id)},[o]);let c=$t(r,n,[e.value,e.children,n],e.keywords),u=ht(),m=Dt(e=>e.value&&e.value===c.current),p=Dt(e=>!(!o&&!1!==i.filter())||!e.search||e.filtered.items.get(r)>0);function h(){var e,t;x(),null==(t=(e=d.current).onSelect)||t.call(e,c.current)}function x(){u.setState("value",c.current,!0)}if(C.useEffect(()=>{let t=n.current;if(t&&!e.disabled)return t.addEventListener(dt,h),()=>t.removeEventListener(dt,h)},[p,e.onSelect,e.disabled]),!p)return null;let{disabled:f,value:j,onSelect:y,forceMount:w,keywords:N,...k}=e;return C.createElement(v.div,{ref:b(n,t),...k,id:r,"cmdk-item":"",role:"option","aria-disabled":!!f,"aria-selected":!!m,"data-disabled":!!f,"data-selected":!!m,onPointerMove:f||i.getDisablePointerSelection()?void 0:x,onClick:f?void 0:h},e.children)}),vt=C.forwardRef((e,t)=>{let{heading:a,children:s,forceMount:r,...n}=e,l=g(),i=C.useRef(null),d=C.useRef(null),o=g(),c=mt(),u=Dt(e=>!(!r&&!1!==c.filter())||!e.search||e.filtered.groups.has(l));Rt(()=>c.group(l),[]),$t(l,i,[e.value,e.heading,d]);let m=C.useMemo(()=>({id:l,forceMount:r}),[r]);return C.createElement(v.div,{ref:b(i,t),...n,"cmdk-group":"",role:"presentation",hidden:!u||void 0},a&&C.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:o},a),zt(e,e=>C.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?o:void 0},C.createElement(xt.Provider,{value:m},e))))}),jt=C.forwardRef((e,t)=>{let{alwaysRender:a,...s}=e,r=C.useRef(null),n=Dt(e=>!e.search);return a||n?C.createElement(v.div,{ref:b(r,t),...s,"cmdk-separator":"",role:"separator"}):null}),yt=C.forwardRef((e,t)=>{let{onValueChange:a,...s}=e,r=null!=e.value,n=ht(),l=Dt(e=>e.search),i=Dt(e=>e.selectedItemId),d=mt();return C.useEffect(()=>{null!=e.value&&n.setState("search",e.value)},[e.value]),C.createElement(v.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":i,id:d.inputId,type:"text",value:r?e.value:l,onChange:e=>{r||n.setState("search",e.target.value),null==a||a(e.target.value)}})}),wt=C.forwardRef((e,t)=>{let{children:a,label:s="Suggestions",...r}=e,n=C.useRef(null),l=C.useRef(null),i=Dt(e=>e.selectedItemId),d=mt();return C.useEffect(()=>{if(l.current&&n.current){let e,t=l.current,a=n.current,s=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;a.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return s.observe(t),()=>{cancelAnimationFrame(e),s.unobserve(t)}}},[]),C.createElement(v.div,{ref:b(n,t),...r,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":s,id:d.listId},zt(e,e=>C.createElement("div",{ref:b(l,d.listInnerRef),"cmdk-list-sizer":""},e)))}),Nt=C.forwardRef((e,t)=>{let{open:a,onOpenChange:s,overlayClassName:r,contentClassName:n,container:l,...i}=e;return C.createElement(j,{open:a,onOpenChange:s},C.createElement(y,{container:l},C.createElement(w,{"cmdk-overlay":"",className:r}),C.createElement(N,{"aria-label":e.label,"cmdk-dialog":"",className:n},C.createElement(ft,{ref:t,...i}))))}),bt=C.forwardRef((e,t)=>Dt(e=>0===e.filtered.count)?C.createElement(v.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),kt=C.forwardRef((e,t)=>{let{progress:a,children:s,label:r="Loading...",...n}=e;return C.createElement(v.div,{ref:t,...n,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},zt(e,e=>C.createElement("div",{"aria-hidden":!0},e)))}),St=Object.assign(ft,{List:wt,Item:gt,Input:yt,Group:vt,Separator:jt,Dialog:Nt,Empty:bt,Loading:kt});function Ct(e,t){let a=e.nextElementSibling;for(;a;){if(a.matches(t))return a;a=a.nextElementSibling}}function At(e,t){let a=e.previousElementSibling;for(;a;){if(a.matches(t))return a;a=a.previousElementSibling}}function Et(e){let t=C.useRef(e);return Rt(()=>{t.current=e}),t}var Rt="undefined"==typeof window?C.useEffect:C.useLayoutEffect;function It(e){let t=C.useRef();return void 0===t.current&&(t.current=e()),t}function Dt(e){let t=ht(),a=()=>e(t.snapshot());return C.useSyncExternalStore(t.subscribe,a,a)}function $t(e,t,a,s=[]){let r=C.useRef(),n=mt();return Rt(()=>{var l;let i=(()=>{var e;for(let t of a){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():r.current}})(),d=s.map(e=>e.trim());n.value(e,i,d),null==(l=t.current)||l.setAttribute(ot,i),r.current=i}),r}var Kt=()=>{let[e,t]=C.useState(),a=It(()=>new Map);return Rt(()=>{a.current.forEach(e=>e()),a.current=new Map},[e]),(e,s)=>{a.current.set(e,s),t({})}};function zt({asChild:e,children:t},a){return e&&C.isValidElement(t)?C.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},a(t.props.children)):a(t)}var Pt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Mt=C.forwardRef(({className:t,...a},s)=>e.jsx(St,{ref:s,className:E("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...a}));Mt.displayName=St.displayName;const Ft=C.forwardRef(({className:t,...a},s)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(ne,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(St.Input,{ref:s,className:E("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...a})]}));Ft.displayName=St.Input.displayName;const qt=C.forwardRef(({className:t,...a},s)=>e.jsx(St.List,{ref:s,className:E("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...a}));qt.displayName=St.List.displayName;const Ot=C.forwardRef((t,a)=>e.jsx(St.Empty,{ref:a,className:"py-6 text-center text-sm",...t}));Ot.displayName=St.Empty.displayName;const Tt=C.forwardRef(({className:t,...a},s)=>e.jsx(St.Group,{ref:s,className:E("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...a}));Tt.displayName=St.Group.displayName,C.forwardRef(({className:t,...a},s)=>e.jsx(St.Separator,{ref:s,className:E("-mx-1 h-px bg-border",t),...a})).displayName=St.Separator.displayName;const _t=C.forwardRef(({className:t,...a},s)=>e.jsx(St.Item,{ref:s,className:E("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...a}));_t.displayName=St.Item.displayName;const Lt=C.forwardRef(({className:t,value:a,...s},r)=>e.jsx(k,{ref:r,className:E("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...s,children:e.jsx(S,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));function Bt({dimension:t,onUpdate:a,onAddKeyword:s,onRemoveKeyword:r,isEditing:n,onEdit:l,onCancel:i}){const[d,o]=C.useState(""),c=()=>{d.trim()&&(s(t.id,d),o(""))};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.icon,e.jsxs("div",{children:[e.jsx(T,{className:"text-sm font-medium",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:t.description})]})]}),n?e.jsx($,{variant:"ghost",size:"sm",onClick:i,children:e.jsx(De,{className:"h-4 w-4"})}):e.jsx($,{variant:"ghost",size:"sm",onClick:l,children:e.jsx(Ke,{className:"h-4 w-4"})})]}),n?e.jsxs("div",{className:"space-y-3",children:[e.jsx(Q,{placeholder:t.placeholder,value:t.value,onChange:e=>a(t.id,e.target.value),className:"min-h-[80px]"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{className:"text-xs font-medium",children:"关键词"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{placeholder:"添加关键词...",value:d,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&c(),className:"flex-1"}),e.jsx($,{size:"sm",onClick:c,children:e.jsx(Pe,{className:"h-4 w-4"})})]}),t.keywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:t.keywords.map((a,s)=>e.jsxs(G,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>r(t.id,a),children:[a," ",e.jsx(De,{className:"h-3 w-3 ml-1"})]},s))})]})]}):e.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[t.value?e.jsx("p",{className:"text-sm",children:t.value}):e.jsx("p",{className:"text-sm text-gray-400",children:"暂无内容"}),t.keywords.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.keywords.map((t,a)=>e.jsx(G,{variant:"outline",className:"text-xs",children:t},a))})]})]})}Lt.displayName=k.displayName;const Vt=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[t,a]=C.useState("dimensions"),[s,r]=C.useState([]),[n,l]=C.useState(null),[i,d]=C.useState(!1),[o,c]=C.useState(0),[u,m]=C.useState(""),[p,h]=C.useState(!1),[x,f]=C.useState(0),[g,v]=C.useState(!1),[j,y]=C.useState("品牌资料"),[w,N]=C.useState(!1),b=["品牌资料","产品介绍","营销素材","用户反馈","竞品分析","行业报告","其他"],[k,S]=C.useState(!1),[E,te]=C.useState(null),[se,re]=C.useState(null),[Pe,Ue]=C.useState("date-new"),[Xe,Ge]=C.useState([]),[Ze,Je]=C.useState(null),[Ye,Qe]=C.useState(""),[et,tt]=C.useState(""),[at,st]=C.useState(""),[rt,nt]=C.useState(null),[lt,it]=C.useState(null),[dt,ot]=C.useState(""),{toast:ct}=R();A();const ut=C.useRef(null),[mt,pt]=C.useState([{id:"brandName",title:"品牌名称",description:"品牌的名字",icon:e.jsx(le,{className:"h-4 w-4"}),placeholder:"请输入您的品牌名称...",value:"",keywords:[],isRequired:!1,category:"basic"},{id:"brandDescription",title:"品牌描述",description:"简要描述品牌定位和特色",icon:e.jsx(ie,{className:"h-4 w-4"}),placeholder:"请描述您的品牌定位、特色和核心价值...",value:"",keywords:[],isRequired:!1,category:"basic"},{id:"brandSlogan",title:"品牌Slogan",description:"品牌的口号",icon:e.jsx(de,{className:"h-4 w-4"}),placeholder:"请输入您的品牌口号...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"brandValues",title:"品牌价值观",description:"驱动品牌行为和决策的基本原则是什么？",icon:e.jsx(oe,{className:"h-4 w-4"}),placeholder:"请描述您的品牌价值观和基本原则...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"brandVision",title:"品牌愿景与使命",description:"你的品牌存在的根本原因是什么？长期目标是什么？",icon:e.jsx(le,{className:"h-4 w-4"}),placeholder:"请描述您的品牌愿景、使命和长期目标...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"brandStory",title:"品牌故事",description:"品牌起源故事",icon:e.jsx(ce,{className:"h-4 w-4"}),placeholder:"请讲述您的品牌起源故事...",value:"",keywords:[],isRequired:!1,category:"identity"},{id:"adSlogans",title:"广告语集",description:"品牌过往广告中使用的标语口号",icon:e.jsx(ue,{className:"h-4 w-4"}),placeholder:"请列出您的品牌广告语和标语...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"productKeywords",title:"产品描述词库",description:"描述品牌产品或服务的核心关键词",icon:e.jsx(me,{className:"h-4 w-4"}),placeholder:"请列出描述您产品的核心关键词...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"brandTone",title:"品牌语调/语气",description:"包括语言风格、语气、情感倾向（如正式、友好、幽默、专业等）",icon:e.jsx(pe,{className:"h-4 w-4"}),placeholder:"请描述您的品牌语调、语气和语言风格...",value:"",keywords:[],isRequired:!1,category:"voice"},{id:"brandPersonality",title:"品牌个性",description:"如果你的品牌是一个人，它会是什么样的性格？",icon:e.jsx(he,{className:"h-4 w-4"}),placeholder:"请描述您的品牌个性特征...",value:"",keywords:[],isRequired:!1,category:"voice"},{id:"coreTopics",title:"品牌核心话题",description:"品牌内容的核心主题和指引方向",icon:e.jsx(xe,{className:"h-4 w-4"}),placeholder:"请列出您的品牌核心话题和内容方向...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"brandHashtags",title:"品牌Hashtags",description:"以#话题的形式，在品牌内容结尾出现，推荐用户使用这些",icon:e.jsx(fe,{className:"h-4 w-4"}),placeholder:"请列出您的品牌标签，如：#品牌名 #产品特色...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"brandKeywords",title:"品牌关键词",description:"尽量在品牌内容中使用的词",icon:e.jsx(ge,{className:"h-4 w-4"}),placeholder:"请列出您的品牌关键词...",value:"",keywords:[],isRequired:!1,category:"content"},{id:"forbiddenWords",title:"品牌禁用词",description:"禁止在品牌内容中出现的词",icon:e.jsx(ve,{className:"h-4 w-4"}),placeholder:"请列出您的品牌禁用词...",value:"",keywords:[],isRequired:!1,category:"content"}]);C.useEffect(()=>{l({id:"1",name:"我的品牌",tone:"专业而亲切",slogans:["专业可靠","用户友好","创新引领"],keywords:["专业","可靠","创新","用户友好"],forbiddenWords:["过度营销","技术术语","负面词汇"],files:[],createdAt:new Date,updatedAt:new Date,aiAnalysis:{toneAnalysis:"专业而亲切",keyThemes:["专业","可靠","创新"],brandPersonality:"专业可靠的品牌形象",targetAudience:"追求专业解决方案的用户",contentSuggestions:["强调专业性","突出可靠性","展现创新性"],valueAlignment:["建议1","建议2"],topicConsistency:["建议1","建议2"]}})},[]);const ht=async e=>{var t,a,s,n,l;it(e.id);try{r(t=>t.map(t=>t.id===e.id?{...t,processingStatus:"processing"}:t));const i=Fe.getInstance(),d=await i.analyzeBrandContent(e.content||"品牌资料内容"),o=`AI分析结果：\n\n1. 品牌关键词：${(null==(t=d.brandKeywords)?void 0:t.join("、"))||d.keywords.join("、")}\n2. 产品关键词：${(null==(a=d.productKeywords)?void 0:a.join("、"))||""}\n3. 目标受众：${(null==(s=d.targetAudience)?void 0:s.join("、"))||""}\n4. 品牌故事：${(null==(n=d.brandStory)?void 0:n.join("、"))||""}\n5. 竞争优势：${(null==(l=d.competitiveAdvantage)?void 0:l.join("、"))||""}\n6. 品牌语气特征：${d.tone}\n7. 内容建议：${d.suggestions.join("、")}`,c=[...d.brandKeywords||[],...d.productKeywords||[],...d.targetAudience||[],...d.brandStory||[],...d.competitiveAdvantage||[]];r(t=>t.map(t=>t.id===e.id?{...t,content:o,extractedKeywords:c,processingStatus:"completed"}:t)),ft(d,o),ct({title:"AI分析完成",description:`已成功分析 ${e.name}，并补充到品牌语料库`})}catch(i){r(t=>t.map(t=>t.id===e.id?{...t,processingStatus:"failed"}:t)),ct({title:"AI分析失败",description:i instanceof Error?i.message:"请稍后重试",variant:"destructive"})}finally{it(null)}},xt=async()=>{var e,t,a,n,l;const i=s.filter(e=>"completed"!==e.processingStatus);if(0!==i.length){h(!0),f(0);try{const s=Fe.getInstance();for(let o=0;o<i.length;o++){const c=i[o];r(e=>e.map(e=>e.id===c.id?{...e,processingStatus:"processing"}:e));try{const i=await s.analyzeBrandContent(c.content||"品牌资料内容"),d=`AI分析结果：\n\n1. 品牌关键词：${(null==(e=i.brandKeywords)?void 0:e.join("、"))||i.keywords.join("、")}\n2. 产品关键词：${(null==(t=i.productKeywords)?void 0:t.join("、"))||""}\n3. 目标受众：${(null==(a=i.targetAudience)?void 0:a.join("、"))||""}\n4. 品牌故事：${(null==(n=i.brandStory)?void 0:n.join("、"))||""}\n5. 竞争优势：${(null==(l=i.competitiveAdvantage)?void 0:l.join("、"))||""}\n6. 品牌语气特征：${i.tone}\n7. 内容建议：${i.suggestions.join("、")}`,o=[...i.brandKeywords||[],...i.productKeywords||[],...i.targetAudience||[],...i.brandStory||[],...i.competitiveAdvantage||[]];r(e=>e.map(e=>e.id===c.id?{...e,content:d,extractedKeywords:o,processingStatus:"completed"}:e)),ft(i,d)}catch(d){r(e=>e.map(e=>e.id===c.id?{...e,processingStatus:"failed"}:e))}f((o+1)/i.length*100)}ct({title:"批量AI分析完成",description:"已自动分析所有品牌资料并补充语料库"})}catch(d){ct({title:"批量AI分析失败",description:d instanceof Error?d.message:"请稍后重试",variant:"destructive"})}finally{h(!1),f(0)}}else ct({title:"无需处理",description:"所有文件都已处理完成"})},ft=(e,t)=>{pt(a=>a.map(a=>{let s=a.value,r=[...a.keywords];switch(a.id){case"brandKeywords":if(""===a.value){const t=e.brandKeywords||e.keywords||[];t.length>0&&(s=t.join("、"),r=[...a.keywords,...t])}break;case"productKeywords":if(""===a.value){const t=e.productKeywords||[];t.length>0&&(s=t.join("、"),r=t)}break;case"targetAudience":if(""===a.value){const t=e.targetAudience||[];t.length>0&&(s=t.join("、"),r=t)}break;case"brandStory":if(""===a.value){const t=e.brandStory||[];t.length>0&&(s=t.join("、"),r=t)}break;case"competitiveAdvantage":if(""===a.value){const t=e.competitiveAdvantage||[];t.length>0&&(s=t.join("、"),r=t)}break;case"brandDescription":""===a.value&&(s=t.substring(0,200)+"...");break;case"brandTone":""===a.value&&(s=e.tone||"专业、可靠、创新");break;case"brandPersonality":""===a.value&&(s="专业可靠、用户友好、创新引领")}return{...a,value:s,keywords:r}}))},gt=(e,t)=>{pt(a=>a.map(a=>a.id===e?{...a,value:t}:a))},vt=(e,t)=>{t.trim()&&pt(a=>a.map(a=>{if(a.id===e){const e=[...a.keywords,t.trim()],s=a.value?`${a.value}、${t.trim()}`:t.trim();return{...a,keywords:e,value:s}}return a}))},jt=(e,t)=>{pt(a=>a.map(a=>{if(a.id===e){const e=a.keywords.filter(e=>e!==t),s=e.join("、");return{...a,keywords:e,value:s}}return a}))},yt=e=>mt.filter(t=>t.category===e),wt=s.filter(e=>{var t,a;if(u){const s=u.toLowerCase();return e.name.toLowerCase().includes(s)||(null==(t=e.description)?void 0:t.toLowerCase().includes(s))||(null==(a=e.category)?void 0:a.toLowerCase().includes(s))}return!(Xe.length>0)||e.category&&Xe.includes(e.category)}).sort((e,t)=>{switch(Pe){case"date-new":return new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime();case"date-old":return new Date(e.uploadDate).getTime()-new Date(t.uploadDate).getTime();case"name-asc":return e.name.localeCompare(t.name);case"name-desc":return t.name.localeCompare(e.name);case"size-asc":return parseFloat(e.size||"0")-parseFloat(t.size||"0");case"size-desc":return parseFloat(t.size||"0")-parseFloat(e.size||"0");default:return 0}});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx(Me,{title:"多维品牌语料库",description:"AI智能分析品牌资料，自动构建完整的品牌语料库，支持多维度自定义完善",showAdaptButton:!1,showUpgradeButton:!0}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("input",{ref:ut,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.md,.jpg,.jpeg,.png,.gif,.bmp,.webp,.xls,.xlsx,.ppt,.pptx",onChange:async t=>{const a=t.target.files;if(!a||0===a.length)return;d(!0),c(0);const s=[];for(let r=0;r<a.length;r++){const t=a[r];let l=e.jsx(ie,{className:"h-8 w-8 text-blue-500"});t.type.includes("pdf")?l=e.jsx(Ce,{className:"h-8 w-8 text-red-500"}):t.type.includes("image")?l=e.jsx(Se,{className:"h-8 w-8 text-green-500"}):t.type.includes("word")&&(l=e.jsx(ie,{className:"h-8 w-8 text-blue-700"}));const i=j;try{const e=Fe.getInstance();let a="";a=e.isFileTypeSupported(t)?await e.readFileContent(t):`不支持的文件类型: ${t.type}`;const n={id:`asset-${Date.now()}-${r}`,name:t.name,type:"document",content:a,uploadDate:new Date,fileIcon:l,description:"",category:i,processingStatus:"pending"};s.push(n)}catch(n){const e={id:`asset-${Date.now()}-${r}`,name:t.name,type:"document",content:`文件读取失败: ${n instanceof Error?n.message:"未知错误"}`,uploadDate:new Date,fileIcon:l,description:"",category:i,processingStatus:"failed"};s.push(e)}c((r+1)/a.length*100),await new Promise(e=>setTimeout(e,500))}r(e=>[...e,...s]),t.target.value="",d(!1),c(0),ct({title:"文件上传成功",description:`已成功上传 ${s.length} 个品牌资料文件，AI正在自动分析...`}),setTimeout(()=>{xt()},1e3),setTimeout(()=>{xt()},1e3)},className:"hidden"}),i&&e.jsx(I,{className:"mb-6",children:e.jsxs(D,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"上传进度"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(o),"%"]})]}),e.jsx(Lt,{value:o,className:"w-full"})]})}),p&&e.jsx(I,{className:"mb-6",children:e.jsxs(D,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"AI分析进度"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(x),"%"]})]}),e.jsx(Lt,{value:x,className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI正在分析品牌资料，自动补充语料库内容..."})]})}),e.jsxs(He,{className:"mb-6",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsxs(We,{children:[e.jsx("strong",{children:"使用提示："}),"上传品牌资料越多，AI分析越准确。建议上传品牌手册、产品介绍、营销文案等资料。 所有维度都支持手动编辑，AI会自动补充关键词建议。"]})]}),e.jsxs(M,{value:t,onValueChange:a,className:"space-y-6",children:[e.jsxs(F,{className:"grid w-full grid-cols-2",children:[e.jsx(q,{value:"dimensions",children:"品牌语料库"}),e.jsx(q,{value:"assets",children:"资料管理"})]}),e.jsxs(O,{value:"dimensions",className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs($,{onClick:()=>{localStorage.setItem("brandDimensions",JSON.stringify(mt)),ct({title:"保存成功",description:"品牌语料库已保存"})},children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"保存语料库"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(K,{className:"pb-3",children:[e.jsxs(z,{className:"flex items-center gap-2 text-lg",children:[e.jsx(le,{className:"h-5 w-5 text-blue-600"}),"基础信息"]}),e.jsx(P,{children:"品牌的基本信息和定位"})]}),e.jsx(D,{className:"space-y-4",children:yt("basic").map(t=>e.jsx(Bt,{dimension:t,onUpdate:gt,onAddKeyword:vt,onRemoveKeyword:jt,isEditing:se===t.id,onEdit:()=>re(t.id),onCancel:()=>re(null)},t.id))})]}),e.jsxs(I,{children:[e.jsxs(K,{className:"pb-3",children:[e.jsxs(z,{className:"flex items-center gap-2 text-lg",children:[e.jsx(pe,{className:"h-5 w-5 text-orange-600"}),"语调风格"]}),e.jsx(P,{children:"品牌的语音特征和表达方式"})]}),e.jsx(D,{className:"space-y-4",children:yt("voice").map(t=>e.jsx(Bt,{dimension:t,onUpdate:gt,onAddKeyword:vt,onRemoveKeyword:jt,isEditing:se===t.id,onEdit:()=>re(t.id),onCancel:()=>re(null)},t.id))})]}),e.jsxs(I,{children:[e.jsxs(K,{className:"pb-3",children:[e.jsxs(z,{className:"flex items-center gap-2 text-lg",children:[e.jsx(we,{className:"h-5 w-5 text-purple-600"}),"品牌身份"]}),e.jsx(P,{children:"品牌的核心价值观和使命愿景"})]}),e.jsx(D,{className:"space-y-4",children:yt("identity").map(t=>e.jsx(Bt,{dimension:t,onUpdate:gt,onAddKeyword:vt,onRemoveKeyword:jt,isEditing:se===t.id,onEdit:()=>re(t.id),onCancel:()=>re(null)},t.id))})]}),e.jsxs(I,{children:[e.jsxs(K,{className:"pb-3",children:[e.jsxs(z,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Ne,{className:"h-5 w-5 text-green-600"}),"内容策略"]}),e.jsx(P,{children:"品牌内容创作的核心要素"})]}),e.jsx(D,{className:"space-y-4",children:yt("content").map(t=>e.jsx(Bt,{dimension:t,onUpdate:gt,onAddKeyword:vt,onRemoveKeyword:jt,isEditing:se===t.id,onEdit:()=>re(t.id),onCancel:()=>re(null)},t.id))})]})]})]}),e.jsx(O,{value:"assets",className:"space-y-6",children:e.jsxs(I,{children:[e.jsxs(K,{children:[e.jsx(z,{children:"品牌资料管理"}),e.jsx(P,{children:"管理上传的品牌资料文件"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"flex gap-2 mb-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"text-sm font-medium",children:"分类："}),e.jsxs(_,{value:j,onValueChange:y,children:[e.jsx(L,{className:"w-40",children:e.jsx(B,{placeholder:"选择分类"})}),e.jsx(V,{children:b.map(t=>e.jsx(U,{value:t,children:t},t))})]})]}),e.jsxs($,{variant:"outline",onClick:()=>{var e;return null==(e=ut.current)?void 0:e.click()},disabled:i,children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),i?"上传中...":"上传资料"]}),e.jsxs($,{onClick:xt,disabled:p||0===s.length,children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),p?"AI分析中...":"批量AI分析"]})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(je,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"支持的文件格式"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{children:"文档：PDF, DOC, DOCX, TXT, MD"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"图片：JPG, PNG, GIF, BMP, WEBP"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{children:"表格：XLS, XLSX"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{children:"演示：PPT, PPTX"})]})]}),e.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:[e.jsx("strong",{children:"注意："}),"单个文件大小建议不超过10MB，支持批量上传多个文件。AI将自动分析文件内容并提取品牌相关信息。"]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(X,{placeholder:"搜索资料...",value:u,onChange:e=>m(e.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(_,{value:Pe,onValueChange:e=>Ue(e),children:[e.jsx(L,{className:"w-[180px]",children:e.jsx(B,{placeholder:"排序方式"})}),e.jsxs(V,{children:[e.jsx(U,{value:"date-new",children:"最新上传"}),e.jsx(U,{value:"date-old",children:"最早上传"}),e.jsx(U,{value:"name-asc",children:"名称 A-Z"}),e.jsx(U,{value:"name-desc",children:"名称 Z-A"})]})]}),e.jsxs(qe,{children:[e.jsx(Oe,{asChild:!0,children:e.jsxs($,{variant:"outline",className:"w-[120px]",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"分类"]})}),e.jsx(Te,{className:"w-48",children:e.jsxs(Mt,{children:[e.jsx(Ft,{placeholder:"搜索分类..."}),e.jsxs(qt,{children:[e.jsx(Ot,{children:"未找到分类"}),e.jsx(Tt,{children:["品牌手册","文案指南","产品介绍","营销素材","新闻稿","企业介绍","VI规范","品牌故事"].map(t=>e.jsx(_t,{onSelect:()=>(e=>{Ge(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(t),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:Xe.includes(t),onChange:()=>{},className:"h-4 w-4"}),e.jsx("span",{children:t})]})},t))})]})]})})]})]})]}),0===s.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ee,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"暂无品牌资料，请上传文件开始构建语料库"})]}):e.jsx("div",{className:"space-y-4",children:wt.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>(async e=>{nt(e.id);try{const t=`文件名称：${e.name}\n文件大小：${e.size||"未知"} KB\n上传时间：${e.uploadDate.toLocaleString()}\n文件类型：${e.type}\n\n原始内容：\n${e.content||"暂无内容"}`;ot(t)}catch(t){ot("无法读取文件内容")}})(t),children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.fileIcon,e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium truncate",children:t.name}),t.category&&e.jsx(G,{variant:"secondary",className:"text-xs",children:t.category})]}),e.jsx("p",{className:"text-sm text-gray-500",children:t.uploadDate.toLocaleDateString()}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:["pending"===t.processingStatus&&e.jsxs(e.Fragment,{children:[e.jsxs(G,{variant:"secondary",children:[e.jsx(Re,{className:"h-3 w-3 mr-1"}),"待分析"]}),e.jsxs($,{size:"sm",variant:"outline",onClick:e=>{e.stopPropagation(),ht(t)},disabled:lt===t.id,children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),lt===t.id?"分析中...":"AI分析"]})]}),"processing"===t.processingStatus&&e.jsxs(G,{variant:"default",children:[e.jsx(Ie,{className:"h-3 w-3 mr-1 animate-spin"}),"分析中"]}),"completed"===t.processingStatus&&e.jsxs(G,{variant:"default",children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),"已完成"]}),"failed"===t.processingStatus&&e.jsxs(e.Fragment,{children:[e.jsxs(G,{variant:"destructive",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),"分析失败"]}),e.jsxs($,{size:"sm",variant:"outline",onClick:e=>{e.stopPropagation(),ht(t)},disabled:lt===t.id,children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),lt===t.id?"分析中...":"重新分析"]})]}),e.jsxs(_e,{children:[e.jsx(Le,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"sm",onClick:e=>e.stopPropagation(),children:e.jsx($e,{className:"h-4 w-4"})})}),e.jsxs(Be,{align:"end",children:[e.jsxs(Ve,{onClick:e=>{e.stopPropagation(),(e=>{te(e),Qe(e.name),tt(e.description||""),st(e.category||"品牌资料"),Je(e.id)})(t)},children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"编辑"]}),e.jsxs(Ve,{onClick:()=>{return e=t.id,r(t=>t.filter(t=>t.id!==e)),void ct({title:"删除成功",description:"品牌资料已删除"});var e},children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"删除"]})]})]})]})]},t.id))})]})]})})]})]}),e.jsx(H,{open:null!==rt,onOpenChange:()=>nt(null),children:e.jsxs(W,{className:"max-w-4xl max-h-[80vh]",children:[e.jsx(Z,{children:e.jsx(J,{children:"资料内容"})}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm overflow-auto max-h-[60vh]",children:dt})})})]})}),e.jsx(H,{open:null!==Ze,onOpenChange:()=>{Je(null),Qe(""),tt(""),st("")},children:e.jsxs(W,{className:"max-w-2xl",children:[e.jsxs(Z,{children:[e.jsx(J,{children:"编辑资料"}),e.jsx(Y,{children:"修改资料的基本信息，包括名称、描述和分类"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"asset-name",children:"资料名称"}),e.jsx(X,{id:"asset-name",value:Ye,onChange:e=>Qe(e.target.value),placeholder:"请输入资料名称"})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"asset-category",children:"分类"}),e.jsxs(_,{value:at,onValueChange:st,children:[e.jsx(L,{children:e.jsx(B,{placeholder:"选择分类"})}),e.jsx(V,{children:b.map(t=>e.jsx(U,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"asset-description",children:"描述"}),e.jsx(Q,{id:"asset-description",value:et,onChange:e=>tt(e.target.value),placeholder:"请输入资料描述（可选）",rows:3})]})]}),e.jsxs(ee,{children:[e.jsx($,{variant:"outline",onClick:()=>{Je(null),Qe(""),tt(""),st("")},children:"取消"}),e.jsx($,{onClick:()=>{E&&(r(e=>e.map(e=>e.id===E.id?{...e,name:Ye,description:et,category:at}:e)),Je(null),te(null),Qe(""),tt(""),st(""),ct({title:"保存成功",description:"品牌资料信息已更新"}))},children:"保存"})]})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{He as A,Vt as B,_e as D,Lt as P,We as a,Le as b,Be as c,Ve as d,qe as e,Oe as f,Te as g,Ue as h,Xe as i};
