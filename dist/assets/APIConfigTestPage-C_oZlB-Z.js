import{bh as e,bi as n,r as i,j as s}from"./index-BuR5xlXm.js";function a(){const i=e(),s=[],a=[],d=!!i.openai.apiKey,l=n(i.openai.apiKey,"openai");!d&&i.features.enableAI?s.push("OpenAI APIå¯†é’¥æœªé…ç½® (VITE_OPENAI_API_KEY)"):d&&!l&&s.push("OpenAI APIå¯†é’¥æ ¼å¼æ— æ•ˆ");const r=!!i.deepseek.apiKey,t=n(i.deepseek.apiKey,"deepseek");r&&!t&&a.push("DeepSeek APIå¯†é’¥æ ¼å¼å¯èƒ½æ— æ•ˆ");const c=!!i.gemini.apiKey,o=n(i.gemini.apiKey,"gemini");c&&!o&&a.push("Gemini APIå¯†é’¥æ ¼å¼å¯èƒ½æ— æ•ˆ");const g=!(!i.authing.appId||!i.authing.host),u=g&&!!i.authing.redirectUri;g?u||s.push("Authingå›è°ƒåœ°å€æœªé…ç½®"):s.push("Authingé…ç½®ä¸å®Œæ•´ (éœ€è¦VITE_AUTHING_APP_IDå’ŒVITE_AUTHING_HOST)");const h=!!i.backend.baseUrl,m=h&&i.backend.baseUrl.startsWith("http");h?m||s.push("åç«¯APIåŸºç¡€URLæ ¼å¼æ— æ•ˆ"):s.push("åç«¯APIåŸºç¡€URLæœªé…ç½® (VITE_API_BASE_URL)");const p=!(!i.payment.alipay.appId||!i.payment.alipay.publicKey),x=!(!i.payment.wechat.appId||!i.payment.wechat.mchId),b=p||x;return b||a.push("æ”¯ä»˜é…ç½®æœªè®¾ç½® (æ”¯ä»˜å®æˆ–å¾®ä¿¡æ”¯ä»˜)"),{isValid:0===s.length,errors:s,warnings:a,config:{openai:{configured:d,valid:l},deepseek:{configured:r,valid:t},gemini:{configured:c,valid:o},authing:{configured:g,valid:u},backend:{configured:h,valid:m},payment:{configured:b,valid:b}}}}function d(){const n=a(),i=e();let s="ğŸ”§ APIé…ç½®çŠ¶æ€:\n";return s+="\nğŸŒ ç¯å¢ƒ: "+(i.environment.isDev?"å¼€å‘":"ç”Ÿäº§"),s+="\nğŸ” è°ƒè¯•æ¨¡å¼: "+(i.environment.debugMode?"å¼€å¯":"å…³é—­"),s+="\n\nğŸ¤– AIæœåŠ¡:",s+="\n  OpenAI: "+(n.config.openai.configured?n.config.openai.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n  DeepSeek: "+(n.config.deepseek.configured?n.config.deepseek.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n  Gemini: "+(n.config.gemini.configured?n.config.gemini.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n\nğŸ” è®¤è¯æœåŠ¡:",s+="\n  Authing: "+(n.config.authing.configured?n.config.authing.valid?"âœ… å·²é…ç½®":"âš ï¸ å›è°ƒåœ°å€ç¼ºå¤±":"âŒ æœªé…ç½®"),s+="\n\nğŸ”§ åç«¯æœåŠ¡:",s+="\n  API: "+(n.config.backend.configured?n.config.backend.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n\nğŸ’³ æ”¯ä»˜æœåŠ¡:",s+="\n  æ”¯ä»˜: "+(n.config.payment.configured?"âœ… å·²é…ç½®":"âŒ æœªé…ç½®"),n.errors.length>0&&(s+="\n\nâŒ é”™è¯¯:",n.errors.forEach(e=>{s+=`\n  - ${e}`})),n.warnings.length>0&&(s+="\n\nâš ï¸ è­¦å‘Š:",n.warnings.forEach(e=>{s+=`\n  - ${e}`})),s}function l(){const e=a(),n=[];return e.config.openai.configured||n.push("é…ç½®OpenAI APIå¯†é’¥ä»¥å¯ç”¨AIåŠŸèƒ½"),e.config.authing.configured||n.push("é…ç½®Authingè®¤è¯æœåŠ¡ä»¥å¯ç”¨ç”¨æˆ·ç™»å½•"),e.config.backend.configured||n.push("é…ç½®åç«¯APIåœ°å€ä»¥å¯ç”¨å®Œæ•´åŠŸèƒ½"),e.config.payment.configured||n.push("é…ç½®æ”¯ä»˜æœåŠ¡ä»¥å¯ç”¨ä»˜è´¹åŠŸèƒ½"),e.config.openai.configured&&!e.config.deepseek.configured&&n.push("è€ƒè™‘é…ç½®DeepSeek APIä½œä¸ºå¤‡ç”¨AIæœåŠ¡"),n}const r=()=>{var n,r,t,c,o,g,u,h;const[m,p]=i.useState(null),[x,b]=i.useState(""),[f,v]=i.useState([]),[y,j]=i.useState(!0),[N,k]=i.useState({});return i.useEffect(()=>{const e=a(),n=d(),i=l();p(e),b(n),v(i),j(!1)},[]),y?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"æ­£åœ¨æ£€æŸ¥APIé…ç½®..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"APIé…ç½®æµ‹è¯•"}),s.jsx("p",{className:"text-gray-600",children:"éªŒè¯æ‰€æœ‰APIé…ç½®æ˜¯å¦æ­£ç¡®è®¾ç½®"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"é…ç½®çŠ¶æ€æ¦‚è§ˆ"}),s.jsx("button",{onClick:()=>{j(!0),setTimeout(()=>{const e=a(),n=d(),i=l();p(e),b(n),v(i),j(!1)},100)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"åˆ·æ–°é…ç½®"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"p-4 rounded-lg border "+((null==m?void 0:m.config.openai.configured)&&(null==m?void 0:m.config.openai.valid)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAI"}),s.jsx("p",{className:"text-sm text-gray-600",children:(null==m?void 0:m.config.openai.configured)?(null==m?void 0:m.config.openai.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),s.jsxs("div",{className:"p-4 rounded-lg border "+((null==m?void 0:m.config.deepseek.configured)&&(null==m?void 0:m.config.deepseek.valid)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"DeepSeek"}),s.jsx("p",{className:"text-sm text-gray-600",children:(null==m?void 0:m.config.deepseek.configured)?(null==m?void 0:m.config.deepseek.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),s.jsxs("div",{className:"p-4 rounded-lg border "+((null==m?void 0:m.config.gemini.configured)&&(null==m?void 0:m.config.gemini.valid)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Gemini"}),s.jsx("p",{className:"text-sm text-gray-600",children:(null==m?void 0:m.config.gemini.configured)?(null==m?void 0:m.config.gemini.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),s.jsxs("div",{className:"p-4 rounded-lg border "+((null==m?void 0:m.config.authing.configured)&&(null==m?void 0:m.config.authing.valid)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Authing"}),s.jsx("p",{className:"text-sm text-gray-600",children:(null==m?void 0:m.config.authing.configured)?(null==m?void 0:m.config.authing.valid)?"âœ… å·²é…ç½®":"âš ï¸ å›è°ƒåœ°å€ç¼ºå¤±":"âŒ æœªé…ç½®"})]}),s.jsxs("div",{className:"p-4 rounded-lg border "+((null==m?void 0:m.config.backend.configured)&&(null==m?void 0:m.config.backend.valid)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"åç«¯API"}),s.jsx("p",{className:"text-sm text-gray-600",children:(null==m?void 0:m.config.backend.configured)?(null==m?void 0:m.config.backend.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),s.jsxs("div",{className:"p-4 rounded-lg border "+((null==m?void 0:m.config.payment.configured)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"æ”¯ä»˜æœåŠ¡"}),s.jsx("p",{className:"text-sm text-gray-600",children:(null==m?void 0:m.config.payment.configured)?"âœ… å·²é…ç½®":"âŒ æœªé…ç½®"})]})]}),(null==m?void 0:m.errors.length)>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-red-600 font-medium mb-2",children:"âŒ é…ç½®é”™è¯¯:"}),s.jsx("ul",{className:"list-disc list-inside text-red-600 space-y-1",children:m.errors.map((e,n)=>s.jsx("li",{children:e},n))})]}),(null==m?void 0:m.warnings.length)>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-yellow-600 font-medium mb-2",children:"âš ï¸ é…ç½®è­¦å‘Š:"}),s.jsx("ul",{className:"list-disc list-inside text-yellow-600 space-y-1",children:m.warnings.map((e,n)=>s.jsx("li",{children:e},n))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"APIè¿æ¥æµ‹è¯•"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"OpenAI API"}),s.jsx("button",{onClick:async()=>{k(e=>({...e,openai:{loading:!0}}));try{const e=await fetch("/.netlify/functions/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"openai",action:"status"})}),n=await e.json();k(i=>({...i,openai:{loading:!1,success:e.ok,data:n}}))}catch(e){k(n=>({...n,openai:{loading:!1,success:!1,error:e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(n=N.openai)?void 0:n.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(r=N.openai)?void 0:r.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"}),N.openai&&s.jsx("div",{className:"mt-2 text-sm",children:N.openai.success?s.jsx("span",{className:"text-green-600",children:"âœ… è¿æ¥æˆåŠŸ"}):s.jsxs("span",{className:"text-red-600",children:["âŒ è¿æ¥å¤±è´¥: ",N.openai.error]})})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"DeepSeek API"}),s.jsx("button",{onClick:async()=>{k(e=>({...e,deepseek:{loading:!0}}));try{const e=await fetch("/.netlify/functions/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"deepseek",action:"status"})}),n=await e.json();k(i=>({...i,deepseek:{loading:!1,success:e.ok,data:n}}))}catch(e){k(n=>({...n,deepseek:{loading:!1,success:!1,error:e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(t=N.deepseek)?void 0:t.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(c=N.deepseek)?void 0:c.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"}),N.deepseek&&s.jsx("div",{className:"mt-2 text-sm",children:N.deepseek.success?s.jsx("span",{className:"text-green-600",children:"âœ… è¿æ¥æˆåŠŸ"}):s.jsxs("span",{className:"text-red-600",children:["âŒ è¿æ¥å¤±è´¥: ",N.deepseek.error]})})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Authingé…ç½®"}),s.jsx("button",{onClick:async()=>{k(e=>({...e,authing:{loading:!0}}));try{const n=e(),i=!!(n.authing.appId&&n.authing.host&&n.authing.redirectUri);k(e=>({...e,authing:{loading:!1,success:i,data:{appId:n.authing.appId,host:n.authing.host,redirectUri:n.authing.redirectUri}}}))}catch(n){k(e=>({...e,authing:{loading:!1,success:!1,error:n instanceof Error?n.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(o=N.authing)?void 0:o.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(g=N.authing)?void 0:g.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•é…ç½®"}),N.authing&&s.jsx("div",{className:"mt-2 text-sm",children:N.authing.success?s.jsx("span",{className:"text-green-600",children:"âœ… é…ç½®æ­£ç¡®"}):s.jsxs("span",{className:"text-red-600",children:["âŒ é…ç½®é”™è¯¯: ",N.authing.error]})})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"åç«¯API"}),s.jsx("button",{onClick:async()=>{k(e=>({...e,backend:{loading:!0}}));try{const n=e(),i=await fetch(`${n.backend.baseUrl}/health`,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await i.json();k(e=>({...e,backend:{loading:!1,success:i.ok,data:s}}))}catch(n){k(e=>({...e,backend:{loading:!1,success:!1,error:n instanceof Error?n.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(u=N.backend)?void 0:u.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(h=N.backend)?void 0:h.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"}),N.backend&&s.jsx("div",{className:"mt-2 text-sm",children:N.backend.success?s.jsx("span",{className:"text-green-600",children:"âœ… è¿æ¥æˆåŠŸ"}):s.jsxs("span",{className:"text-red-600",children:["âŒ è¿æ¥å¤±è´¥: ",N.backend.error]})})]})]})]}),f.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"é…ç½®å»ºè®®"}),s.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.map((e,n)=>s.jsx("li",{children:e},n))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"è¯¦ç»†é…ç½®ä¿¡æ¯"}),s.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap",children:x})]})]})})};export{r as default};
