import{j as e,O as a,E as t,F as s,G as r,H as l,J as i,B as o,D as n}from"./ui-core-CkDiOLPZ.js";import{r as c,d,L as m,u as x,R as h}from"./router-CDHmMMQ-.js";import{c as p,g,h as u,B as f,P as b}from"./pages-home-BlE-Wmr4.js";import{B as j}from"./pages-adapt-C-FFQ0EZ.js";import{U as N}from"./components-auth-DTk8b9Kb.js";import{D as v,b as y,c as w,d as k}from"./pages-brand-N_nBb024.js";import{X as C,b as R,aC as z,e as B,g as P,Y as A,a6 as I,aB as O,aD as D,f as E,ae as S,i as F,J as L,ab as T,u as U,$ as H,Z as J}from"./utils-BfXu217i.js";const $=o,G=n,M=t,V=c.forwardRef(({className:t,...s},r)=>e.jsx(a,{className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));V.displayName=a.displayName;const W=R("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Y=c.forwardRef(({side:a="right",className:t,children:l,...i},o)=>e.jsxs(M,{children:[e.jsx(V,{}),e.jsxs(s,{ref:o,className:p(W({side:a}),t),...i,children:[e.jsxs(r,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),l]})]}));Y.displayName=s.displayName;const Z=({className:a,...t})=>e.jsx("div",{className:p("flex flex-col space-y-2 text-center sm:text-left",a),...t});Z.displayName="SheetHeader";const q=c.forwardRef(({className:a,...t},s)=>e.jsx(l,{ref:s,className:p("text-lg font-semibold text-foreground",a),...t}));q.displayName=l.displayName,c.forwardRef(({className:a,...t},s)=>e.jsx(i,{ref:s,className:p("text-sm text-muted-foreground",a),...t})).displayName=i.displayName;const K=()=>{const a=d(),{user:t,isAuthenticated:s}=g(),{hasRole:r,loading:l}=u(),[i,o]=c.useState(!1),n=[{path:"/",label:"首页",icon:z},{path:"/adapt",label:"AI内容适配器",icon:B},{path:"/creative-studio",label:"创意魔方",icon:P},{path:"/hot-topics",label:"全网雷达",icon:A},{path:"/library",label:"我的资料库",icon:I},{path:"/brand-library",label:"品牌库",icon:O}],x=r("premium")||r("pro")||r("admin"),h=e=>"/"===e?"/"===a.pathname:a.pathname.startsWith(e),p=({item:a})=>e.jsxs(m,{to:a.path,className:"flex items-center space-x-3 px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 "+(h(a.path)?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-gray-700 hover:text-blue-600 hover:bg-accent/50"),onClick:()=>o(!1),children:[e.jsx(a.icon,{className:"w-5 h-5"}),e.jsx("span",{children:a.label})]});return e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs(m,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:"🎯"}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full opacity-0 group-hover:opacity-20 transition-opacity duration-200 blur-sm"})]}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent group-hover:from-blue-700 group-hover:to-purple-700 transition-all duration-200",children:"文派"}),!1]}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-1",children:n.map(a=>e.jsxs(m,{to:a.path,className:"flex items-center space-x-2 px-4 py-2 text-base font-medium rounded-md transition-all duration-200 relative group "+(h(a.path)?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md":"text-gray-700 hover:text-blue-600 hover:bg-accent/50 hover:border-b-2 hover:border-blue-500"),children:[e.jsx(a.icon,{className:"w-4 h-4 transition-transform duration-200 group-hover:scale-110 "+(h(a.path)?"text-white":"")}),e.jsx("span",{children:a.label}),h(a.path)&&e.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},a.path))}),e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"sm",className:"lg:hidden hover:bg-accent/50",children:e.jsx(D,{className:"w-4 h-4"})})}),e.jsx(w,{align:"start",className:"w-56",children:n.map(a=>e.jsx(k,{asChild:!0,children:e.jsxs(m,{to:a.path,className:"flex items-center space-x-2 text-sm font-medium "+(h(a.path)?"bg-accent text-accent-foreground":"text-gray-700"),children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{children:a.label})]})},a.path))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"权限加载中..."})]}),s?e.jsxs("div",{className:"flex items-center gap-2",children:[x&&e.jsx(j,{variant:"premium",className:"text-xs hidden sm:inline-flex bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"PRO"}),e.jsx(N,{user:t})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{to:"/login",children:e.jsx(f,{variant:"outline",size:"sm",className:"hidden sm:inline-flex hover:bg-accent/50 text-sm font-medium",children:"登录"})}),e.jsx(m,{to:"/register",children:e.jsx(f,{size:"sm",className:"hidden sm:inline-flex bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white border-0 shadow-md text-sm font-medium",children:"注册"})})]}),e.jsxs($,{open:i,onOpenChange:o,children:[e.jsx(G,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"sm",className:"lg:hidden hover:bg-accent/50",children:e.jsx(D,{className:"w-5 h-5"})})}),e.jsxs(Y,{side:"right",className:"w-80 bg-background/95 backdrop-blur",children:[e.jsx(Z,{children:e.jsxs(q,{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"text-2xl",children:"🎯"}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full opacity-20 blur-sm"})]}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"文派"}),!1]})}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("nav",{className:"space-y-2",children:n.map(a=>e.jsx(p,{item:a},a.path))}),e.jsx("div",{className:"pt-4 border-t border-border/50",children:s?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2",children:[e.jsx(N,{user:t}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:(null==t?void 0:t.nickname)||(null==t?void 0:t.username)}),x&&e.jsx(j,{variant:"premium",className:"text-xs mt-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"PRO"})]})]}),e.jsxs(m,{to:"/profile",className:"flex items-center space-x-3 px-4 py-3 text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-accent/50 rounded-lg transition-all duration-200",onClick:()=>o(!1),children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"个人中心"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{to:"/login",className:"flex items-center space-x-3 px-4 py-3 text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-accent/50 rounded-lg transition-all duration-200",onClick:()=>o(!1),children:e.jsx("span",{children:"登录"})}),e.jsx(m,{to:"/register",className:"flex items-center space-x-3 px-4 py-3 text-sm font-medium bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg transition-all duration-200 shadow-md",onClick:()=>o(!1),children:e.jsx("span",{children:"注册"})})]})})]})]})]})]})]})})})};function Q({children:a,pageTitle:t,pageDescription:s,pageMetadata:r={}}){return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx(b,{title:t,description:s,metadata:{...r,layout:"tool",hasNavigation:!0}}),e.jsx(K,{}),e.jsx("main",{className:"flex-grow",children:a}),e.jsx("footer",{className:"border-t bg-white/80 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🎯"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"文派"})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[e.jsx("span",{children:"© 2024 文派. 保留所有权利."}),e.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[e.jsx("a",{href:"/privacy",className:"hover:text-gray-700 transition-colors",children:"隐私政策"}),e.jsx("a",{href:"/terms",className:"hover:text-gray-700 transition-colors",children:"服务条款"}),e.jsx("a",{href:"/about",className:"hover:text-gray-700 transition-colors",children:"关于我们"})]})]})]})})})]})}const X=c.forwardRef(({className:a,...t},s)=>e.jsx("nav",{ref:s,"aria-label":"breadcrumb",...t}));X.displayName="Breadcrumb";const _=c.forwardRef(({className:a,...t},s)=>e.jsx("ol",{ref:s,className:p("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",a),...t}));_.displayName="BreadcrumbList";const ee=c.forwardRef(({className:a,...t},s)=>e.jsx("li",{ref:s,className:p("inline-flex items-center gap-1.5",a),...t}));ee.displayName="BreadcrumbItem";const ae=c.forwardRef(({className:a,asChild:t,...s},r)=>{const l=t?c.Fragment:"a";return e.jsx(l,{ref:r,className:p("transition-colors hover:text-foreground flex items-center gap-2",a),...s})});ae.displayName="BreadcrumbLink";const te=c.forwardRef(({className:a,...t},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:p("font-normal text-foreground",a),...t}));te.displayName="BreadcrumbPage";const se=({children:a,className:t,...s})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:p("[&>svg]:size-3.5",t),...s,children:a??e.jsx(S,{})});se.displayName="BreadcrumbSeparator";const re=({variant:a="default",size:t="sm",showIcon:s=!0,text:r="立即解锁高级功能",className:l=""})=>{const{user:i}=g();return(()=>{if(!i||"object"!=typeof i)return!0;const e=i;return!e.isPro&&!e.isProUser})()?e.jsxs(f,{variant:a,size:t,className:`bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white border-0 ${l}`,onClick:()=>window.location.href="/payment",children:[s&&e.jsx(F,{className:"w-4 h-4 mr-2"}),r]}):null},le={"/":{path:"/",title:"文派",icon:z,level:1},"/adapt":{path:"/adapt",title:"AI内容适配器",icon:J,level:2,parent:"/",category:"ai-tools"},"/creative-studio":{path:"/creative-studio",title:"创意魔方",icon:P,level:2,parent:"/",category:"creative-tools"},"/library":{path:"/library",title:"我的资料库",icon:I,level:2,parent:"/",category:"content-tools"},"/bookmarks":{path:"/bookmarks",title:"网络收藏",icon:H,level:3,parent:"/library",category:"content-tools"},"/content-extractor":{path:"/content-extractor",title:"内容提取",icon:B,level:3,parent:"/library",category:"content-tools"},"/emoji-generator":{path:"/emoji-generator",title:"Emoji生成器",icon:U,level:2,parent:"/",category:"creative-tools"},"/emojis":{path:"/emojis",title:"Emoji生成器",icon:U,level:2,parent:"/",category:"creative-tools"},"/share-manager":{path:"/share-manager",title:"一键转发",icon:T,level:2,parent:"/",category:"distribution-tools"},"/wechat-templates":{path:"/wechat-templates",title:"朋友圈模板",icon:L,level:2,parent:"/",category:"creative-tools"},"/hot-topics":{path:"/hot-topics",title:"全网雷达",icon:A,level:2,parent:"/",category:"insight-tools",badge:"开发中"},"/brand-library":{path:"/brand-library",title:"品牌库",icon:O,level:2,parent:"/",category:"insight-tools"},"/profile":{path:"/profile",title:"个人中心",icon:E,level:2,parent:"/",category:"user-tools"},"/invite":{path:"/invite",title:"邀请好友",icon:O,level:3,parent:"/profile",category:"user-tools"},"/history":{path:"/history",title:"历史记录",icon:B,level:2,parent:"/",category:"user-tools"},"/payment":{path:"/payment",title:"订阅管理",icon:F,level:2,parent:"/",category:"user-tools"}},ie=({currentPath:a,title:t,description:s,showAdaptButton:r=!0,showUpgradeButton:l=!0,actions:i})=>{var o,n,c;const m=x(),p=d(),g=a||p.pathname,u=(()=>{const e=[],a=le[g];if(a){if(a.parent&&le[a.parent]){const t=le[a.parent];e.push({path:t.path,title:t.title,icon:t.icon})}e.push({path:a.path,title:a.title,icon:a.icon,badge:a.badge})}return e})(),b=(()=>{const e=le[g];return(null==e?void 0:e.category)?Object.values(le).filter(a=>a.category===e.category&&a.path!==g):[]})();return e.jsx("div",{className:"border-b bg-gradient-to-r from-background via-background/95 to-background/90 backdrop-blur-sm shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[u.length>0&&e.jsx("div",{className:"mb-4",children:e.jsx(X,{children:e.jsxs(_,{className:"flex-wrap",children:[e.jsx(ee,{children:e.jsxs(ae,{href:"/",className:"flex items-center gap-1 hover:text-primary transition-all duration-200 hover:scale-105",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"首页"})]})}),u.map((a,t)=>e.jsxs(h.Fragment,{children:[e.jsx(se,{children:e.jsx(S,{className:"w-4 h-4 text-muted-foreground/60"})}),e.jsx(ee,{children:t===u.length-1?e.jsxs(te,{className:"flex items-center gap-2",children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:a.title}),a.badge&&e.jsx(j,{variant:"outline",className:"text-xs bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-700 border-orange-200",children:a.badge})]}):e.jsxs(ae,{href:a.path,className:"flex items-center gap-2 hover:text-primary transition-all duration-200 hover:scale-105",children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:a.title})]})})]},a.path))]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:t||(null==(o=le[g])?void 0:o.title)||"页面"}),(null==(n=le[g])?void 0:n.badge)&&e.jsx(j,{variant:"outline",className:"text-xs bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-700 border-orange-200 animate-pulse",children:le[g].badge})]}),s&&e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-2xl leading-relaxed",children:s})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i,r&&"/adapt"!==g&&e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>m("/adapt"),className:"hidden sm:inline-flex hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 border-blue-200 hover:border-blue-300 transition-all duration-200",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"AI适配器"]}),l&&e.jsx(re,{className:"hidden sm:inline-flex"})]})]}),b.length>0&&(null==(c=le[g])?void 0:c.level)>2&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"相关功能"}),e.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-gray-200 via-gray-300 to-transparent"})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:b.map(a=>e.jsxs(f,{variant:g===a.path?"default":"outline",size:"sm",onClick:()=>m(a.path),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 "+(g===a.path?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg scale-105":"hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 border-gray-300 hover:border-blue-300 hover:scale-105"),children:[e.jsx(a.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:a.title}),a.badge&&e.jsx(j,{variant:"secondary",className:"ml-1 text-xs bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-700 border-orange-200",children:a.badge})]},a.path))})]})]})})},oe=()=>{const{pathname:e}=d();return c.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),null};export{ie as P,$ as S,Q as T,G as a,Y as b,oe as c};
