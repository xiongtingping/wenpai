import{j as e}from"./ui-core-BoM6Gtru.js";import{r as n}from"./router-CDHmMMQ-.js";import{g as i,i as s}from"./pages-home-B-YLcn0z.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-CGa4OaD-.js";import"./components-layout-B8FsrdzO.js";import"./utils-Ck01-_Du.js";import"./pages-brand-BuX6qQ3s.js";import"./pages-adapt-CSkmXLuc.js";import"./api-services-DPZFfcoz.js";import"./pages-content-extractor-C4B3q1d0.js";import"./components-auth-BBdw3eti.js";function a(){const e=i(),n=[],a=[],d=!!e.openai.apiKey,r=s(e.openai.apiKey,"openai");!d&&e.features.enableAI?n.push("OpenAI APIå¯†é’¥æœªé…ç½® (VITE_OPENAI_API_KEY)"):d&&!r&&n.push("OpenAI APIå¯†é’¥æ ¼å¼æ— æ•ˆ");const t=!!e.deepseek.apiKey,o=s(e.deepseek.apiKey,"deepseek");t&&!o&&a.push("DeepSeek APIå¯†é’¥æ ¼å¼å¯èƒ½æ— æ•ˆ");const l=!!e.gemini.apiKey,c=s(e.gemini.apiKey,"gemini");l&&!c&&a.push("Gemini APIå¯†é’¥æ ¼å¼å¯èƒ½æ— æ•ˆ");const g=!(!e.authing.appId||!e.authing.host),m=g&&!!e.authing.redirectUri;g?m||n.push("Authingå›è°ƒåœ°å€æœªé…ç½®"):n.push("Authingé…ç½®ä¸å®Œæ•´ (éœ€è¦VITE_AUTHING_APP_IDå’ŒVITE_AUTHING_HOST)");const u=!!e.backend.baseUrl,h=u&&e.backend.baseUrl.startsWith("http");u?h||n.push("åç«¯APIåŸºç¡€URLæ ¼å¼æ— æ•ˆ"):n.push("åç«¯APIåŸºç¡€URLæœªé…ç½® (VITE_API_BASE_URL)");const p=!(!e.payment.alipay.appId||!e.payment.alipay.publicKey),x=!(!e.payment.wechat.appId||!e.payment.wechat.mchId),b=p||x;return b||a.push("æ”¯ä»˜é…ç½®æœªè®¾ç½® (æ”¯ä»˜å®æˆ–å¾®ä¿¡æ”¯ä»˜)"),{isValid:0===n.length,errors:n,warnings:a,config:{openai:{configured:d,valid:r},deepseek:{configured:t,valid:o},gemini:{configured:l,valid:c},authing:{configured:g,valid:m},backend:{configured:u,valid:h},payment:{configured:b,valid:b}}}}function d(){const e=a(),n=i();let s="ğŸ”§ APIé…ç½®çŠ¶æ€:\n";return s+="\nğŸŒ ç¯å¢ƒ: "+(n.environment.isDev?"å¼€å‘":"ç”Ÿäº§"),s+="\nğŸ” è°ƒè¯•æ¨¡å¼: "+(n.environment.debugMode?"å¼€å¯":"å…³é—­"),s+="\n\nğŸ¤– AIæœåŠ¡:",s+="\n  OpenAI: "+(e.config.openai.configured?e.config.openai.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n  DeepSeek: "+(e.config.deepseek.configured?e.config.deepseek.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n  Gemini: "+(e.config.gemini.configured?e.config.gemini.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n\nğŸ” è®¤è¯æœåŠ¡:",s+="\n  Authing: "+(e.config.authing.configured?e.config.authing.valid?"âœ… å·²é…ç½®":"âš ï¸ å›è°ƒåœ°å€ç¼ºå¤±":"âŒ æœªé…ç½®"),s+="\n\nğŸ”§ åç«¯æœåŠ¡:",s+="\n  API: "+(e.config.backend.configured?e.config.backend.valid?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"),s+="\n\nğŸ’³ æ”¯ä»˜æœåŠ¡:",s+="\n  æ”¯ä»˜: "+(e.config.payment.configured?"âœ… å·²é…ç½®":"âŒ æœªé…ç½®"),e.errors.length>0&&(s+="\n\nâŒ é”™è¯¯:",e.errors.forEach(e=>{s+=`\n  - ${e}`})),e.warnings.length>0&&(s+="\n\nâš ï¸ è­¦å‘Š:",e.warnings.forEach(e=>{s+=`\n  - ${e}`})),s}function r(){const e=a(),n=[];return e.config.openai.configured||n.push("é…ç½®OpenAI APIå¯†é’¥ä»¥å¯ç”¨AIåŠŸèƒ½"),e.config.authing.configured||n.push("é…ç½®Authingè®¤è¯æœåŠ¡ä»¥å¯ç”¨ç”¨æˆ·ç™»å½•"),e.config.backend.configured||n.push("é…ç½®åç«¯APIåœ°å€ä»¥å¯ç”¨å®Œæ•´åŠŸèƒ½"),e.config.payment.configured||n.push("é…ç½®æ”¯ä»˜æœåŠ¡ä»¥å¯ç”¨ä»˜è´¹åŠŸèƒ½"),e.config.openai.configured&&!e.config.deepseek.configured&&n.push("è€ƒè™‘é…ç½®DeepSeek APIä½œä¸ºå¤‡ç”¨AIæœåŠ¡"),n}const t=()=>{var s,t,o,l,c,g,m,u;const[h,p]=n.useState(null),[x,b]=n.useState(""),[f,v]=n.useState([]),[j,y]=n.useState(!0),[N,k]=n.useState({});return n.useEffect(()=>{const e=a(),n=d(),i=r();p(e),b(n),v(i),y(!1)},[]),j?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"æ­£åœ¨æ£€æŸ¥APIé…ç½®..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"APIé…ç½®æµ‹è¯•"}),e.jsx("p",{className:"text-gray-600",children:"éªŒè¯æ‰€æœ‰APIé…ç½®æ˜¯å¦æ­£ç¡®è®¾ç½®"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"é…ç½®çŠ¶æ€æ¦‚è§ˆ"}),e.jsx("button",{onClick:()=>{y(!0),setTimeout(()=>{const e=a(),n=d(),i=r();p(e),b(n),v(i),y(!1)},100)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"åˆ·æ–°é…ç½®"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 rounded-lg border "+((null==h?void 0:h.config.openai.configured)&&(null==h?void 0:h.config.openai.valid)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"OpenAI"}),e.jsx("p",{className:"text-sm text-gray-600",children:(null==h?void 0:h.config.openai.configured)?(null==h?void 0:h.config.openai.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),e.jsxs("div",{className:"p-4 rounded-lg border "+((null==h?void 0:h.config.deepseek.configured)&&(null==h?void 0:h.config.deepseek.valid)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"DeepSeek"}),e.jsx("p",{className:"text-sm text-gray-600",children:(null==h?void 0:h.config.deepseek.configured)?(null==h?void 0:h.config.deepseek.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),e.jsxs("div",{className:"p-4 rounded-lg border "+((null==h?void 0:h.config.gemini.configured)&&(null==h?void 0:h.config.gemini.valid)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Gemini"}),e.jsx("p",{className:"text-sm text-gray-600",children:(null==h?void 0:h.config.gemini.configured)?(null==h?void 0:h.config.gemini.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),e.jsxs("div",{className:"p-4 rounded-lg border "+((null==h?void 0:h.config.authing.configured)&&(null==h?void 0:h.config.authing.valid)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Authing"}),e.jsx("p",{className:"text-sm text-gray-600",children:(null==h?void 0:h.config.authing.configured)?(null==h?void 0:h.config.authing.valid)?"âœ… å·²é…ç½®":"âš ï¸ å›è°ƒåœ°å€ç¼ºå¤±":"âŒ æœªé…ç½®"})]}),e.jsxs("div",{className:"p-4 rounded-lg border "+((null==h?void 0:h.config.backend.configured)&&(null==h?void 0:h.config.backend.valid)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"åç«¯API"}),e.jsx("p",{className:"text-sm text-gray-600",children:(null==h?void 0:h.config.backend.configured)?(null==h?void 0:h.config.backend.valid)?"âœ… å·²é…ç½®":"âš ï¸ æ ¼å¼é”™è¯¯":"âŒ æœªé…ç½®"})]}),e.jsxs("div",{className:"p-4 rounded-lg border "+((null==h?void 0:h.config.payment.configured)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"æ”¯ä»˜æœåŠ¡"}),e.jsx("p",{className:"text-sm text-gray-600",children:(null==h?void 0:h.config.payment.configured)?"âœ… å·²é…ç½®":"âŒ æœªé…ç½®"})]})]}),(null==h?void 0:h.errors.length)>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-red-600 font-medium mb-2",children:"âŒ é…ç½®é”™è¯¯:"}),e.jsx("ul",{className:"list-disc list-inside text-red-600 space-y-1",children:h.errors.map((n,i)=>e.jsx("li",{children:n},i))})]}),(null==h?void 0:h.warnings.length)>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-yellow-600 font-medium mb-2",children:"âš ï¸ é…ç½®è­¦å‘Š:"}),e.jsx("ul",{className:"list-disc list-inside text-yellow-600 space-y-1",children:h.warnings.map((n,i)=>e.jsx("li",{children:n},i))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"APIè¿æ¥æµ‹è¯•"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"OpenAI API"}),e.jsx("button",{onClick:async()=>{k(e=>({...e,openai:{loading:!0}}));try{const e=await fetch("/.netlify/functions/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"openai",action:"status"})}),n=await e.json();k(i=>({...i,openai:{loading:!1,success:e.ok,data:n}}))}catch(e){k(n=>({...n,openai:{loading:!1,success:!1,error:e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(s=N.openai)?void 0:s.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(t=N.openai)?void 0:t.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"}),N.openai&&e.jsx("div",{className:"mt-2 text-sm",children:N.openai.success?e.jsx("span",{className:"text-green-600",children:"âœ… è¿æ¥æˆåŠŸ"}):e.jsxs("span",{className:"text-red-600",children:["âŒ è¿æ¥å¤±è´¥: ",N.openai.error]})})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"DeepSeek API"}),e.jsx("button",{onClick:async()=>{k(e=>({...e,deepseek:{loading:!0}}));try{const e=await fetch("/.netlify/functions/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"deepseek",action:"status"})}),n=await e.json();k(i=>({...i,deepseek:{loading:!1,success:e.ok,data:n}}))}catch(e){k(n=>({...n,deepseek:{loading:!1,success:!1,error:e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(o=N.deepseek)?void 0:o.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(l=N.deepseek)?void 0:l.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"}),N.deepseek&&e.jsx("div",{className:"mt-2 text-sm",children:N.deepseek.success?e.jsx("span",{className:"text-green-600",children:"âœ… è¿æ¥æˆåŠŸ"}):e.jsxs("span",{className:"text-red-600",children:["âŒ è¿æ¥å¤±è´¥: ",N.deepseek.error]})})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Authingé…ç½®"}),e.jsx("button",{onClick:async()=>{k(e=>({...e,authing:{loading:!0}}));try{const e=i(),n=!!(e.authing.appId&&e.authing.host&&e.authing.redirectUri);k(i=>({...i,authing:{loading:!1,success:n,data:{appId:e.authing.appId,host:e.authing.host,redirectUri:e.authing.redirectUri}}}))}catch(e){k(n=>({...n,authing:{loading:!1,success:!1,error:e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(c=N.authing)?void 0:c.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(g=N.authing)?void 0:g.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•é…ç½®"}),N.authing&&e.jsx("div",{className:"mt-2 text-sm",children:N.authing.success?e.jsx("span",{className:"text-green-600",children:"âœ… é…ç½®æ­£ç¡®"}):e.jsxs("span",{className:"text-red-600",children:["âŒ é…ç½®é”™è¯¯: ",N.authing.error]})})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"åç«¯API"}),e.jsx("button",{onClick:async()=>{k(e=>({...e,backend:{loading:!0}}));try{const e=i(),n=await fetch(`${e.backend.baseUrl}/health`,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await n.json();k(e=>({...e,backend:{loading:!1,success:n.ok,data:s}}))}catch(e){k(n=>({...n,backend:{loading:!1,success:!1,error:e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}}))}},disabled:null==(m=N.backend)?void 0:m.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:(null==(u=N.backend)?void 0:u.loading)?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"}),N.backend&&e.jsx("div",{className:"mt-2 text-sm",children:N.backend.success?e.jsx("span",{className:"text-green-600",children:"âœ… è¿æ¥æˆåŠŸ"}):e.jsxs("span",{className:"text-red-600",children:["âŒ è¿æ¥å¤±è´¥: ",N.backend.error]})})]})]})]}),f.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"é…ç½®å»ºè®®"}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.map((n,i)=>e.jsx("li",{children:n},i))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"è¯¦ç»†é…ç½®ä¿¡æ¯"}),e.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap",children:x})]})]})})};export{t as default};
