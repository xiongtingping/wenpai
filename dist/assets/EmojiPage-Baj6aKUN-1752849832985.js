const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D5i-nldW-1752849832985.js","assets/index-hnnI9qCY-1752849832985.css"])))=>i.map(i=>d[i]);
var He=Object.defineProperty;var We=(n,s,a)=>s in n?He(n,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[s]=a;var te=(n,s,a)=>We(n,typeof s!="symbol"?s+"":s,a);import{q as Z,r as o,j as e,s as Je,t as Me,v as Ke,C as D,m as V,n as H,U as ye,e as F,B as x,w as Qe,A as Xe,x as Ye,l as Q,y as Ae,X as be,L as U,T as he,u as xe,I as Ge,z as Ze,R as Re,E as X,G as es,p as Y,_ as ss,J as ts,K as as,N as re,O as we,Q as le,S as is,f as Se,g as ke,h as Ce,i as Ee,k as oe,V as ns,H as rs,W as $e,Y as ls,Z as os,$ as cs,a0 as ds}from"./index-D5i-nldW-1752849832985.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],us=Z("download",ms);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ce=Z("grid-3x3",hs);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ps=Z("image",xs);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],fs=Z("list",gs);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],vs=Z("wand-sparkles",js),de=["Smileys & Emotion","People & Body","Component","Animals & Nature","Food & Drink","Travel & Places","Activities","Objects","Symbols","Flags"],ae={light:{unicode:"ğŸ»",hex:"F7D7C4",name:"æµ…è‚¤è‰²"},"medium-light":{unicode:"ğŸ¼",hex:"D4A574",name:"ä¸­æµ…è‚¤è‰²"},medium:{unicode:"ğŸ½",hex:"A0754D",name:"ä¸­ç­‰è‚¤è‰²"},"medium-dark":{unicode:"ğŸ¾",hex:"825C42",name:"ä¸­æ·±è‚¤è‰²"},dark:{unicode:"ğŸ¿",hex:"5C4033",name:"æ·±è‚¤è‰²"}},Ns={"1f468-2764-1f48b-1f468":"Kiss","1f469-2764-1f48b-1f469":"Kiss","1f469-2764-1f48b-1f468":"Kiss","1f469-2764-1f468":"Couple with Heart","1f468-2764-1f468":"Couple with Heart","1f469-2764-1f469":"Couple with Heart","1f468-1f467":"Family","1f468-1f466":"Family","1f469-1f467":"Family","1f469-1f466":"Family"},ys={"1f441-1f5e8":"I Witness","1f3f3-1f308":"Rainbow Flag",2695:"Health Worker",2696:"Judge","26f7":"Skiing","26f9":"Bouncing a Ball",2708:"Pilot","1f33e":"Farmer","1f373":"Cook","1f393":"Student","1f3a4":"Singer","1f3a8":"Artist","1f3c3":"Running","1f3c4":"Surfing","1f3ca":"Swimming","1f46e":"Police Officer","1f477":"Construction Worker","1f4bb":"Technologist","1f527":"Mechanic","1f52c":"Scientist","1f680":"Astronaut","1f692":"Firefighter"},me={color:{name:"Noto Color",description:"Googleå®˜æ–¹å½©è‰²è®¾è®¡",baseUrl:"https://raw.githubusercontent.com/googlefonts/noto-emoji/main/png",format:"png"},outline:{name:"Noto Outline",description:"é»‘ç™½æè¾¹é£æ ¼",baseUrl:"/assets/noto-emoji",format:"png"},material:{name:"Material Design",description:"Material Designé£æ ¼",baseUrl:"https://fonts.gstatic.com/s/e/notoemoji/latest",format:"webp"}},bs=[{unicode:"ğŸ˜€",codepoint:"1f600",name:"ç¬‘è„¸",group:"Smileys & Emotion",subgroup:"face-smiling",keywords:["ç¬‘","å¼€å¿ƒ","é«˜å…´","å¿«ä¹","grinning"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"ğŸ˜ƒ",codepoint:"1f603",name:"å¼ å˜´ç¬‘è„¸",group:"Smileys & Emotion",subgroup:"face-smiling",keywords:["ç¬‘","å¼€å¿ƒ","å¼ å˜´","å…´å¥‹","grinning","big eyes"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"ğŸ‘",codepoint:"1f44d",name:"ç«–èµ·å¤§æ‹‡æŒ‡",group:"People & Body",subgroup:"hand-fingers-closed",keywords:["å¥½","èµ","åŒæ„","æ‰‹åŠ¿","thumbs up","like"],hasSkinTone:!0,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"ğŸ¶",codepoint:"1f436",name:"ç‹—è„¸",group:"Animals & Nature",subgroup:"animal-mammal",keywords:["ç‹—","å°ç‹—","å® ç‰©","åŠ¨ç‰©","dog","face"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"ğŸ",codepoint:"1f34e",name:"çº¢è‹¹æœ",group:"Food & Drink",subgroup:"food-fruit",keywords:["è‹¹æœ","æ°´æœ","çº¢è‰²","å¥åº·","apple","red"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"â¤ï¸",codepoint:"2764",name:"çº¢å¿ƒ",group:"Symbols",subgroup:"heart",keywords:["çˆ±","å¿ƒ","çº¢è‰²","æ„Ÿæƒ…","heart","love"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"ğŸš—",codepoint:"1f697",name:"æ±½è½¦",group:"Travel & Places",subgroup:"transport-ground",keywords:["æ±½è½¦","è½¦","äº¤é€š","é©¾é©¶","car","automobile"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"âš½",codepoint:"26bd",name:"è¶³çƒ",group:"Activities",subgroup:"sport",keywords:["è¶³çƒ","è¿åŠ¨","çƒ","æ¯”èµ›","soccer","football"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"ğŸ’¡",codepoint:"1f4a1",name:"ç”µç¯æ³¡",group:"Objects",subgroup:"light & video",keywords:["ç¯æ³¡","æƒ³æ³•","åˆ›æ„","ç”µ","bulb","idea"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"},{unicode:"ğŸ³ï¸",codepoint:"1f3f3",name:"ç™½æ——",group:"Flags",subgroup:"flag",keywords:["æ——å¸œ","ç™½è‰²","æŠ•é™","å’Œå¹³","flag","white"],hasSkinTone:!1,hasGender:!1,version:"1.0",status:"fully-qualified"}],q=class q{constructor(){te(this,"emojiData",[]);te(this,"emojiMap",new Map);this.initializeData()}static getInstance(){return q.instance||(q.instance=new q),q.instance}initializeData(){this.emojiData=[...bs],this.buildEmojiMap()}buildEmojiMap(){this.emojiMap.clear(),this.emojiData.forEach(s=>{this.emojiMap.set(s.unicode,s),this.emojiMap.set(s.codepoint,s)})}getAllEmojis(){return[...this.emojiData]}getEmojisByGroup(s){return this.emojiData.filter(a=>a.group===s)}searchEmojis(s){const a=s.toLowerCase();return this.emojiData.filter(r=>r.name.toLowerCase().includes(a)||r.keywords.some(l=>l.toLowerCase().includes(a))||r.unicode.includes(s))}getEmojiByUnicode(s){return this.emojiMap.get(s)}getEmojiByCodepoint(s){return this.emojiMap.get(s)}generateEmojiUrl(s,a="color",r=128){const l=me[a];return a==="color"?`${l.baseUrl}/${r}/emoji_u${s}.${l.format}`:a==="material"?`${l.baseUrl}/${s}/${r}.${l.format}`:`${l.baseUrl}/emoji_u${s}.${l.format}`}applySkinToneModifier(s,a){if(!s)return console.warn("[applySkinToneModifier] unicodeå‚æ•°ä¸ºç©º"),"";const r=this.getEmojiByUnicode(s);return r?r.hasSkinTone&&a&&ae[a]?s+ae[a].unicode:s:(console.warn(`[applySkinToneModifier] æœªæ‰¾åˆ°unicode: ${s} å¯¹åº”çš„emoji`),s)}getEmojiVariants(s){const a=this.getEmojiByUnicode(s);if(!a)return[s];const r=[s];return a.hasSkinTone&&Object.keys(ae).forEach(l=>{r.push(this.applySkinToneModifier(s,l))}),r}getCustomName(s){return ys[s]||Ns[s]||null}unicodeToCodepoint(s){return Array.from(s).map(a=>{var r;return(r=a.codePointAt(0))==null?void 0:r.toString(16).padStart(4,"0")}).join("_")}codepointToUnicode(s){return s.split("_").map(a=>String.fromCodePoint(parseInt(a,16))).join("")}isEmojiSupported(s){return this.emojiMap.has(s)}getEmojiStats(){const s={total:this.emojiData.length,byGroup:{},withSkinTone:0,withGender:0};return this.emojiData.forEach(a=>{s.byGroup[a.group]=(s.byGroup[a.group]||0)+1,a.hasSkinTone&&s.withSkinTone++,a.hasGender&&s.withGender++}),s}batchGenerateUrls(s,a="color",r=128){return s.map(l=>({codepoint:l,url:this.generateEmojiUrl(l,a,r)}))}exportData(){return JSON.stringify({metadata:{total:this.emojiData.length,generated:new Date().toISOString(),source:"Google Noto Emoji Project"},groups:de,skinTones:ae,styles:me,emojis:this.emojiData},null,2)}};te(q,"instance");let ue=q;const J=ue.getInstance();var pe="Progress",ge=100,[ws,zs]=Je(pe),[Ss,ks]=ws(pe),_e=o.forwardRef((n,s)=>{const{__scopeProgress:a,value:r=null,max:l,getValueLabel:u=Cs,...j}=n;(l||l===0)&&!Pe(l)&&console.error(Es(`${l}`,"Progress"));const p=Pe(l)?l:ge;r!==null&&!Te(r,p)&&console.error($s(`${r}`,"Progress"));const h=Te(r,p)?r:null,S=ie(h)?u(h,p):void 0;return e.jsx(Ss,{scope:a,value:h,max:p,children:e.jsx(Me.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":ie(h)?h:void 0,"aria-valuetext":S,role:"progressbar","data-state":Fe(h,p),"data-value":h??void 0,"data-max":p,...j,ref:s})})});_e.displayName=pe;var Ue="ProgressIndicator",De=o.forwardRef((n,s)=>{const{__scopeProgress:a,...r}=n,l=ks(Ue,a);return e.jsx(Me.div,{"data-state":Fe(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:s})});De.displayName=Ue;function Cs(n,s){return`${Math.round(n/s*100)}%`}function Fe(n,s){return n==null?"indeterminate":n===s?"complete":"loading"}function ie(n){return typeof n=="number"}function Pe(n){return ie(n)&&!isNaN(n)&&n>0}function Te(n,s){return ie(n)&&!isNaN(n)&&n<=s&&n>=0}function Es(n,s){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ge}\`.`}function $s(n,s){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ge} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ze=_e,Ps=De;const Le=o.forwardRef(({className:n,value:s,...a},r)=>e.jsx(ze,{ref:r,className:Ke("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...a,children:e.jsx(Ps,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Le.displayName=ze.displayName;function Ts({onUploadComplete:n,onReset:s}){const[a,r]=o.useState("image"),[l,u]=o.useState(null),[j,p]=o.useState(""),[h,S]=o.useState(!1),[_,P]=o.useState(null),G=o.useRef(null),T=E=>{var g;const $=(g=E.target.files)==null?void 0:g[0];if($){if(!$.type.startsWith("image/")){P("è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶");return}if($.size>5*1024*1024){P("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡5MB");return}P(null),u($),S(!0),setTimeout(()=>{S(!1),n({image:$})},1e3)}},z=()=>{if(!j.trim()){P("è¯·è¾“å…¥å“ç‰Œæè¿°");return}P(null),S(!0),setTimeout(()=>{S(!1),n({description:j.trim()})},500)},I=()=>{u(null),p(""),P(null),S(!1),G.current&&(G.current.value=""),s()},C=()=>{var E;(E=G.current)==null||E.click()};return e.jsxs(D,{className:"w-full max-w-2xl mx-auto",children:[e.jsx(V,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5"}),"ä¸Šä¼ å“ç‰Œç´ æ"]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:a==="image"?"default":"outline",onClick:()=>r("image"),className:"flex-1",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"ä¸Šä¼ å›¾ç‰‡"]}),e.jsxs(x,{variant:a==="description"?"default":"outline",onClick:()=>r("description"),className:"flex-1",children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"æ–‡å­—æè¿°"]})]}),_&&e.jsx(Xe,{variant:"destructive",children:e.jsx(Ye,{children:_})}),a==="image"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",onClick:C,children:l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:URL.createObjectURL(l),alt:"é¢„è§ˆ",className:"w-32 h-32 object-cover rounded-lg"}),e.jsxs(Q,{className:"absolute -top-2 -right-2 bg-green-500",children:[e.jsx(Ae,{className:"w-3 h-3 mr-1"}),"å·²ä¸Šä¼ "]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:l.name})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(ye,{className:"w-12 h-12 mx-auto text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium",children:"ç‚¹å‡»ä¸Šä¼ å“ç‰Œå›¾ç‰‡"}),e.jsx("p",{className:"text-sm text-gray-500",children:"æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œæœ€å¤§ 5MB"})]})]})}),e.jsx("input",{ref:G,type:"file",accept:"image/*",onChange:T,className:"hidden"}),l&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{onClick:C,variant:"outline",className:"flex-1",children:"é‡æ–°é€‰æ‹©"}),e.jsx(x,{onClick:I,variant:"outline",children:e.jsx(be,{className:"w-4 h-4"})})]})]}),a==="description"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"description",children:"å“ç‰Œæè¿°"}),e.jsx(he,{id:"description",placeholder:"è¯·æè¿°æ‚¨çš„å“ç‰Œç‰¹ç‚¹ï¼Œä¾‹å¦‚ï¼šç§‘æŠ€å…¬å¸ï¼Œè“è‰²ä¸»é¢˜ï¼Œç®€çº¦ç°ä»£é£æ ¼...",value:j,onChange:E=>p(E.target.value),rows:4,className:"resize-none"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{onClick:z,disabled:h||!j.trim(),className:"flex-1",children:h?"å¤„ç†ä¸­...":"æäº¤æè¿°"}),e.jsx(x,{onClick:I,variant:"outline",children:e.jsx(be,{className:"w-4 h-4"})})]})]}),h&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:a==="image"?"æ­£åœ¨ä¸Šä¼ å›¾ç‰‡...":"æ­£åœ¨å¤„ç†æè¿°..."})]})]})]})}const Is=["å¼€å¿ƒå¾®ç¬‘","å¤§ç¬‘","ç”Ÿæ°”","å“­æ³£","æƒŠè®¶","ç–‘æƒ‘","ç¡è§‰","åèˆŒ","é¼“æŒ","æ¯”å¿ƒ","ç‚¹èµ","OK æ‰‹åŠ¿","æ‹’ç»","æ‹å¤´","ä¸¾æ‰‹æé—®","åŠ æ²¹","æŒ‘çœ‰","å®³ç¾","çœ¨çœ¼","é»‘è„¸","é¼»æ¶•æ³¡","æµå£æ°´","å’€åš¼","å·ç¬‘","å“åˆ°","æ‰“å–·åš","çˆ±å¿ƒçœ¼","åº†ç¥","æ‹¿çº¢åŒ…","ä¸¾æ¯å¾®ç¬‘"],fe=[{value:"cute",label:"å¯çˆ±é£æ ¼",emoji:"ğŸ¥°"},{value:"modern",label:"ç°ä»£ç®€çº¦",emoji:"âœ¨"},{value:"vintage",label:"å¤å¤ç»å…¸",emoji:"ğŸ“·"},{value:"cartoon",label:"å¡é€šåŠ¨æ¼«",emoji:"ğŸ¨"},{value:"minimalist",label:"æç®€ä¸»ä¹‰",emoji:"âšª"},{value:"3d",label:"3Dç«‹ä½“",emoji:"ğŸ¯"}],je=["ç®€å•","é€‚ä¸­","å¤æ‚","éå¸¸å¤æ‚","æåº¦å¤æ‚"];function Oe(n,s){return Is.map(a=>({emotion:a,prompt:`ä¸€ä¸ª${s}å“ç‰Œå¡é€šå½¢è±¡æ­£åœ¨${a}ï¼Œ${n}ï¼Œè¡¨æƒ…é£æ ¼ä¸º emojiï¼Œæ‰å¹³å¡é€šé£ï¼Œé€æ˜èƒŒæ™¯`}))}function Ms(n,s){var l;if(!n)return"";let a="";const r=((l=fe.find(u=>u.value===s))==null?void 0:l.label)||"å¯çˆ±";return n.image?a=`åŸºäºä¸Šä¼ çš„å“ç‰Œå›¾ç‰‡ï¼Œåˆ›å»ºä¸€ä¸ª${r}çš„Emojiè¡¨æƒ…`:n.description&&(a=`åŸºäºæè¿°"${n.description}"ï¼Œåˆ›å»ºä¸€ä¸ª${r}çš„Emojiè¡¨æƒ…`),a}function Ie(n,s,a){const r=Ms(n,s),l=je[a-1];let u=`${r}ï¼Œ${l}ç¨‹åº¦çš„è®¾è®¡ï¼Œ`;switch(s){case"cute":u+="åœ†æ¶¦çš„çº¿æ¡ï¼Œæ¸©æš–çš„è‰²å½©ï¼Œå……æ»¡äº²å’ŒåŠ›";break;case"modern":u+="ç®€æ´çš„å‡ ä½•å½¢çŠ¶ï¼Œæ¸…æ™°çš„è½®å»“ï¼Œç°ä»£æ„Ÿåè¶³";break;case"vintage":u+="å¤å¤è‰²è°ƒï¼Œç»å…¸å…ƒç´ ï¼Œæ€€æ—§é£æ ¼";break;case"cartoon":u+="å¤¸å¼ çš„è¡¨æƒ…ï¼Œé²œè‰³çš„è‰²å½©ï¼Œå¡é€šé£æ ¼";break;case"minimalist":u+="æç®€è®¾è®¡ï¼Œå•ä¸€è‰²å½©ï¼Œç®€æ´æ˜äº†";break;case"3d":u+="ç«‹ä½“æ•ˆæœï¼Œå…‰å½±å±‚æ¬¡ï¼Œ3Dæ¸²æŸ“é£æ ¼";break}return u}function As(n,s,a,r="å“ç‰Œ"){const l=(n==null?void 0:n.description)||"å¡é€šå½¢è±¡";return Oe(l,r).map(({emotion:j,prompt:p})=>{var h;return{emotion:j,prompt:`${p}ï¼Œ${((h=fe.find(S=>S.value===s))==null?void 0:h.label)||"å¯çˆ±"}é£æ ¼ï¼Œ${je[a-1]}ç¨‹åº¦çš„è®¾è®¡`}})}function Gs({uploadedData:n,onPromptReady:s,onBatchPromptsReady:a,onBrandChange:r,onBack:l}){const[u,j]=o.useState(""),[p,h]=o.useState(""),[S,_]=o.useState(!1),[P,G]=o.useState("cute"),[T,z]=o.useState([3]),[I,C]=o.useState(!1),[E,$]=o.useState(""),[g,d]=o.useState("single"),[f,N]=o.useState([]),{toast:m}=xe(),M=async()=>{_(!0),setTimeout(()=>{if(g==="single"){const t=Ie(n,P,T[0]);j(t),h(t)}else{const t=As(n,P,T[0],E);N(t)}_(!1),m({title:"Promptç”Ÿæˆå®Œæˆ",description:g==="single"?"å·²ä¸ºæ‚¨ç”Ÿæˆä¸ªæ€§åŒ–çš„Emojiç”Ÿæˆæç¤ºè¯":`å·²ç”Ÿæˆ${f.length}ä¸ªæƒ…ç»ªæç¤ºè¯`})},2e3)},w=async()=>{const t=I?p:u;try{await navigator.clipboard.writeText(t),m({title:"å¤åˆ¶æˆåŠŸ",description:"Promptå·²å¤åˆ¶åˆ°å‰ªè´´æ¿"})}catch{m({title:"å¤åˆ¶å¤±è´¥",description:"è¯·æ‰‹åŠ¨å¤åˆ¶æ–‡æœ¬",variant:"destructive"})}},k=async()=>{const t=f.map(c=>`${c.emotion}: ${c.prompt}`).join(`

`);try{await navigator.clipboard.writeText(t),m({title:"å¤åˆ¶æˆåŠŸ",description:"æ‰¹é‡æç¤ºè¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"})}catch{m({title:"å¤åˆ¶å¤±è´¥",description:"è¯·æ‰‹åŠ¨å¤åˆ¶æ–‡æœ¬",variant:"destructive"})}},y=()=>{if(g==="single"){const t=I?p:u;if(!t.trim()){m({title:"æç¤ºè¯ä¸èƒ½ä¸ºç©º",description:"è¯·å…ˆç”Ÿæˆæˆ–è¾“å…¥æç¤ºè¯",variant:"destructive"});return}s(t)}else{if(f.length===0){m({title:"æ‰¹é‡æç¤ºè¯ä¸ºç©º",description:"è¯·å…ˆç”Ÿæˆæ‰¹é‡æç¤ºè¯",variant:"destructive"});return}a==null||a(f)}};return o.useEffect(()=>{if(n&&g==="single"){const t=Ie(n,P,T[0]);j(t),I||h(t)}},[n,P,T,g,I]),e.jsxs(D,{className:"w-full max-w-2xl mx-auto",children:[e.jsx(V,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5"}),"æ„å»ºç”Ÿæˆæç¤ºè¯"]})}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"ç”Ÿæˆæ¨¡å¼"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:g==="single"?"default":"outline",onClick:()=>d("single"),className:"flex-1",children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"å•ä¸ªæç¤ºè¯"]}),e.jsxs(x,{variant:g==="batch"?"default":"outline",onClick:()=>d("batch"),className:"flex-1",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"æ‰¹é‡æƒ…ç»ª"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"brand-name",children:"å“ç‰Œåç§°"}),e.jsx(Ge,{id:"brand-name",placeholder:"è¯·è¾“å…¥æ‚¨çš„å“ç‰Œåç§°",value:E,onChange:t=>{$(t.target.value),r==null||r(t.target.value)}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"é€‰æ‹©é£æ ¼"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:fe.map(t=>e.jsxs(x,{variant:P===t.value?"default":"outline",onClick:()=>G(t.value),className:"flex flex-col items-center gap-1 h-auto py-3",children:[e.jsx("span",{className:"text-lg",children:t.emoji}),e.jsx("span",{className:"text-xs",children:t.label})]},t.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(U,{children:["è®¾è®¡å¤æ‚åº¦: ",je[T[0]-1]]}),e.jsx(Ze,{value:T,onValueChange:z,max:5,min:1,step:1,className:"w-full"})]}),e.jsx(x,{onClick:M,disabled:S||!n||g==="batch"&&!E.trim(),className:"w-full",children:S?e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"ç”Ÿæˆä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),g==="single"?"è‡ªåŠ¨ç”ŸæˆPrompt":"ç”Ÿæˆæ‰¹é‡æƒ…ç»ªPrompt"]})}),g==="single"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(U,{htmlFor:"custom-prompt",children:"è‡ªå®šä¹‰Prompt"}),e.jsx(es,{id:"custom-prompt",checked:I,onCheckedChange:C})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"ç”Ÿæˆæç¤ºè¯"}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{value:I?p:u,onChange:t=>h(t.target.value),placeholder:"æ­£åœ¨ç”Ÿæˆä¸ªæ€§åŒ–æç¤ºè¯...",rows:4,className:"resize-none pr-12",disabled:!I}),e.jsx(x,{size:"sm",variant:"ghost",onClick:w,className:"absolute top-2 right-2",children:e.jsx(Y,{className:"w-4 h-4"})})]})]})]}),g==="batch"&&f.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(U,{children:["æ‰¹é‡æƒ…ç»ªæç¤ºè¯ (",f.length,"ä¸ª)"]}),e.jsxs(x,{size:"sm",variant:"ghost",onClick:k,children:[e.jsx(Y,{className:"w-4 h-4 mr-1"}),"å¤åˆ¶å…¨éƒ¨"]})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-lg p-3",children:f.map((t,c)=>e.jsxs("div",{className:"p-2 bg-muted rounded",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(Q,{variant:"secondary",children:t.emotion}),e.jsx(x,{size:"sm",variant:"ghost",onClick:()=>navigator.clipboard.writeText(t.prompt),children:e.jsx(Y,{className:"w-3 h-3"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.prompt})]},c))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{onClick:l,variant:"outline",className:"flex-1",children:"è¿”å›"}),e.jsx(x,{onClick:y,disabled:g==="single"?!u.trim()&&!p.trim():f.length===0,className:"flex-1",children:g==="single"?"ç¡®è®¤ä½¿ç”¨":"å¼€å§‹æ‰¹é‡ç”Ÿæˆ"})]})]})]})}function Rs({character:n,brand:s,uploadedImage:a}){const[r,l]=o.useState([]),[u,j]=o.useState(!1),[p,h]=o.useState(0),[S,_]=o.useState(""),[P,G]=o.useState(0),[T,z]=o.useState(0),{toast:I}=xe(),C=(d,f="ç”Ÿæˆå¤±è´¥")=>{const N=`
      <svg width="64" height="64" xmlns="http://www.w3.org/2000/svg">
        <rect width="64" height="64" fill="#f3f4f6"/>
        <text x="32" y="32" text-anchor="middle" dy=".3em" fill="#9ca3af" font-size="8">${d}</text>
        <text x="32" y="44" text-anchor="middle" dy=".3em" fill="#9ca3af" font-size="6">${f}</text>
      </svg>
    `;return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(N)))}`},E=async d=>{var m,M,w,k,y,t;let N=null;for(let c=1;c<=3;c++)try{console.log(`å°è¯•ç”Ÿæˆå›¾åƒ (ç¬¬${c}æ¬¡): ${d.substring(0,30)}...`);const b=(await ss(async()=>{const{default:R}=await import("./index-D5i-nldW-1752849832985.js").then(B=>B.a1);return{default:R}},__vite__mapDeps([0,1]))).default,A={prompt:d,n:1,size:"512x512",response_format:"url"};if(a){const R=await $(a),B={...A,reference_image:R,prompt:`åŸºäºå‚è€ƒå›¾ç‰‡çš„é£æ ¼å’Œç‰¹å¾ï¼Œ${d}`},W=await b.generateImage(B);if(W.success&&((w=(M=(m=W.data)==null?void 0:m.images)==null?void 0:M[0])!=null&&w.url))return console.log(`å›¾åƒç”ŸæˆæˆåŠŸ (ç¬¬${c}æ¬¡å°è¯•)`),W.data.images[0].url;throw new Error(W.error||"å›¾åƒç”Ÿæˆå¤±è´¥")}else{const R=await b.generateImage(A);if(R.success&&((t=(y=(k=R.data)==null?void 0:k.images)==null?void 0:y[0])!=null&&t.url))return console.log(`å›¾åƒç”ŸæˆæˆåŠŸ (ç¬¬${c}æ¬¡å°è¯•)`),R.data.images[0].url;throw new Error(R.error||"å›¾åƒç”Ÿæˆå¤±è´¥")}}catch(b){if(N=b instanceof Error?b:new Error(String(b)),console.error(`å›¾åƒç”Ÿæˆå¤±è´¥ (ç¬¬${c}æ¬¡å°è¯•):`,N.message),c<3){const A=c*1e3;console.log(`ç­‰å¾…${A}msåé‡è¯•...`),await new Promise(R=>setTimeout(R,A))}}throw new Error(`å›¾åƒç”Ÿæˆå¤±è´¥ï¼Œå·²é‡è¯•3æ¬¡: ${N==null?void 0:N.message}`)};function $(d){return new Promise((f,N)=>{const m=new FileReader;m.readAsDataURL(d),m.onload=M=>{const w=m.result;if(d.size<1024*1024){const y=w.split(",")[1];f(y);return}const k=new Image;k.onload=()=>{const y=document.createElement("canvas"),t=y.getContext("2d");let{width:c,height:b}=k;const A=512;c>b?c>A&&(b=b*A/c,c=A):b>A&&(c=c*A/b,b=A),y.width=c,y.height=b,t==null||t.drawImage(k,0,0,c,b);const B=y.toDataURL("image/jpeg",.7).split(",")[1];f(B)},k.onerror=()=>{const y=w.split(",")[1];f(y)},k.src=w},m.onerror=M=>N(M)})}const g=async()=>{j(!0),l([]),h(0),_(""),z(0);try{const d=Oe(n,s);G(d.length);const f=[],N=d.length;for(let m=0;m<N;m++){const{prompt:M,emotion:w}=d[m];try{console.log(`æ­£åœ¨ç”Ÿæˆ${w}è¡¨æƒ…... (${m+1}/${N})`),_(w),z(m+1),h((m+1)/N*100);const k=await E(M);f.push({emotion:w,url:k}),console.log(`${w}è¡¨æƒ…ç”ŸæˆæˆåŠŸ (${m+1}/${N})`),(m+1)%3===0&&m<N-1&&(console.log("æš‚åœ3ç§’ï¼Œé¿å…APIé™åˆ¶..."),await new Promise(y=>setTimeout(y,3e3)))}catch(k){console.error(`ç”Ÿæˆ${w}è¡¨æƒ…å¤±è´¥:`,k),f.push({emotion:w,url:C(w,"ç”Ÿæˆå¤±è´¥")}),f.slice(-2).filter(t=>t.url.includes("ç”Ÿæˆå¤±è´¥")).length>=2&&(console.log("æ£€æµ‹åˆ°è¿ç»­å¤±è´¥ï¼Œæš‚åœ8ç§’..."),await new Promise(t=>setTimeout(t,8e3)))}}l(f),I({title:"ç”Ÿæˆå®Œæˆ",description:`æˆåŠŸç”Ÿæˆ ${f.length} ä¸ªä¸ªæ€§åŒ–Emoji`})}catch(d){console.error("æ‰¹é‡ç”Ÿæˆå¤±è´¥:",d),I({title:"ç”Ÿæˆå¤±è´¥",description:d instanceof Error?d.message:"è¯·é‡è¯•",variant:"destructive"})}finally{j(!1),h(0),_(""),z(0),G(0)}};return e.jsxs(D,{className:"w-full",children:[e.jsx(V,{children:e.jsx(H,{className:"text-xl font-bold",children:"Step 3ï¼šAI ç”Ÿæˆå“ç‰Œ Emoji"})}),e.jsxs(F,{className:"space-y-4",children:[e.jsx(x,{onClick:g,disabled:u,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:u?"ç”Ÿæˆä¸­...":"å¼€å§‹ç”Ÿæˆ"}),u&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"ç”Ÿæˆè¿›åº¦"}),e.jsxs("span",{children:[T,"/",P," (",Math.round(p),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),S&&e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["æ­£åœ¨ç”Ÿæˆ: ",S]}),e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["é¢„è®¡å‰©ä½™æ—¶é—´: ",Math.ceil((P-T)*8)," ç§’"]})]}),r.length>0&&e.jsx("div",{className:"grid grid-cols-5 gap-4 mt-4",children:r.map(({emotion:d,url:f})=>e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:f,alt:d,className:"w-16 h-16 object-contain mx-auto border rounded-lg"}),e.jsx("p",{className:"text-xs mt-1 text-gray-600",children:d})]},d))})]})]})}function _s({emojis:n,onDelete:s,onRegenerate:a}){return e.jsx("div",{className:"grid grid-cols-5 gap-4",children:n.map(({emotion:r,url:l})=>e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:l,alt:r,className:"w-16 h-16 mx-auto cursor-pointer",onClick:()=>navigator.clipboard.writeText(l),title:"ç‚¹å‡»å¤åˆ¶é“¾æ¥"}),e.jsx("p",{className:"text-xs",children:r}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-1",children:[e.jsx("button",{className:"text-red-500 text-xs",onClick:()=>s(r),children:"åˆ é™¤"}),e.jsx("button",{className:"text-blue-500 text-xs",onClick:()=>a(r),children:"é‡ç”Ÿ"})]})]},r))})}function Us(){const[n,s]=o.useState("upload"),[a,r]=o.useState(null),[l,u]=o.useState(""),[j,p]=o.useState([]),[h,S]=o.useState([]),[_,P]=o.useState(!1),[G,T]=o.useState("single"),[z,I]=o.useState(""),[C,E]=o.useState(""),$=[{id:"upload",title:"ä¸Šä¼ ç´ æ",description:"ä¸Šä¼ å“ç‰Œå›¾ç‰‡æˆ–è¾“å…¥æè¿°"},{id:"build",title:"æ„å»ºæç¤ºè¯",description:"ç”Ÿæˆä¸ªæ€§åŒ–ç”Ÿæˆæç¤ºè¯"},{id:"generate",title:"ç”ŸæˆEmoji",description:"AIç”Ÿæˆä¸ªæ€§åŒ–Emoji"},{id:"gallery",title:"ä½œå“å±•ç¤º",description:"æŸ¥çœ‹å’Œç®¡ç†ç”Ÿæˆçš„Emoji"}],g=$.findIndex(t=>t.id===n),d=t=>{r(t),t.description&&I(t.description),s("build")},f=t=>{u(t),T("single"),s("generate")},N=t=>{p(t),T("batch"),s("generate")},m=t=>{E(t)},M=t=>{S(c=>c.filter(b=>b.id!==t))},w=()=>{switch(n){case"build":s("upload");break;case"generate":s("build");break;case"gallery":s("generate");break}},k=()=>{s("upload"),r(null),u(""),p([]),S([]),T("single"),I(""),E("")},y=()=>{switch(n){case"upload":return e.jsx(Ts,{onUploadComplete:d,onReset:k});case"build":return e.jsx(Gs,{uploadedData:a,onPromptReady:f,onBatchPromptsReady:N,onBack:w,onBrandChange:m});case"generate":return e.jsx(Rs,{character:z||"å¡é€šå½¢è±¡",brand:C||"å“ç‰Œ",uploadedImage:a==null?void 0:a.image});case"gallery":return e.jsx(_s,{emojis:h.map(t=>({emotion:t.emotion||"æœªçŸ¥",url:t.url})),onDelete:t=>{const c=h.find(b=>b.emotion===t);c&&M(c.id)},onRegenerate:t=>{s("generate")}});default:return null}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"ä¸ªæ€§åŒ–å“ç‰Œ Emoji ç”Ÿæˆå™¨"}),e.jsx("p",{className:"text-gray-600",children:"åŸºäºæ‚¨çš„å“ç‰Œç‰¹è‰²ï¼ŒAIæ™ºèƒ½ç”Ÿæˆä¸“å±Emojiè¡¨æƒ…"})]}),e.jsx(D,{children:e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:$.map((t,c)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`
                      w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium
                      ${c<=g?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}
                    `,children:c<g?e.jsx(Ae,{className:"w-5 h-5"}):c+1}),e.jsxs("div",{className:"text-xs mt-2 text-center max-w-20",children:[e.jsx("div",{className:"font-medium",children:t.title}),e.jsx("div",{className:"text-gray-500",children:t.description})]})]}),c<$.length-1&&e.jsx("div",{className:`
                      w-16 h-0.5 mx-4
                      ${c<g?"bg-blue-500":"bg-gray-200"}
                    `})]},t.id))}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Le,{value:g/($.length-1)*100,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsxs("span",{children:["æ­¥éª¤ ",g+1," / ",$.length]}),e.jsxs("span",{children:[Math.round(g/($.length-1)*100),"% å®Œæˆ"]})]})]})]})}),e.jsx("div",{className:"min-h-[600px]",children:y()}),e.jsx(D,{children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["å·²ç”Ÿæˆ ",h.length," ä¸ªä¸ªæ€§åŒ–Emoji",G==="batch"&&j.length>0&&e.jsxs("span",{className:"ml-2 text-blue-600",children:["(æ‰¹é‡æ¨¡å¼: ",j.length,"ä¸ªæƒ…ç»ª)"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[n!=="upload"&&e.jsx(x,{onClick:k,variant:"outline",size:"sm",children:"é‡æ–°å¼€å§‹"}),h.length>0&&e.jsx(x,{onClick:()=>s("gallery"),variant:"outline",size:"sm",children:"æŸ¥çœ‹ä½œå“é›†"})]})]})})})]})})}const Ls=()=>{const[n,s]=o.useState([]),[a,r]=o.useState([]),[l,u]=o.useState(""),[j,p]=o.useState("all"),[h,S]=o.useState("color"),[_,P]=o.useState(null),[G,T]=o.useState("gallery"),[z,I]=o.useState(!1),[C,E]=o.useState("grid"),[$,g]=o.useState(new Set),[d,f]=o.useState(""),[N,m]=o.useState(!1),[M,w]=o.useState([]),[k,y]=o.useState(""),{toast:t}=xe(),c=o.useMemo(()=>J.getEmojiStats().byGroup,[]);o.useEffect(()=>{const i=J.getAllEmojis();s(i),r(i)},[]),o.useEffect(()=>{let i=n;l&&(i=J.searchEmojis(l)),j!=="all"&&(i=i.filter(v=>v.group===j)),r(i)},[n,l,j]);const b=async i=>{try{let v=i.unicode;i.hasSkinTone&&(v=J.applySkinToneModifier(i.unicode,"medium")),await navigator.clipboard.writeText(v),t({title:"å¤åˆ¶æˆåŠŸ",description:`å·²å¤åˆ¶ ${v} åˆ°å‰ªè´´æ¿`})}catch{t({title:"å¤åˆ¶å¤±è´¥",description:"è¯·æ‰‹åŠ¨å¤åˆ¶",variant:"destructive"})}},A=async i=>{try{const v=J.generateEmojiUrl(i.codepoint,"color",128),L=await fetch(v);if(!L.ok)throw new Error("ä¸‹è½½å¤±è´¥");const ee=await L.blob(),K=window.URL.createObjectURL(ee),O=document.createElement("a");O.href=K,O.download=`${i.name.replace(/\s+/g,"-")}-${i.unicode}-noto-color.png`,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(K),document.body.removeChild(O),t({title:"ä¸‹è½½æˆåŠŸ",description:`å·²ä¸‹è½½ ${i.name}`})}catch{t({title:"ä¸‹è½½å¤±è´¥",description:"å›¾ç‰‡èµ„æºå¯èƒ½ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•",variant:"destructive"})}},R=i=>{g(v=>{const L=new Set(v);return L.has(i)?L.delete(i):L.add(i),L})},B=i=>i.hasSkinTone?J.applySkinToneModifier(i.unicode,"medium"):i.unicode,W=async()=>{var i,v,L;if(!d.trim()){t({title:"è¯·è¾“å…¥å†…å®¹",description:"è¯·æä¾›éœ€è¦æ¨èemojiçš„å†…å®¹åœºæ™¯",variant:"destructive"});return}m(!0);try{const ee=[{role:"user",content:`è¯·ä¸ºä»¥ä¸‹å†…å®¹æ¨èåˆé€‚çš„emojiè¡¨æƒ…ç¬¦å·ï¼š

å†…å®¹åœºæ™¯: ${d}

è¯·æ¨è5-10ä¸ªæœ€é€‚åˆçš„emojiï¼Œå¹¶è¯´æ˜æ¨èç†ç”±ã€‚è¦æ±‚emojièƒ½å¤Ÿå¢å¼ºå†…å®¹çš„è¡¨è¾¾æ•ˆæœå’Œæƒ…æ„Ÿå…±é¸£ã€‚

è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿”å›ï¼š
æ¨èemoji: ğŸ’ª ğŸ”¥ â­ âœ¨ ğŸ¯
æ¨èç†ç”±: è¯¦ç»†è¯´æ˜æ¯ä¸ªemojiçš„ä½¿ç”¨åœºæ™¯å’Œæƒ…æ„Ÿè¡¨è¾¾æ•ˆæœ`}],K=await ds.recommendEmojis(d),O=K.data,se=O==null?void 0:O.data;if(K.success&&((L=(v=(i=se==null?void 0:se.choices)==null?void 0:i[0])==null?void 0:v.message)!=null&&L.content)){const ne=se.choices[0].message.content,ve=ne.match(/æ¨èemoji[:ï¼š]\s*(.+?)(?:\n|æ¨èç†ç”±|$)/i);if(ve){const qe=ve[1].split(/\s+/).filter(Ve=>Ve.trim());w(qe)}const Ne=ne.match(/æ¨èç†ç”±[:ï¼š]\s*(.+?)$/is);y(Ne?Ne[1].trim():ne),t({title:"AIæ¨èå®Œæˆ",description:`å·²ä¸ºæ‚¨æ¨è ${M.length} ä¸ªemoji`})}else throw new Error("AIå“åº”æ ¼å¼å¼‚å¸¸")}catch(ee){console.error("AIæ¨èå¤±è´¥:",ee),t({title:"æ¨èå¤±è´¥",description:"è¯·ç¨åé‡è¯•AIæ¨èåŠŸèƒ½",variant:"destructive"})}finally{m(!1)}},Be=async()=>{try{const i=M.join(" ");await navigator.clipboard.writeText(i),t({title:"å¤åˆ¶æˆåŠŸ",description:`å·²å¤åˆ¶æ¨èçš„emoji: ${i}`})}catch{t({title:"å¤åˆ¶å¤±è´¥",description:"è¯·æ‰‹åŠ¨å¤åˆ¶",variant:"destructive"})}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-8 space-y-6",children:e.jsxs(ts,{value:G,onValueChange:T,children:[e.jsxs(as,{className:"grid w-full grid-cols-3",children:[e.jsxs(re,{value:"gallery",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"Emojiå›¾åº“"]}),e.jsxs(re,{value:"ai-recommend",className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),"AIæ¨è"]}),e.jsxs(re,{value:"brand-emoji",className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),"å“ç‰ŒEmojiç”Ÿæˆå™¨"]})]}),e.jsxs(le,{value:"gallery",className:"space-y-6",children:[e.jsx(D,{children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(is,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(Ge,{placeholder:"æœç´¢emojiã€åç§°æˆ–å…³é”®è¯...",value:l,onChange:i=>u(i.target.value),className:"pl-10"})]}),e.jsxs(Se,{value:j,onValueChange:p,children:[e.jsx(ke,{className:"w-48",children:e.jsx(Ce,{placeholder:"é€‰æ‹©åˆ†ç±»"})}),e.jsxs(Ee,{children:[e.jsx(oe,{value:"all",children:"å…¨éƒ¨åˆ†ç±»"}),de.map(i=>e.jsxs(oe,{value:i,children:[i," (",c[i]||0,")"]},i))]})]}),e.jsxs(Se,{value:h,onValueChange:i=>S(i),children:[e.jsx(ke,{className:"w-40",children:e.jsx(Ce,{placeholder:"é€‰æ‹©é£æ ¼"})}),e.jsx(Ee,{children:Object.entries(me).map(([i,v])=>e.jsx(oe,{value:i,children:v.name},i))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:C==="grid"?"default":"outline",size:"sm",onClick:()=>E("grid"),children:e.jsx(ce,{className:"w-4 h-4"})}),e.jsx(x,{variant:C==="list"?"default":"outline",size:"sm",onClick:()=>E("list"),children:e.jsx(ns,{className:"w-4 h-4"})})]})]})})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(x,{variant:j==="all"?"default":"outline",size:"sm",onClick:()=>p("all"),children:"å…¨éƒ¨"}),de.map(i=>e.jsxs(x,{variant:j===i?"default":"outline",size:"sm",onClick:()=>p(i),className:"flex items-center gap-2",children:[e.jsx("span",{className:"hidden sm:inline",children:i}),e.jsx(Q,{variant:"secondary",className:"text-xs",children:c[i]||0})]},i))]}),e.jsx("div",{className:C==="grid"?"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-4":"space-y-2",children:a.map(i=>e.jsx(D,{className:`group cursor-pointer hover:shadow-lg transition-all duration-200 ${C==="grid"?"aspect-square":"flex-row"}`,children:e.jsxs(F,{className:`p-4 ${C==="list"?"flex items-center gap-4":""}`,children:[e.jsxs("div",{className:`relative ${C==="grid"?"aspect-square mb-2":"w-12 h-12"} flex items-center justify-center`,children:[e.jsx("div",{className:"text-4xl cursor-pointer hover:scale-110 transition-transform",onClick:()=>b(i),title:`${i.name} (${i.unicode})`,children:B(i)}),e.jsx(x,{variant:"ghost",size:"sm",className:`absolute top-0 right-0 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity ${C==="list"?"relative opacity-100":""}`,onClick:v=>{v.stopPropagation(),R(i.unicode)},children:e.jsx(rs,{className:`w-3 h-3 ${$.has(i.unicode)?"fill-red-500 text-red-500":""}`})})]}),e.jsxs("div",{className:`text-center ${C==="list"?"flex-1 text-left":""}`,children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 truncate",children:i.name}),C==="list"&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"mr-2",children:i.group}),i.hasSkinTone&&e.jsx(Q,{variant:"outline",className:"text-xs mr-1",children:"è‚¤è‰²"}),i.hasGender&&e.jsx(Q,{variant:"outline",className:"text-xs",children:"æ€§åˆ«"})]})]}),C==="list"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:v=>{v.stopPropagation(),b(i)},children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:v=>{v.stopPropagation(),A(i)},children:e.jsx(us,{className:"w-4 h-4"})})]})]})},i.codepoint))}),a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ”"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"æ²¡æœ‰æ‰¾åˆ°ç›¸å…³emoji"}),e.jsx("p",{className:"text-gray-500",children:"å°è¯•è°ƒæ•´æœç´¢æ¡ä»¶æˆ–é€‰æ‹©å…¶ä»–åˆ†ç±»"})]})]}),e.jsx(le,{value:"ai-recommend",className:"space-y-6",children:e.jsxs(D,{children:[e.jsxs(V,{children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"AI Emojiæ¨è"]}),e.jsx($e,{children:"è¾“å…¥å†…å®¹åœºæ™¯ï¼ŒAIå°†ä¸ºæ‚¨æ¨èæœ€åˆé€‚çš„emojiè¡¨æƒ…ç¬¦å·"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm font-medium mb-2 block",children:"å†…å®¹åœºæ™¯"}),e.jsx(he,{placeholder:"è¯·è¾“å…¥éœ€è¦emojiçš„å†…å®¹åœºæ™¯ï¼Œä¾‹å¦‚ï¼šåˆ†äº«ä¸€ä¸ªå¥èº«å‡è‚¥çš„æˆåŠŸæ¡ˆä¾‹ã€åº†ç¥é¡¹ç›®å®Œæˆã€è¡¨è¾¾å¯¹ç¾é£Ÿçš„å–œçˆ±ç­‰...",value:d,onChange:i=>f(i.target.value),rows:4,className:"w-full"})]}),e.jsx(x,{onClick:W,disabled:N||!d.trim(),className:"w-full",children:N?e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2 animate-spin"}),"AIæ¨èä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"è·å–AIæ¨è"]})}),M.length>0&&e.jsxs(D,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:[e.jsx(V,{children:e.jsxs(H,{className:"text-lg flex items-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5 text-purple-600"}),"AIæ¨èç»“æœ"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-sm font-medium mb-2 block",children:"æ¨èçš„Emoji"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:M.map((i,v)=>e.jsx(x,{variant:"outline",size:"lg",className:"text-2xl h-12 w-12 p-0",onClick:()=>{navigator.clipboard.writeText(i),t({title:"å·²å¤åˆ¶",description:`å·²å¤åˆ¶ ${i}`})},children:i},v))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{onClick:Be,variant:"outline",size:"sm",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"å¤åˆ¶æ‰€æœ‰"]}),e.jsxs(x,{onClick:()=>{w([]),y("")},variant:"outline",size:"sm",children:[e.jsx(os,{className:"w-4 h-4 mr-2"}),"æ¸…ç©ºç»“æœ"]})]})]}),k&&e.jsxs("div",{children:[e.jsx(U,{className:"text-sm font-medium mb-2 block",children:"æ¨èç†ç”±"}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:k})})]})]})]}),e.jsxs(D,{className:"bg-gradient-to-r from-green-50 to-teal-50 border-green-200",children:[e.jsx(V,{children:e.jsxs(H,{className:"text-lg flex items-center gap-2",children:[e.jsx(cs,{className:"w-5 h-5 text-green-600"}),"ä½¿ç”¨å»ºè®®"]})}),e.jsx(F,{children:e.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("p",{children:["â€¢ ",e.jsx("strong",{children:"æ ‡é¢˜ä½¿ç”¨ï¼š"}),"åœ¨æ ‡é¢˜ä¸­æ”¾ç½®1-2ä¸ªæœ€å…³é”®çš„emojiå¢å¼ºå¸å¼•åŠ›"]}),e.jsxs("p",{children:["â€¢ ",e.jsx("strong",{children:"æ­£æ–‡ç©¿æ’ï¼š"}),"åœ¨æ­£æ–‡æ®µè½é—´é€‚é‡ä½¿ç”¨emojiå¢åŠ èŠ‚å¥æ„Ÿ"]}),e.jsxs("p",{children:["â€¢ ",e.jsx("strong",{children:"ç»“å°¾å¼ºåŒ–ï¼š"}),"åœ¨ç»“å°¾ä½¿ç”¨emojiå¢å¼ºæƒ…æ„Ÿè¡¨è¾¾å’Œäº’åŠ¨æ€§"]}),e.jsxs("p",{children:["â€¢ ",e.jsx("strong",{children:"å¹³å°é€‚é…ï¼š"}),"ä¸åŒå¹³å°çš„emojiä½¿ç”¨ä¹ æƒ¯æœ‰å·®å¼‚ï¼Œæ³¨æ„è°ƒæ•´"]})]})})]})]})]})}),e.jsx(le,{value:"brand-emoji",className:"space-y-6",children:e.jsxs(D,{children:[e.jsxs(V,{children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5"}),"å“ç‰ŒEmojiç”Ÿæˆå™¨"]}),e.jsx($e,{children:"è¾“å…¥å“ç‰Œè§’è‰²å’Œå“ç‰Œåï¼ŒAIå°†ä¸ºæ‚¨ç”Ÿæˆä¸“å±çš„å“ç‰Œemoji"})]}),e.jsx(F,{className:"space-y-6",children:e.jsx(Us,{})})]})})]})})})};export{Ls as default};
