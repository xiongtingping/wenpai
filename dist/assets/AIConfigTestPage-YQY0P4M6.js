import{r as s,j as e,B as t}from"./index-Cu70HESd.js";import{C as a,a as r,b as i,c as l,d as c}from"./card-C_loCoFD.js";import{B as n}from"./badge-CIOmyheZ.js";import{A as d,a as m}from"./alert-uwy97Dud.js";import{c as x}from"./localApiProxy-N9xYX3kf.js";import o from"./aiService-C8Za63DW.js";import{C as h}from"./circle-alert-BGkMlRh1.js";import{L as j}from"./loader-circle-DkAs3sDA.js";import{I as u}from"./info-BSqS0fyx.js";import{C as g}from"./circle-x-Wo4NID7o.js";import{C as p}from"./circle-check-big-P3EWXA1B.js";const f=()=>{const[f,y]=s.useState({netlify:{status:"idle"},dev:{status:"idle"}}),[N,v]=s.useState(!1),b=async()=>{y(s=>({...s,netlify:{status:"testing"}}));try{const s=await x([{role:"user",content:'è¯·å›å¤"æµ‹è¯•æˆåŠŸ"ä¸‰ä¸ªå­—'}],"gpt-4o",.1,50);s.success?y(s=>({...s,netlify:{status:"success",message:"Netlify Functions API é…ç½®æ­£ç¡®"}})):y(e=>({...e,netlify:{status:"error",message:s.error||"æœªçŸ¥é”™è¯¯"}}))}catch(s){y(e=>({...e,netlify:{status:"error",message:s instanceof Error?s.message:"æµ‹è¯•å¤±è´¥"}}))}},A=async()=>{y(s=>({...s,dev:{status:"testing"}}));try{const s=await o.generateText({messages:[{role:"user",content:"è¯·ç”¨ä¸€å¥è¯ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚"}],provider:"openai"});s.success?y(s=>({...s,dev:{status:"success",message:"å¼€å‘ç¯å¢ƒ API é…ç½®æ­£ç¡®"}})):y(e=>({...e,dev:{status:"error",message:s.error||"æœªçŸ¥é”™è¯¯"}}))}catch(s){y(e=>({...e,dev:{status:"error",message:s instanceof Error?s.message:"æµ‹è¯•å¤±è´¥"}}))}},I=s=>{switch(s){case"testing":return e.jsx(j,{className:"h-4 w-4 animate-spin"});case"success":return e.jsx(p,{className:"h-4 w-4 text-green-500"});case"error":return e.jsx(g,{className:"h-4 w-4 text-red-500"});default:return e.jsx(u,{className:"h-4 w-4 text-gray-500"})}},P=s=>{switch(s){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"testing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ğŸ¤– AI API é…ç½®æµ‹è¯•"}),e.jsx("p",{className:"text-gray-600",children:"æµ‹è¯•æ‚¨çš„ AI API é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿æ‰€æœ‰ AI åŠŸèƒ½æ­£å¸¸å·¥ä½œã€‚"})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsxs(m,{children:[e.jsx("strong",{children:"é‡è¦æç¤ºï¼š"})," è¯·ç¡®ä¿æ‚¨å·²é…ç½®æ­£ç¡®çš„ API å¯†é’¥ã€‚å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œè¯·å‚è€ƒ"," ",e.jsx("a",{href:"/ai-api-setup",className:"text-blue-600 hover:underline",children:"AI_API_SETUP.md"})," è¿›è¡Œé…ç½®ã€‚"]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[I(f.netlify.status),"Netlify Functions API"]}),e.jsx(l,{children:"æµ‹è¯•ç”Ÿäº§ç¯å¢ƒçš„ Netlify Functions API é…ç½®"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(n,{className:P(f.netlify.status),children:["idle"===f.netlify.status&&"æœªæµ‹è¯•","testing"===f.netlify.status&&"æµ‹è¯•ä¸­...","success"===f.netlify.status&&"é…ç½®æ­£ç¡®","error"===f.netlify.status&&"é…ç½®é”™è¯¯"]}),f.netlify.message&&e.jsx("p",{className:"text-sm text-gray-600",children:f.netlify.message}),e.jsx(t,{onClick:b,disabled:"testing"===f.netlify.status,variant:"outline",className:"w-full",children:"testing"===f.netlify.status?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mr-2 h-4 w-4 animate-spin"}),"æµ‹è¯•ä¸­..."]}):"æµ‹è¯• Netlify Functions"})]})})]}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[I(f.dev.status),"å¼€å‘ç¯å¢ƒ API"]}),e.jsx(l,{children:"æµ‹è¯•å¼€å‘ç¯å¢ƒçš„ç›´æ¥ API è°ƒç”¨é…ç½®"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(n,{className:P(f.dev.status),children:["idle"===f.dev.status&&"æœªæµ‹è¯•","testing"===f.dev.status&&"æµ‹è¯•ä¸­...","success"===f.dev.status&&"é…ç½®æ­£ç¡®","error"===f.dev.status&&"é…ç½®é”™è¯¯"]}),f.dev.message&&e.jsx("p",{className:"text-sm text-gray-600",children:f.dev.message}),e.jsx(t,{onClick:A,disabled:"testing"===f.dev.status,variant:"outline",className:"w-full",children:"testing"===f.dev.status?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mr-2 h-4 w-4 animate-spin"}),"æµ‹è¯•ä¸­..."]}):"æµ‹è¯•å¼€å‘ç¯å¢ƒ API"})]})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(t,{onClick:async()=>{v(!0),await Promise.all([b(),A()]),v(!1)},disabled:N,size:"lg",className:"px-8",children:N?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mr-2 h-5 w-5 animate-spin"}),"è¿è¡Œæ‰€æœ‰æµ‹è¯•..."]}):"è¿è¡Œæ‰€æœ‰æµ‹è¯•"})}),e.jsxs(a,{className:"mt-8",children:[e.jsx(r,{children:e.jsx(i,{children:"ğŸ“‹ é…ç½®è¯´æ˜"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"å¼€å‘ç¯å¢ƒé…ç½®ï¼š"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[e.jsxs("li",{children:["ç¼–è¾‘ ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/api/devApiProxy.ts"})," æ–‡ä»¶"]}),e.jsxs("li",{children:["æˆ–åˆ›å»º ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".env.local"})," æ–‡ä»¶"]}),e.jsxs("li",{children:["è¿è¡Œ ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"./setup-ai-api.sh"})," å¿«é€Ÿé…ç½®"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼š"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"åœ¨ Netlify æ§åˆ¶å°è®¾ç½®ç¯å¢ƒå˜é‡"}),e.jsxs("li",{children:["ç¡®ä¿ ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"netlify/functions/api.js"})," æ­£ç¡®éƒ¨ç½²"]}),e.jsx("li",{children:"éªŒè¯ Netlify Functions æ˜¯å¦æ­£å¸¸å·¥ä½œ"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"è·å– API å¯†é’¥ï¼š"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:e.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"OpenAI API Keys"})}),e.jsx("li",{children:e.jsx("a",{href:"https://platform.deepseek.com/api_keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"DeepSeek API Keys"})}),e.jsx("li",{children:e.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google Gemini API Keys"})})]})]})]})})]})]})};export{f as default};
