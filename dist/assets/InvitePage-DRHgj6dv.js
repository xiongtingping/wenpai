import{j as s}from"./ui-core-CAB0i5kI.js";import{r as e,u as a}from"./router-CDHmMMQ-.js";import{u as t,B as r,C as l,e as i,i as c,a as n,b as m,d}from"./pages-home-BHK5UR8N.js";import{u as x,I as o}from"./pages-adapt-DD3tr1QX.js";import{S as j}from"./pages-hot-topics-7JjQZ3fg.js";import{P as h}from"./components-layout-Bl-K3hGA.js";import{ax as p,aJ as N,x as g,aa as u,n as f,Y as b,C as v}from"./utils-yUmPvHGu.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-vwQhqdDC.js";import"./pages-brand-B7FvO9nG.js";import"./api-services-K45L-h6x.js";import"./components-auth-LnNXSgJg.js";function w(){const{toast:w}=t(),[y,$]=e.useState("invite"),C=x(s=>s.userInviteCode),S=x(s=>s.generateInviteCode),k=x(s=>s.userInviteStats),I=x(s=>s.usageRemaining);a();const[D,R]=e.useState(null),O=window.location.origin,T=`${O}/register?ref=${C}`;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(h,{title:"邀请好友",description:"邀请朋友注册，双方都能获得免费使用次数奖励",actions:s.jsxs(r,{children:[s.jsx(p,{className:"h-4 w-4 mr-1"}),"立即分享"]})}),s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs(l,{className:"md:col-span-2 border-2 border-blue-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4 text-white",children:s.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[s.jsx(N,{className:"mr-2 h-5 w-5"})," 邀请好友，双方共同获益"]})}),s.jsx(i,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"您的专属邀请链接"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(o,{value:T,readOnly:!0,className:"bg-gray-50 font-medium text-blue-800"}),s.jsxs(r,{onClick:()=>(async s=>{try{const e=`${window.location.origin}/register?ref=${s}`;await navigator.clipboard.writeText(e),w({title:"邀请链接已复制",description:"邀请链接已复制到剪贴板"})}catch(e){w({title:"复制失败",description:"请手动复制邀请链接",variant:"destructive"})}})(C),className:"flex-shrink-0",children:[s.jsx(g,{className:"h-4 w-4 mr-1"})," 复制"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-6",children:[s.jsx(l,{className:"bg-blue-50 border border-blue-100",children:s.jsxs(i,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"每邀请 1 人注册"}),s.jsx("p",{className:"text-2xl font-bold text-blue-800 mt-1",children:"+20 次"}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"双方获得"})]})}),s.jsx(l,{className:"bg-green-50 border border-green-100",children:s.jsxs(i,{className:"p-4 text-center",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"当前可用次数"}),s.jsx("p",{className:"text-2xl font-bold text-green-800 mt-1",children:I}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"本月剩余"})]})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"使用须知："}),s.jsxs("ul",{className:"text-sm space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),s.jsx("span",{children:"每次成功邀请好友注册，您和好友各获得 20 次免费生成次数"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),s.jsx("span",{children:"邀请链接长期有效"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),s.jsx("span",{children:"每月月初赠送 10 次免费使用次数"})]})]})]})]})}),s.jsxs(c,{className:"bg-gray-50 p-4 border-t flex justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(u,{className:"h-4 w-4 mr-1"})," 邀请链接长期有效"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(r,{variant:"outline",onClick:()=>{const s=new Date;(new Date).setDate(s.getDate()+7);const e={code:S(),createdAt:s.toISOString(),clicks:0,registrations:0};R(e)},children:[s.jsx(f,{className:"h-4 w-4 mr-1"})," 创建新链接"]}),s.jsxs(r,{children:[s.jsx(p,{className:"h-4 w-4 mr-1"})," 立即分享"]})]})]})]}),s.jsxs(l,{className:"border-2 border-blue-100",children:[s.jsxs(n,{children:[s.jsxs(m,{className:"flex items-center",children:[s.jsx(b,{className:"h-5 w-5 mr-2"})," 奖励记录"]}),s.jsx(d,{children:"您获得的邀请奖励统计"})]}),s.jsx(i,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"总邀请注册人数："}),s.jsxs("span",{className:"font-medium",children:[k.totalRegistrations," 人"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"获得注册奖励："}),s.jsxs("span",{className:"font-medium",children:[20*k.totalRegistrations," 次"]})]}),s.jsx(j,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"累计获得奖励："}),s.jsxs("span",{className:"text-blue-600",children:[20*k.totalRegistrations," 次"]})]})]})})})]})]}),D&&s.jsxs(l,{className:"mt-6 border-2 border-green-100",children:[s.jsxs(n,{className:"pb-3",children:[s.jsxs(m,{children:[s.jsx(v,{className:"h-5 w-5 text-green-500 inline mr-2"}),"新邀请链接已创建"]}),s.jsx(d,{children:"分享以下链接给您的好友"})]}),s.jsxs(i,{children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(o,{value:`${O}/register?ref=${D.code}`,readOnly:!0,className:"bg-gray-50 font-medium"}),s.jsxs(r,{onClick:()=>{navigator.clipboard.writeText(`${O}/register?ref=${D.code}`),w({title:"链接已复制",description:"新的邀请链接已复制到剪贴板"})},children:[s.jsx(g,{className:"h-4 w-4 mr-1"})," 复制"]})]}),s.jsxs("p",{className:"mt-3 text-sm text-gray-500 flex items-center",children:[s.jsx(u,{className:"h-4 w-4 mr-1"}),"邀请链接已创建"]})]})]})]})})]})}export{w as default};
