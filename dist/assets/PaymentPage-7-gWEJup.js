import{c as e,a2 as t,r,j as n,B as s,k as i,t as o,i as a,C as l}from"./index-CqEx2ZQ2.js";import{C as c,a as u,b as d,d as h}from"./card-DrUj54Xk.js";import{B as f}from"./badge-CY8ouemD.js";import{S as m,i as g,f as x,c as p}from"./paymentTimer-66bAdsUx.js";import{L as y}from"./loader-circle-fuzDt6IA.js";import{R as w}from"./refresh-cw-Dgb94Q6d.js";import{S as N}from"./shield-D6KSoUFB.js";import{A as b}from"./arrow-left-ZAPes4uL.js";import{G as j}from"./gift-r9ukEm5s.js";import{C as v}from"./clock-M-hdxXFU.js";import{S as E}from"./star-8s7k03fX.js";import{Z as C}from"./zap-CKqZoK8L.js";import{C as A}from"./crown-Bb8YyAK7.js";import{C as B}from"./credit-card-B4MbfiUI.js";
/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=e("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),P=e("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var T,M,R,L={},U={},k={};function S(){if(R)return k;let e;R=1;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return k.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},k.getSymbolTotalCodewords=function(e){return t[e]},k.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},k.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');e=t},k.isKanjiModeEnabled=function(){return void 0!==e},k.toSJIS=function(t){return e(t)},k}var F,z,D,q,_,H={};function Y(){return F||(F=1,(e=H).L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(n){return r}}),H;var e}var J,K,V,O,Q={},$={},Z={},X={};function W(){if(O)return X;O=1;const e=Y(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return X.getBlocksCount=function(r,n){switch(n){case e.L:return t[4*(r-1)+0];case e.M:return t[4*(r-1)+1];case e.Q:return t[4*(r-1)+2];case e.H:return t[4*(r-1)+3];default:return}},X.getTotalCodewordsCount=function(t,n){switch(n){case e.L:return r[4*(t-1)+0];case e.M:return r[4*(t-1)+1];case e.Q:return r[4*(t-1)+2];case e.H:return r[4*(t-1)+3];default:return}},X}var G,ee,te,re,ne={},se={};var ie,oe={},ae={},le={};function ce(){return ie||(ie=1,le.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),le}var ue,de,he,fe={};function me(){if(ue)return fe;ue=1;const e="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";fe.KANJI=new RegExp(t,"g"),fe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),fe.BYTE=new RegExp(r,"g"),fe.NUMERIC=new RegExp(e,"g"),fe.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const n=new RegExp("^"+t+"$"),s=new RegExp("^"+e+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return fe.testKanji=function(e){return n.test(e)},fe.testNumeric=function(e){return s.test(e)},fe.testAlphanumeric=function(e){return i.test(e)},fe}function ge(){return de||(de=1,function(e){const t=ce(),r=me();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(n){return r}}}(ae)),ae}var xe,pe,ye,we,Ne,be,je,ve,Ee,Ce,Ae,Be,Ie={},Pe={},Te={exports:{}};function Me(){if(Be)return U;Be=1;const e=S(),t=Y(),r=function(){if(D)return z;function e(){this.buffer=[],this.length=0}return D=1,e.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},z=e}(),n=function(){if(_)return q;function e(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return _=1,e.prototype.set=function(e,t,r,n){const s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)},e.prototype.get=function(e,t){return this.data[e*this.size+t]},e.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},e.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},q=e}(),s=(J||(J=1,function(e){const t=S().getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const r=Math.floor(e/7)+2,n=t(e),s=145===n?26:2*Math.ceil((n-13)/(2*r-2)),i=[n-7];for(let t=1;t<r-1;t++)i[t]=i[t-1]-s;return i.push(6),i.reverse()},e.getPositions=function(t){const r=[],n=e.getRowColCoords(t),s=n.length;for(let e=0;e<s;e++)for(let t=0;t<s;t++)0===e&&0===t||0===e&&t===s-1||e===s-1&&0===t||r.push([n[e],n[t]]);return r}}(Q)),Q),i=function(){if(K)return $;K=1;const e=S().getSymbolSize;return $.getPositions=function(t){const r=e(t);return[[0,0],[r-7,0],[0,r-7]]},$}(),o=(V||(V=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function t(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const t=e.size;let r=0,n=0,s=0,i=null,o=null;for(let a=0;a<t;a++){n=s=0,i=o=null;for(let l=0;l<t;l++){let t=e.get(a,l);t===i?n++:(n>=5&&(r+=n-5+3),i=t,n=1),t=e.get(l,a),t===o?s++:(s>=5&&(r+=s-5+3),o=t,s=1)}n>=5&&(r+=n-5+3),s>=5&&(r+=s-5+3)}return r},e.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let s=0;s<t-1;s++){const t=e.get(n,s)+e.get(n,s+1)+e.get(n+1,s)+e.get(n+1,s+1);4!==t&&0!==t||r++}return 3*r},e.getPenaltyN3=function(e){const t=e.size;let r=0,n=0,s=0;for(let i=0;i<t;i++){n=s=0;for(let o=0;o<t;o++)n=n<<1&2047|e.get(i,o),o>=10&&(1488===n||93===n)&&r++,s=s<<1&2047|e.get(o,i),o>=10&&(1488===s||93===s)&&r++}return 40*r},e.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return 10*Math.abs(Math.ceil(100*t/r/5)-10)},e.applyMask=function(e,r){const n=r.size;for(let s=0;s<n;s++)for(let i=0;i<n;i++)r.isReserved(i,s)||r.xor(i,s,t(e,i,s))},e.getBestMask=function(t,r){const n=Object.keys(e.Patterns).length;let s=0,i=1/0;for(let o=0;o<n;o++){r(o),e.applyMask(o,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),n<i&&(i=n,s=o)}return s}}(Z)),Z),a=W(),l=function(){if(re)return te;re=1;const e=(ee||(ee=1,function(e){const t=function(){if(G)return se;G=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let n=0;n<255;n++)e[n]=r,t[r]=n,r<<=1,256&r&&(r^=285);for(let t=255;t<512;t++)e[t]=e[t-255]}(),se.log=function(e){if(e<1)throw new Error("log("+e+")");return t[e]},se.exp=function(t){return e[t]},se.mul=function(r,n){return 0===r||0===n?0:e[t[r]+t[n]]},se}();e.mul=function(e,r){const n=new Uint8Array(e.length+r.length-1);for(let s=0;s<e.length;s++)for(let i=0;i<r.length;i++)n[s+i]^=t.mul(e[s],r[i]);return n},e.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){const e=n[0];for(let i=0;i<r.length;i++)n[i]^=t.mul(r[i],e);let s=0;for(;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},e.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let s=0;s<r;s++)n=e.mul(n,new Uint8Array([1,t.exp(s)]));return n}}(ne)),ne);function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(t){this.degree=t,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=e.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){const e=new Uint8Array(this.degree);return e.set(n,s),e}return n},te=t}(),c=(he||(he=1,function(e){const t=S(),r=W(),n=Y(),s=ge(),i=ce(),o=t.getBCHDigit(7973);function a(e,t){return s.getCharCountIndicator(e,t)+4}function l(e,t){let r=0;return e.forEach(function(e){const n=a(e.mode,t);r+=n+e.getBitsLength()}),r}e.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,n,o){if(!i.isValid(e))throw new Error("Invalid QR Code version");void 0===o&&(o=s.BYTE);const l=8*(t.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,n));if(o===s.MIXED)return l;const c=l-a(o,e);switch(o){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,r){let i;const o=n.from(r,n.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let n=1;n<=40;n++)if(l(t,n)<=e.getCapacity(n,r,s.MIXED))return n}(t,o);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,r,n){for(let s=1;s<=40;s++)if(r<=e.getCapacity(s,n,t))return s}(i.mode,i.getLength(),o)},e.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;t.getBCHDigit(r)-o>=0;)r^=7973<<t.getBCHDigit(r)-o;return e<<12|r}}(oe)),oe),u=function(){if(xe)return Ie;xe=1;const e=S(),t=e.getBCHDigit(1335);return Ie.getEncodedBits=function(r,n){const s=r.bit<<3|n;let i=s<<10;for(;e.getBCHDigit(i)-t>=0;)i^=1335<<e.getBCHDigit(i)-t;return 21522^(s<<10|i)},Ie}(),d=ge(),h=(Ae||(Ae=1,function(e){const t=ge(),r=function(){if(ye)return pe;ye=1;const e=ge();function t(t){this.mode=e.NUMERIC,this.data=t.toString()}return t.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);const s=this.data.length-t;s>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*s+1))},pe=t}(),n=function(){if(Ne)return we;Ne=1;const e=ge(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(t){this.mode=e.ALPHANUMERIC,this.data=t}return r.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=45*t.indexOf(this.data[r]);n+=t.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(t.indexOf(this.data[r]),6)},we=r}(),s=function(){if(je)return be;je=1;const e=ge();function t(t){this.mode=e.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}return t.getBitsLength=function(e){return 8*e},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},be=t}(),i=function(){if(Ee)return ve;Ee=1;const e=ge(),t=S();function r(t){this.mode=e.KANJI,this.data=t}return r.getBitsLength=function(e){return 13*e},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let r;for(r=0;r<this.data.length;r++){let n=t.toSJIS(this.data[r]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},ve=r}(),o=me(),a=S(),l=function(){return Ce?Te.exports:(Ce=1,Te.exports=e={single_source_shortest_paths:function(t,r,n){var s={},i={};i[r]=0;var o,a,l,c,u,d,h,f=e.PriorityQueue.make();for(f.push(r,0);!f.empty();)for(l in a=(o=f.pop()).value,c=o.cost,u=t[a]||{})u.hasOwnProperty(l)&&(d=c+u[l],h=i[l],(void 0===i[l]||h>d)&&(i[l]=d,f.push(l,d),s[l]=a));if(void 0!==n&&void 0===i[n]){var m=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(t,r,n){var s=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(s,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,s={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(s[r]=n[r]);return s.queue=[],s.sorter=t.sorter||n.default_sorter,s},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}});var e}();function c(e){return unescape(encodeURIComponent(e)).length}function u(e,t,r){const n=[];let s;for(;null!==(s=e.exec(r));)n.push({data:s[0],index:s.index,mode:t,length:s[0].length});return n}function d(e){const r=u(o.NUMERIC,t.NUMERIC,e),n=u(o.ALPHANUMERIC,t.ALPHANUMERIC,e);let s,i;return a.isKanjiModeEnabled()?(s=u(o.BYTE,t.BYTE,e),i=u(o.KANJI,t.KANJI,e)):(s=u(o.BYTE_KANJI,t.BYTE,e),i=[]),r.concat(n,s,i).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function h(e,o){switch(o){case t.NUMERIC:return r.getBitsLength(e);case t.ALPHANUMERIC:return n.getBitsLength(e);case t.KANJI:return i.getBitsLength(e);case t.BYTE:return s.getBitsLength(e)}}function f(e,o){let l;const c=t.getBestModeForData(e);if(l=t.from(o,c),l!==t.BYTE&&l.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(l)+".\n Suggested mode is: "+t.toString(c));switch(l!==t.KANJI||a.isKanjiModeEnabled()||(l=t.BYTE),l){case t.NUMERIC:return new r(e);case t.ALPHANUMERIC:return new n(e);case t.KANJI:return new i(e);case t.BYTE:return new s(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(f(t,null)):t.data&&e.push(f(t.data,t.mode)),e},[])},e.fromString=function(r,n){const s=function(e,r){const n={},s={start:{}};let i=["start"];for(let o=0;o<e.length;o++){const a=e[o],l=[];for(let e=0;e<a.length;e++){const c=a[e],u=""+o+e;l.push(u),n[u]={node:c,lastCount:0},s[u]={};for(let e=0;e<i.length;e++){const o=i[e];n[o]&&n[o].node.mode===c.mode?(s[o][u]=h(n[o].lastCount+c.length,c.mode)-h(n[o].lastCount,c.mode),n[o].lastCount+=c.length):(n[o]&&(n[o].lastCount=c.length),s[o][u]=h(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,r))}}i=l}for(let t=0;t<i.length;t++)s[i[t]].end=0;return{map:s,table:n}}(function(e){const r=[];for(let n=0;n<e.length;n++){const s=e[n];switch(s.mode){case t.NUMERIC:r.push([s,{data:s.data,mode:t.ALPHANUMERIC,length:s.length},{data:s.data,mode:t.BYTE,length:s.length}]);break;case t.ALPHANUMERIC:r.push([s,{data:s.data,mode:t.BYTE,length:s.length}]);break;case t.KANJI:r.push([s,{data:s.data,mode:t.BYTE,length:c(s.data)}]);break;case t.BYTE:r.push([{data:s.data,mode:t.BYTE,length:c(s.data)}])}}return r}(d(r,a.isKanjiModeEnabled())),n),i=l.find_path(s.map,"start","end"),o=[];for(let e=1;e<i.length-1;e++)o.push(s.table[i[e]].node);return e.fromArray(o.reduce(function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},e.rawSplit=function(t){return e.fromArray(d(t,a.isKanjiModeEnabled()))}}(Pe)),Pe);function f(e,t,r){const n=e.size,s=u.getEncodedBits(t,r);let i,o;for(i=0;i<15;i++)o=1==(s>>i&1),i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function m(t,u,m,g){let x;if(Array.isArray(t))x=h.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let e=u;if(!e){const r=h.rawSplit(t);e=c.getBestVersionForData(r,m)}x=h.fromString(t,e||40)}}const p=c.getBestVersionForData(x,m);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(u){if(u<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else u=p;const y=function(t,n,s){const i=new r;s.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),d.getCharCountIndicator(e.mode,t)),e.write(i)});const o=8*(e.getSymbolTotalCodewords(t)-a.getTotalCodewordsCount(t,n));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const c=(o-i.getLengthInBits())/8;for(let e=0;e<c;e++)i.put(e%2?17:236,8);return function(t,r,n){const s=e.getSymbolTotalCodewords(r),i=s-a.getTotalCodewordsCount(r,n),o=a.getBlocksCount(r,n),c=o-s%o,u=Math.floor(s/o),d=Math.floor(i/o),h=d+1,f=u-d,m=new l(f);let g=0;const x=new Array(o),p=new Array(o);let y=0;const w=new Uint8Array(t.buffer);for(let e=0;e<o;e++){const t=e<c?d:h;x[e]=w.slice(g,g+t),p[e]=m.encode(x[e]),g+=t,y=Math.max(y,t)}const N=new Uint8Array(s);let b,j,v=0;for(b=0;b<y;b++)for(j=0;j<o;j++)b<x[j].length&&(N[v++]=x[j][b]);for(b=0;b<f;b++)for(j=0;j<o;j++)N[v++]=p[j][b];return N}(i,t,n)}(u,m,x),w=e.getSymbolSize(u),N=new n(w);return function(e,t){const r=e.size,n=i.getPositions(t);for(let s=0;s<n.length;s++){const t=n[s][0],i=n[s][1];for(let n=-1;n<=7;n++)if(!(t+n<=-1||r<=t+n))for(let s=-1;s<=7;s++)i+s<=-1||r<=i+s||(n>=0&&n<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===n||6===n)||n>=2&&n<=4&&s>=2&&s<=4?e.set(t+n,i+s,!0,!0):e.set(t+n,i+s,!1,!0))}}(N,u),function(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(N),function(e,t){const r=s.getPositions(t);for(let n=0;n<r.length;n++){const t=r[n][0],s=r[n][1];for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)-2===r||2===r||-2===n||2===n||0===r&&0===n?e.set(t+r,s+n,!0,!0):e.set(t+r,s+n,!1,!0)}}(N,u),f(N,m,0),u>=7&&function(e,t){const r=e.size,n=c.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+r-8-3,o=1==(n>>a&1),e.set(s,i,o,!0),e.set(i,s,o,!0)}(N,u),function(e,t){const r=e.size;let n=-1,s=r-1,i=7,o=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!e.isReserved(s,a-r)){let n=!1;o<t.length&&(n=1==(t[o]>>>i&1)),e.set(s,a-r,n),i--,-1===i&&(o++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}(N,y),isNaN(g)&&(g=o.getBestMask(N,f.bind(null,N,m))),o.applyMask(g,N),f(N,m,g),{modules:N,version:u,errorCorrectionLevel:m,maskPattern:g,segments:x}}return U.create=function(r,n){if(void 0===r||""===r)throw new Error("No input text");let s,i,a=t.M;return void 0!==n&&(a=t.from(n.errorCorrectionLevel,t.M),s=c.from(n.version),i=o.from(n.maskPattern),n.toSJISFunc&&e.setToSJISFunction(n.toSJISFunc)),m(r,s,a,i)},U}var Re,Le,Ue={},ke={};function Se(){return Re||(Re=1,function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const r=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:n,scale:n?4:s,margin:r,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,r){const n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){const s=r.modules.size,i=r.modules.data,o=e.getScale(s,n),a=Math.floor((s+2*n.margin)*o),l=n.margin*o,c=[n.color.light,n.color.dark];for(let e=0;e<a;e++)for(let r=0;r<a;r++){let u=4*(e*a+r),d=n.color.light;e>=l&&r>=l&&e<a-l&&r<a-l&&(d=c[i[Math.floor((e-l)/o)*s+Math.floor((r-l)/o)]?1:0]),t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}}(ke)),ke}var Fe,ze,De={};const qe=t(function(){if(ze)return L;ze=1;const e=M?T:(M=1,T=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}),t=Me(),r=(Le||(Le=1,function(e){const t=Se();e.render=function(e,r,n){let s=n,i=r;void 0!==s||r&&r.getContext||(s=r,r=void 0),r||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),s=t.getOptions(s);const o=t.getImageWidth(e.modules.size,s),a=i.getContext("2d"),l=a.createImageData(o,o);return t.qrToImageData(l.data,e,s),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(a,i,o),a.putImageData(l,0,0),i},e.renderToDataURL=function(t,r,n){let s=n;void 0!==s||r&&r.getContext||(s=r,r=void 0),s||(s={});const i=e.render(t,r,s),o=s.type||"image/png",a=s.rendererOpts||{};return i.toDataURL(o,a.quality)}}(Ue)),Ue),n=function(){if(Fe)return De;Fe=1;const e=Se();function t(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function r(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}return De.render=function(n,s,i){const o=e.getOptions(s),a=n.modules.size,l=n.modules.data,c=a+2*o.margin,u=o.color.light.a?"<path "+t(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+t(o.color.dark,"stroke")+' d="'+function(e,t,n){let s="",i=0,o=!1,a=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);c||o||(o=!0),e[l]?(a++,l>0&&c>0&&e[l-1]||(s+=o?r("M",c+n,.5+u+n):r("m",i,0),i=0,o=!1),c+1<t&&e[l+1]||(s+=r("h",a),a=0)):i++}return s}(l,a,o.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof i&&i(null,f),f},De}();function s(r,n,s,i,o){const a=[].slice.call(arguments,1),l=a.length,c="function"==typeof a[l-1];if(!c&&!e())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(s=n,n=i=void 0):2!==l||n.getContext||(i=s,s=n,n=void 0),new Promise(function(e,o){try{const o=t.create(s,i);e(r(o,n,i))}catch(a){o(a)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(o=s,s=n,n=i=void 0):3===l&&(n.getContext&&void 0===o?(o=i,i=void 0):(o=i,i=s,s=n,n=void 0));try{const e=t.create(s,i);o(null,r(e,n,i))}catch(u){o(u)}}return L.create=t.create,L.toCanvas=s.bind(null,r.render),L.toDataURL=s.bind(null,r.renderToDataURL),L.toString=s.bind(null,function(e,t,r){return n.render(e,r)}),L}());async function _e(e,t){try{if(!navigator.onLine)throw new Error("网络连接不可用");const r=await fetch("http://localhost:8888/.netlify/functions/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:e,customerEmail:t})});if(!r.ok){const e=await r.json();throw new Error(e.error||`HTTP error! status: ${r.status}`)}const n=await r.json();return{success:!0,checkout:n.checkout,url:n.url,qrCodeUrl:n.qrCodeUrl,qrCodeDataURL:n.qrCodeDataURL,price:n.price}}catch(r){throw new Error("支付服务暂时不可用")}}const He=({size:e=24,className:t="text-blue-500"})=>n.jsxs("svg",{viewBox:"0 0 1024 1024",className:t,style:{width:e,height:e},fill:"currentColor",children:[n.jsx("rect",{x:"128",y:"128",width:"768",height:"768",rx:"128",fill:"#1677FF"}),n.jsx("text",{x:"512",y:"580",textAnchor:"middle",fill:"white",fontSize:"320",fontWeight:"bold",fontFamily:"Arial, sans-serif",children:"支"})]});function Ye({priceId:e,customerEmail:t,title:i="使用支付宝扫码付款",showPrice:o=!0,onRefresh:a}){const[l,m]=r.useState(""),[g,x]=r.useState(null),[p,b]=r.useState(!0),[j,v]=r.useState(null),[E,C]=r.useState(!1),A=async()=>{try{if(b(!0),v(null),!navigator.onLine)throw new Error("网络连接不可用，请检查网络设置");const r=await async function(e,t){try{const r=await _e(e,t);if(r.qrCodeDataURL)return{success:!0,qrCodeDataURL:r.qrCodeDataURL,price:r.price,originalUrl:r.qrCodeUrl||r.url};const n=await async function(e,t){var r,n,s;try{const i=await _e(e,t),o=i.qrCodeUrl||(null==(r=i.checkout)?void 0:r.alipayQrCodeUrl)||(null==(n=i.checkout)?void 0:n.alipay_qr_code_url)||(null==(s=i.checkout)?void 0:s.qrCodes)&&i.checkout.qrCodes.alipay||i.url||null;if(!o)throw new Error("该产品未配置支付宝二维码支付");return{success:!0,qrUrl:o,price:i.price}}catch(j){throw j}}(e,t);if(!n.success||!n.qrUrl)throw new Error("无法获取支付链接");return{success:!0,qrCodeDataURL:await qe.toDataURL(n.qrUrl,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),price:n.price,originalUrl:n.qrUrl}}catch(j){throw j}}(e,t);if(!r.success||!r.qrCodeDataURL)throw new Error("二维码生成失败");m(r.qrCodeDataURL),x(r.price)}catch(r){v("二维码生成失败，请稍后重试")}finally{b(!1)}},B=async()=>{C(!0),await A(),C(!1),null==a||a()};return r.useEffect(()=>{e&&A()},[e,t]),p?n.jsxs(c,{className:"w-full max-w-sm mx-auto",children:[n.jsx(u,{children:n.jsxs(d,{className:"text-center flex items-center justify-center gap-2",children:[n.jsx(He,{size:24}),i]})}),n.jsx(h,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(y,{className:"h-6 w-6 animate-spin text-blue-500"}),n.jsx("span",{children:"正在生成二维码..."})]})})]}):j?n.jsxs(c,{className:"w-full max-w-sm mx-auto border-red-200",children:[n.jsx(u,{children:n.jsxs(d,{className:"text-center text-red-600 flex items-center justify-center gap-2",children:[n.jsx(He,{size:24,className:"text-red-500"}),i]})}),n.jsx(h,{className:"text-center",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-red-600 text-sm",children:j}),n.jsx(s,{onClick:B,variant:"outline",size:"sm",disabled:E,children:E?n.jsxs(n.Fragment,{children:[n.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"刷新中..."]}):n.jsxs(n.Fragment,{children:[n.jsx(w,{className:"h-4 w-4 mr-2"}),"重新生成"]})})]})})]}):n.jsxs(c,{className:"w-full max-w-sm mx-auto border-blue-100 bg-gradient-to-br from-blue-50 to-white",children:[n.jsx(u,{className:"pb-4",children:n.jsxs(d,{className:"text-center flex items-center justify-center gap-2",children:[n.jsx(He,{size:32}),n.jsx("span",{className:"text-blue-900",children:i})]})}),n.jsxs(h,{className:"text-center space-y-4",children:[o&&null!==g&&n.jsx("div",{className:"space-y-2",children:n.jsxs(f,{variant:"outline",className:"text-xl px-6 py-3 bg-blue-50 border-blue-200 text-blue-700 font-semibold",children:["¥",g.toFixed(2)]})}),l&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:l,alt:"支付宝二维码",className:"border-4 border-blue-200 rounded-xl shadow-lg",style:{width:220,height:220}}),o&&null!==g&&n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:n.jsx("div",{className:"bg-white bg-opacity-95 rounded-lg px-3 py-2 shadow-md border border-blue-200",children:n.jsxs("div",{className:"text-blue-600 font-bold text-lg",children:["¥",g.toFixed(2)]})})}),n.jsx("div",{className:"absolute bottom-2 right-2",children:n.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md border border-blue-200",children:n.jsx(He,{size:20})})})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700",children:[n.jsx(N,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"安全支付"})]}),n.jsxs("p",{className:"text-xs leading-5 text-center",children:["扫码后会跳转到",n.jsx("span",{className:"text-blue-600 font-bold mx-1",children:"Creem"}),"安全支付页，请放心支付"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[n.jsx(P,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"使用手机支付宝扫码"})]}),n.jsx(s,{onClick:B,variant:"outline",size:"sm",disabled:E,className:"border-blue-200 text-blue-600 hover:bg-blue-50",children:E?n.jsxs(n.Fragment,{children:[n.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"刷新中..."]}):n.jsxs(n.Fragment,{children:[n.jsx(w,{className:"h-4 w-4 mr-2"}),"刷新二维码"]})})]})]})]})}const Je=({priceId:e,planName:t,price:r})=>n.jsx(Ye,{priceId:e,title:`${t} - 扫码支付`,showPrice:!0});function Ke(){const e=i(),{toast:t}=o(),{user:y,isAuthenticated:w}=a(),[N,P]=r.useState(null),[T,M]=r.useState("monthly"),[R,L]=r.useState(!1),[U,k]=r.useState(0),S=r.useRef(null);r.useEffect(()=>{if(!w)return;const e=()=>{const e=p(null==y?void 0:y.id),r=U;k(e),e<=0&&r>0&&t({title:"限时优惠已结束",description:"优惠期已结束，价格已恢复原价",variant:"destructive"})};e();const r=setInterval(e,1e3);return()=>clearInterval(r)},[w,null==y?void 0:y.id,t]);const F=e=>{P(e),L(!1),setTimeout(()=>{var e;null==(e=S.current)||e.scrollIntoView({behavior:"smooth",block:"center"})},100)},z=e=>{M(e),L(!1),setTimeout(()=>{var e;null==(e=S.current)||e.scrollIntoView({behavior:"smooth",block:"center"})},100)},D=()=>{if(!N)return 0;const e="monthly"===T?N.monthly:N.yearly,t=e.originalPrice;return g(null==y?void 0:y.id)&&e.discountPrice||t},q=e=>12*e.monthly.originalPrice-e.yearly.originalPrice;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(s,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:[n.jsx(b,{className:"h-4 w-4"}),"返回首页"]}),n.jsx("div",{className:"h-6 w-px bg-gray-300"}),n.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"支付中心"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"text-sm text-gray-500",children:w?"已登录":"未登录"})})]})}),n.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl md:py-16 md:px-6",children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"选择订阅计划"}),n.jsx("p",{className:"text-muted-foreground",children:"选择最适合您的计划，开启AI创作之旅"})]}),U>0&&n.jsxs("div",{className:"mb-8 p-4 bg-gradient-to-r from-red-100 to-orange-50 border-2 border-red-200 rounded-xl shadow flex flex-col md:flex-row items-center justify-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(j,{className:"w-6 h-6 text-red-500"}),n.jsx("span",{className:"text-lg md:text-xl font-bold text-red-600",children:"新用户限时优惠"})]}),n.jsxs("span",{className:"flex items-center gap-2 text-xl md:text-2xl font-bold bg-red-50 px-4 py-2 rounded-lg border-2 border-red-300",children:[n.jsx(v,{className:"w-5 h-5 text-red-400"}),x(U)]})]}),n.jsxs("div",{className:"mb-8 flex justify-center gap-4",children:[n.jsx(s,{variant:"monthly"===T?"default":"outline",onClick:()=>z("monthly"),className:"min-w-[120px]",children:"按月订阅"}),n.jsxs(s,{variant:"yearly"===T?"default":"outline",onClick:()=>z("yearly"),className:"min-w-[120px] transition-all duration-300 "+("yearly"===T?"bg-gradient-to-r from-orange-500 to-pink-500 hover:opacity-90 text-white":"bg-gradient-to-r from-orange-100 to-pink-100 text-orange-700 border-orange-300 hover:bg-gradient-to-r hover:from-orange-200 hover:to-pink-200"),children:["按年订阅",n.jsx(f,{variant:"secondary",className:"ml-2",children:"省80-202元"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6 max-w-6xl mx-auto",children:m.map(e=>{const t="monthly"===T?e.monthly:e.yearly,r=t.originalPrice,i=g(null==y?void 0:y.id),o="trial"===e.tier?0:i?t.discountPrice:r,a="trial"===e.tier?0:r-o,m=(null==N?void 0:N.id)===e.id,x=q(e);return n.jsxs(c,{className:`cursor-pointer transition-all relative group ${m?"border-4 border-blue-500 shadow-2xl scale-105":"hover:shadow-lg hover:scale-105"} ${e.recommended?"ring-2 ring-blue-200":""}`,onClick:()=>F(e),children:[e.recommended&&n.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:n.jsxs(f,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg px-4 py-1 text-base",children:[n.jsx(E,{className:"h-4 w-4 mr-1"}),"推荐"]})}),i&&U>0&&"trial"!==e.tier&&n.jsx("div",{className:"absolute -top-4 -right-2 z-10",children:n.jsxs(f,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg px-3 py-1 text-sm animate-pulse",children:[n.jsx(C,{className:"h-3 w-3 mr-1"}),"限时"]})}),"yearly"===T&&("pro"===e.tier||"premium"===e.tier)&&n.jsx("div",{className:"absolute -top-4 -left-2 z-10",children:n.jsxs(f,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg px-3 py-1 text-sm",children:[n.jsx(I,{className:"h-3 w-3 mr-1"}),"年付省¥",x]})}),n.jsxs(u,{className:"text-center pb-2",children:[n.jsxs(d,{className:"text-xl flex items-center justify-center gap-2",children:["premium"===e.tier&&n.jsx(A,{className:"h-5 w-5 text-yellow-500"}),e.name]}),n.jsx("p",{className:"text-muted-foreground text-xs md:text-sm mt-1",children:e.description})]}),n.jsxs(h,{className:"space-y-3 pb-4 px-6",children:[n.jsx("div",{className:"text-center",children:"trial"===e.tier?n.jsx("div",{className:"text-3xl font-bold text-green-600",children:"免费"}):n.jsxs("div",{className:"space-y-2",children:[i&&U>0?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"text-3xl font-bold text-red-600",children:["¥",o]}),n.jsxs("div",{className:"text-sm text-red-500 font-semibold",children:[n.jsx(C,{className:"h-3 w-3 inline mr-1"}),"限时特惠价 省¥",a.toFixed(2)]}),n.jsxs("div",{className:"text-sm text-gray-400 line-through",children:["¥",r," 原价"]})]}):n.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["¥",o]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["/","monthly"===T?"月":"年"]}),"yearly"===T&&("pro"===e.tier||"premium"===e.tier)&&n.jsxs("div",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:["月均¥",(o/12).toFixed(1),"，比月付省¥",x]})]})}),n.jsx("div",{className:"space-y-1.5 mt-3",children:e.features.map((e,t)=>n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx(l,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),n.jsx("span",{children:e})]},t))}),n.jsx(s,{variant:m?"default":"outline",className:"w-full mt-3 text-base py-2.5",disabled:"trial"===e.tier,onClick:t=>{t.stopPropagation(),F(e)},children:"trial"===e.tier?"当前版本":m?"已选择":"选择此计划"})]})]},e.id)})}),n.jsxs("div",{ref:S,className:"space-y-4 max-w-3xl mx-auto",children:[N&&"trial"!==N.tier&&!R&&n.jsx(c,{className:"border-green-100 bg-gradient-to-br from-green-50 to-white shadow-lg",children:n.jsxs(h,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-500 rounded flex items-center justify-center",children:n.jsx(B,{className:"h-3 w-3 text-white"})}),n.jsx("h3",{className:"font-semibold text-green-900",children:"支付信息"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["¥",D()]}),n.jsx("div",{className:"text-xs text-green-600",children:"monthly"===T?"月付":"年付"})]})]}),n.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-green-900",children:N.name}),n.jsx("span",{className:"text-xs text-green-700 ml-2",children:N.description})]})})}),g(null==y?void 0:y.id)&&U>0||"yearly"===T?n.jsxs("div",{className:"flex gap-2 mb-4",children:[g(null==y?void 0:y.id)&&U>0&&n.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[n.jsx(C,{className:"h-3 w-3 inline mr-1"}),"限时优惠中，节省 ¥",((N?("monthly"===T?N.monthly:N.yearly).originalPrice:0)-D()).toFixed(2)]}),"yearly"===T&&n.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[n.jsx(I,{className:"h-3 w-3 inline mr-1"}),"年付优惠，比月付省 ¥",q(N)]})]}):null,n.jsx(s,{onClick:()=>{N?(L(!0),t({title:"支付二维码已显示",description:"请使用手机扫码完成支付"})):t({title:"请选择订阅计划",description:"请先选择要订阅的计划",variant:"destructive"})},className:"w-full bg-green-500 hover:bg-green-600 text-base py-2",children:"立即支付"})]})}),R&&N&&"trial"!==N.tier&&n.jsx(c,{"data-qr-code":!0,className:"border-blue-100 bg-gradient-to-br from-blue-50 to-white shadow-xl",children:n.jsxs(h,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs font-bold",children:"支"})}),n.jsx("h3",{className:"font-semibold text-blue-900",children:"支付宝扫码支付"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["¥",D()]}),n.jsx("div",{className:"text-xs text-blue-600",children:"monthly"===T?"月付":"年付"})]})]}),g(null==y?void 0:y.id)&&U>0||"yearly"===T?n.jsxs("div",{className:"flex gap-2 mb-4",children:[g(null==y?void 0:y.id)&&U>0&&n.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[n.jsx(C,{className:"h-3 w-3 inline mr-1"}),"限时优惠中"]}),"yearly"===T&&n.jsxs("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:[n.jsx(I,{className:"h-3 w-3 inline mr-1"}),"年付优惠"]})]}):null,n.jsx("div",{className:"flex justify-center items-center py-2",children:(()=>{const e=(r=T,"pro"===(t=N).tier&&"monthly"===r?"prod_3nJOuQeVStqkp6JaDcrKHf":"pro"===t.tier&&"yearly"===r?"prod_5qBlDTLpD3h9gvOZFd4Rgu":"premium"===t.tier&&"monthly"===r?"prod_4HYBfvrcbXYnbxjlswMj28":"premium"===t.tier&&"yearly"===r?"prod_6OfIoVnRg2pXsuYceVKOYk":"");var t,r;return e?n.jsx(Je,{priceId:e,planName:N.name,price:D()}):n.jsx("div",{style:{color:"red"},children:"请先选择有效的套餐和周期"})})()}),n.jsx("div",{className:"text-center text-blue-700 text-sm mt-2",children:"请使用支付宝App扫码完成支付"})]})})]}),n.jsxs("div",{className:"mt-6 text-center text-xs md:text-sm text-muted-foreground",children:[n.jsx("p",{className:"text-green-600 font-medium mb-2",children:"💡 随时可取消"}),n.jsx("p",{children:"订阅会在期满后自动续费，您可以随时取消"}),n.jsxs("p",{className:"mt-2",children:["点击立即支付即表示您同意我们的",n.jsx("a",{href:"/terms",className:"text-blue-500 hover:underline mx-1",children:"服务条款"}),"和",n.jsx("a",{href:"/privacy",className:"text-blue-500 hover:underline mx-1",children:"隐私政策"})]})]})]})]})}export{Ke as default};
