import{_ as e,j as s,C as l,e as i,f as t,i as d,g as a,B as n}from"./index-CYvVoP-H.js";import{S as r}from"./separator-DS2DK2Rh.js";function c(){const{user:c,isAuthenticated:x,loading:m,error:o,status:h,login:j,logout:u}=e();return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(l,{children:[s.jsxs(i,{children:[s.jsx(t,{className:"text-2xl font-bold text-center",children:"🔐 Authing SDK 统一登录测试"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"验证所有登录入口都使用Authing SDK模式，不再使用自定义表单"})]}),s.jsxs(d,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(l,{children:s.jsxs(d,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold mb-2",children:x?"✅":"❌"}),s.jsx("div",{className:"text-sm font-medium",children:"认证状态"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:x?"已登录":"未登录"})]})}),s.jsx(l,{children:s.jsxs(d,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold mb-2",children:m?"⏳":"✅"}),s.jsx("div",{className:"text-sm font-medium",children:"加载状态"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:m?"加载中":"已完成"})]})}),s.jsx(l,{children:s.jsxs(d,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold mb-2",children:"authenticated"===h?"✅":"loading"===h?"⏳":"❌"}),s.jsx("div",{className:"text-sm font-medium",children:"状态详情"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:h})]})})]}),s.jsx(r,{}),x&&c&&s.jsxs(l,{children:[s.jsx(i,{children:s.jsx(t,{className:"text-lg",children:"👤 用户信息"})}),s.jsx(d,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"用户ID:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"昵称:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.nickname||"未设置"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"邮箱:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.email||"未设置"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"手机:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.phone||"未设置"})]})]})})]}),o&&s.jsx(l,{className:"border-red-200 bg-red-50",children:s.jsx(d,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{variant:"destructive",children:"错误"}),s.jsx("span",{className:"text-sm text-red-700",children:o})]})})}),s.jsx(r,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(n,{onClick:()=>{j()},disabled:m||x,className:"h-12 text-base",children:m?"⏳ 加载中...":"🔐 测试Authing登录"}),s.jsx(n,{onClick:async()=>{await u()},disabled:m||!x,variant:"outline",className:"h-12 text-base",children:"🚪 测试Authing登出"})]}),s.jsx(l,{className:"bg-blue-50 border-blue-200",children:s.jsxs(d,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"✅ 统一认证架构说明"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"• 所有登录入口都使用Authing SDK，不再使用自定义表单"}),s.jsx("li",{children:"• 登录弹窗会自动关闭，无需手动处理"}),s.jsx("li",{children:"• 支持邮箱、手机号、社交账号等多种登录方式"}),s.jsx("li",{children:"• 统一的用户状态管理和权限控制"}),s.jsx("li",{children:"• 保留了所有功能，包括个人中心等"})]})]})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"测试其他登录入口:"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[s.jsx(n,{variant:"outline",size:"sm",onClick:()=>window.open("/login","_blank"),children:"/login"}),s.jsx(n,{variant:"outline",size:"sm",onClick:()=>window.open("/login-register","_blank"),children:"/login-register"}),s.jsx(n,{variant:"outline",size:"sm",onClick:()=>window.open("/register","_blank"),children:"/register"}),s.jsx(n,{variant:"outline",size:"sm",onClick:()=>window.open("/forgot-password","_blank"),children:"/forgot-password"})]})]})]})]})})})}export{c as default};
