import{r as e,a_ as n,j as t,aM as o,b1 as r,aN as i,a0 as a,aK as s,b2 as l,b3 as d,b0 as u,a$ as c,Y as f}from"./index-CYvVoP-H.js";var m=["PageUp","PageDown"],p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},h="Slider",[w,S,g]=r(h),[b,x]=o(h,[g]),[y,D]=b(h),R=e.forwardRef((o,r)=>{const{name:a,min:s=0,max:l=100,step:u=1,orientation:c="horizontal",disabled:f=!1,minStepsBetweenThumbs:v=0,defaultValue:h=[s],value:S,onValueChange:g=()=>{},onValueCommit:b=()=>{},inverted:x=!1,form:D,...R}=o,_=e.useRef(new Set),j=e.useRef(0),P="horizontal"===c?E:M,[K=[],N]=n({prop:S,defaultProp:h,onChange:e=>{var n;null==(n=[..._.current][j.current])||n.focus(),g(e)}}),A=e.useRef(K);function C(e,n,{commit:t}={commit:!1}){const o=function(e){return(String(e).split(".")[1]||"").length}(u),r=function(e,n){const t=Math.pow(10,n);return Math.round(e*t)/t}(Math.round((e-s)/u)*u+s,o),i=d(r,[s,l]);N((e=[])=>{const o=function(e=[],n,t){const o=[...e];return o[t]=n,o.sort((e,n)=>e-n)}(e,i,n);if(function(e,n){if(n>0){const t=function(e){return e.slice(0,-1).map((n,t)=>e[t+1]-n)}(e);return Math.min(...t)>=n}return!0}(o,v*u)){j.current=o.indexOf(i);const n=String(o)!==String(e);return n&&t&&b(o),n?o:e}return e})}return t.jsx(y,{scope:o.__scopeSlider,name:a,disabled:f,min:s,max:l,valueIndexToChangeRef:j,thumbs:_.current,values:K,orientation:c,form:D,children:t.jsx(w.Provider,{scope:o.__scopeSlider,children:t.jsx(w.Slot,{scope:o.__scopeSlider,children:t.jsx(P,{"aria-disabled":f,"data-disabled":f?"":void 0,...R,ref:r,onPointerDown:i(R.onPointerDown,()=>{f||(A.current=K)}),min:s,max:l,inverted:x,onSlideStart:f?void 0:function(e){const n=function(e,n){if(1===e.length)return 0;const t=e.map(e=>Math.abs(e-n)),o=Math.min(...t);return t.indexOf(o)}(K,e);C(e,n)},onSlideMove:f?void 0:function(e){C(e,j.current)},onSlideEnd:f?void 0:function(){const e=A.current[j.current];K[j.current]!==e&&b(K)},onHomeKeyDown:()=>!f&&C(s,0,{commit:!0}),onEndKeyDown:()=>!f&&C(l,K.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:n})=>{if(!f){const t=m.includes(e.key)||e.shiftKey&&p.includes(e.key)?10:1,o=j.current;C(K[o]+u*t*n,o,{commit:!0})}}})})})})});R.displayName=h;var[_,j]=b(h,{startEdge:"left",endEdge:"right",size:"width",direction:1}),E=e.forwardRef((n,o)=>{const{min:r,max:i,dir:a,inverted:d,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...p}=n,[h,w]=e.useState(null),S=s(o,e=>w(e)),g=e.useRef(void 0),b=l(a),x="ltr"===b,y=x&&!d||!x&&d;function D(e){const n=g.current||h.getBoundingClientRect(),t=L([0,n.width],y?[r,i]:[i,r]);return g.current=n,t(e-n.left)}return t.jsx(_,{scope:n.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:t.jsx(P,{dir:b,"data-orientation":"horizontal",...p,ref:S,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const n=D(e.clientX);null==u||u(n)},onSlideMove:e=>{const n=D(e.clientX);null==c||c(n)},onSlideEnd:()=>{g.current=void 0,null==f||f()},onStepKeyDown:e=>{const n=v[y?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:n?-1:1})}})})}),M=e.forwardRef((n,o)=>{const{min:r,max:i,inverted:a,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...f}=n,m=e.useRef(null),p=s(o,m),h=e.useRef(void 0),w=!a;function S(e){const n=h.current||m.current.getBoundingClientRect(),t=L([0,n.height],w?[i,r]:[r,i]);return h.current=n,t(e-n.top)}return t.jsx(_,{scope:n.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:t.jsx(P,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const n=S(e.clientY);null==l||l(n)},onSlideMove:e=>{const n=S(e.clientY);null==d||d(n)},onSlideEnd:()=>{h.current=void 0,null==u||u()},onStepKeyDown:e=>{const n=v[w?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:n?-1:1})}})})}),P=e.forwardRef((e,n)=>{const{__scopeSlider:o,onSlideStart:r,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:c,...f}=e,v=D(h,o);return t.jsx(a.span,{...f,ref:n,onKeyDown:i(e.onKeyDown,e=>{"Home"===e.key?(d(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(p).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:i(e.onPointerDown,e=>{const n=e.target;n.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(n)?n.focus():r(e)}),onPointerMove:i(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:i(e.onPointerUp,e=>{const n=e.target;n.hasPointerCapture(e.pointerId)&&(n.releasePointerCapture(e.pointerId),l(e))})})}),K="SliderTrack",N=e.forwardRef((e,n)=>{const{__scopeSlider:o,...r}=e,i=D(K,o);return t.jsx(a.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:n})});N.displayName=K;var A="SliderRange",C=e.forwardRef((n,o)=>{const{__scopeSlider:r,...i}=n,l=D(A,r),d=j(A,r),u=e.useRef(null),c=s(o,u),f=l.values.length,m=l.values.map(e=>T(e,l.min,l.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return t.jsx(a.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...i,ref:c,style:{...n.style,[d.startEdge]:p+"%",[d.endEdge]:v+"%"}})});C.displayName=A;var I="SliderThumb",k=e.forwardRef((n,o)=>{const r=S(n.__scopeSlider),[i,a]=e.useState(null),l=s(o,e=>a(e)),d=e.useMemo(()=>i?r().findIndex(e=>e.ref.current===i):-1,[r,i]);return t.jsx(H,{...n,ref:l,index:d})}),H=e.forwardRef((n,o)=>{const{__scopeSlider:r,index:l,name:d,...c}=n,f=D(I,r),m=j(I,r),[p,v]=e.useState(null),h=s(o,e=>v(e)),S=!p||f.form||!!p.closest("form"),g=u(p),b=f.values[l],x=void 0===b?0:T(b,f.min,f.max),y=function(e,n){return n>2?`Value ${e+1} of ${n}`:2===n?["Minimum","Maximum"][e]:void 0}(l,f.values.length),R=null==g?void 0:g[m.size],_=R?function(e,n,t){const o=e/2;return(o-L([0,50],[0,o])(n)*t)*t}(R,x,m.direction):0;return e.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${x}% + ${_}px)`},children:[t.jsx(w.ItemSlot,{scope:n.__scopeSlider,children:t.jsx(a.span,{role:"slider","aria-label":n["aria-label"]||y,"aria-valuemin":f.min,"aria-valuenow":b,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...c,ref:h,style:void 0===b?{display:"none"}:n.style,onFocus:i(n.onFocus,()=>{f.valueIndexToChangeRef.current=l})})}),S&&t.jsx(z,{name:d??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:b},l)]})});k.displayName=I;var z=e.forwardRef(({__scopeSlider:n,value:o,...r},i)=>{const l=e.useRef(null),d=s(l,i),u=c(o);return e.useEffect(()=>{const e=l.current;if(!e)return;const n=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(n,"value").set;if(u!==o&&t){const n=new Event("input",{bubbles:!0});t.call(e,o),e.dispatchEvent(n)}},[u,o]),t.jsx(a.input,{style:{display:"none"},...r,ref:d,defaultValue:o})});function T(e,n,t){return d(100/(t-n)*(e-n),[0,100])}function L(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(e[1]-e[0]);return n[0]+o*(t-e[0])}}z.displayName="RadioBubbleInput";var U=R,V=N,$=C,B=k;const O=e.forwardRef(({className:e,...n},o)=>t.jsxs(U,{ref:o,className:f("relative flex w-full touch-none select-none items-center",e),...n,children:[t.jsx(V,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:t.jsx($,{className:"absolute h-full bg-primary"})}),t.jsx(B,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));O.displayName=U.displayName;export{O as S};
