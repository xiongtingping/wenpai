import{j as s}from"./ui-core-CpixwkN4.js";import{g as e,p as i,u as l,B as a,s as r,C as n,a as c,b as t,d,e as x}from"./pages-home-VedHkcQa.js";import{B as h}from"./pages-adapt-TpxL9qXl.js";import{S as m}from"./pages-hot-topics-Bfl9l8w8.js";import{r as j,u as o}from"./router-CDHmMMQ-.js";import{C as g,o as u,ad as p,aT as N,aU as f,aK as v,U as b,W as w,f as y}from"./utils-BtoDKMDU.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-DkW9i9QU.js";import"./components-layout-DVNx4yCQ.js";import"./components-auth-Dtkj9iM3.js";import"./pages-brand-BFAxHyKh.js";import"./api-services-Bt6XQYxd.js";import"./pages-content-extractor-COXy_-Wy.js";function L({variant:n="default",size:c="default",className:t="",showLoading:d=!0,showUserStatus:x=!0,redirectTo:m="/",children:f}){const[v,b]=j.useState(!1),{isAuthenticated:w,user:y}=e(),{showLogin:L}=i(),{toast:S}=l(),k=o();return w&&x?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(h,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(g,{className:"w-3 h-3 text-green-600"}),"已登录"]}),s.jsxs(a,{variant:"outline",size:c,onClick:()=>{k("/user-profile")},className:`flex items-center gap-2 ${t}`,children:[s.jsx(u,{className:"w-4 h-4"}),(null==y?void 0:y.nickname)||(null==y?void 0:y.username)||"用户中心"]})]}):s.jsxs(a,{variant:n,size:c,onClick:async()=>{try{b(!0),r.secureLog("用户点击登录按钮",{timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,redirectTo:m}),L(),S({title:"正在跳转到登录页面",description:"请完成登录以继续使用"})}catch(s){r.secureLog("登录按钮点击失败",{error:s instanceof Error?s.message:"未知错误",timestamp:(new Date).toISOString()},"error"),S({title:"登录失败",description:"请稍后重试或联系客服",variant:"destructive"})}finally{b(!1)}},disabled:v,className:`flex items-center gap-2 ${t}`,children:[v&&d?s.jsx(p,{className:"w-4 h-4 animate-spin"}):s.jsx(N,{className:"w-4 h-4"}),f||(v?"跳转中...":"登录 / 注册")]})}function S({className:l="",redirectTo:r="/"}){const{isAuthenticated:n}=e(),{showLogin:c}=i(),[t,d]=j.useState(!1);return n?null:s.jsxs(a,{variant:"ghost",size:"sm",onClick:async()=>{if(!n)try{d(!0),c()}catch(s){}finally{d(!1)}},disabled:t,className:`text-sm ${l}`,children:[t?s.jsx(p,{className:"w-3 h-3 animate-spin mr-1"}):s.jsx(N,{className:"w-3 h-3 mr-1"}),"登录"]})}function k({className:l="",redirectTo:n="/register"}){const{isAuthenticated:c}=e(),{showLogin:t}=i(),[d,x]=j.useState(!1);return c?null:s.jsxs(a,{variant:"outline",size:"sm",onClick:async()=>{if(!c)try{x(!0),r.secureLog("用户点击注册按钮",{timestamp:(new Date).toISOString(),redirectTo:n}),t()}catch(s){r.secureLog("注册按钮点击失败",{error:s instanceof Error?s.message:"未知错误"},"error")}finally{x(!1)}},disabled:d,className:`flex items-center gap-1 ${l}`,children:[d?s.jsx(p,{className:"w-3 h-3 animate-spin"}):s.jsx(f,{className:"w-3 h-3"}),"注册"]})}function z(){const{isAuthenticated:i,user:l}=e(),r=o();return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(a,{variant:"ghost",onClick:()=>{r(-1)},className:"mb-4",children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),"返回"]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"登录按钮测试"}),s.jsx("p",{className:"text-gray-600",children:"测试LoginButton组件的不同样式和功能"}),s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"当前状态:"}),s.jsx(h,{variant:i?"default":"secondary",children:i?"已登录":"未登录"}),i&&l&&s.jsxs("span",{className:"text-sm text-gray-600",children:["(",l.nickname||l.username,")"]})]})})]}),s.jsxs(n,{className:"mb-8",children:[s.jsxs(c,{children:[s.jsxs(t,{className:"flex items-center gap-2",children:[s.jsx(N,{className:"w-5 h-5"}),"组件说明"]}),s.jsx(d,{children:"LoginButton组件支持多种样式和配置选项，自动处理登录状态"})]}),s.jsx(x,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"智能状态"}),s.jsx("p",{className:"text-sm text-blue-700",children:"根据登录状态自动显示不同内容，已登录时显示用户信息"})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"安全功能"}),s.jsx("p",{className:"text-sm text-green-700",children:"集成安全日志记录、错误处理和加载状态管理"})]}),s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"多种样式"}),s.jsx("p",{className:"text-sm text-purple-700",children:"支持多种按钮变体、大小和自定义样式"})]})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(b,{className:"w-5 h-5 text-blue-600"}),"主要登录按钮"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{className:"text-lg",children:"默认样式"}),s.jsx(d,{children:"标准登录按钮"})]}),s.jsx(x,{children:s.jsx(L,{})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{className:"text-lg",children:"轮廓样式"}),s.jsx(d,{children:"outline 变体"})]}),s.jsx(x,{children:s.jsx(L,{variant:"outline"})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{className:"text-lg",children:"幽灵样式"}),s.jsx(d,{children:"ghost 变体"})]}),s.jsx(x,{children:s.jsx(L,{variant:"ghost"})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{className:"text-lg",children:"链接样式"}),s.jsx(d,{children:"link 变体"})]}),s.jsx(x,{children:s.jsx(L,{variant:"link"})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{className:"text-lg",children:"大尺寸"}),s.jsx(d,{children:"lg 尺寸"})]}),s.jsx(x,{children:s.jsx(L,{size:"lg"})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{className:"text-lg",children:"小尺寸"}),s.jsx(d,{children:"sm 尺寸"})]}),s.jsx(x,{children:s.jsx(L,{size:"sm"})})]})]})]}),s.jsx(m,{className:"my-8"}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(w,{className:"w-5 h-5 text-green-600"}),"快速登录按钮"]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{children:"QuickLoginButton"}),s.jsx(d,{children:"简化版本的登录按钮，已登录时自动隐藏"})]}),s.jsx(x,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(S,{}),s.jsx("span",{className:"text-sm text-gray-500",children:"← 点击测试快速登录功能"})]})})]})]}),s.jsx(m,{className:"my-8"}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(y,{className:"w-5 h-5 text-purple-600"}),"注册按钮"]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{children:"RegisterButton"}),s.jsx(d,{children:"专门用于注册的按钮，已登录时自动隐藏"})]}),s.jsx(x,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(k,{}),s.jsx("span",{className:"text-sm text-gray-500",children:"← 点击测试注册功能"})]})})]})]}),s.jsx(m,{className:"my-8"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"自定义配置"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{children:"自定义文本"}),s.jsx(d,{children:"使用 children 属性自定义按钮文本"})]}),s.jsx(x,{children:s.jsx(L,{variant:"outline",children:"立即开始使用"})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{children:"自定义跳转"}),s.jsx(d,{children:"登录后跳转到指定页面"})]}),s.jsx(x,{children:s.jsx(L,{variant:"outline",redirectTo:"/user-profile",children:"登录后查看用户信息"})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{children:"隐藏用户状态"}),s.jsx(d,{children:"showUserStatus=false"})]}),s.jsx(x,{children:s.jsx(L,{variant:"outline",showUserStatus:!1})})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{children:"隐藏加载状态"}),s.jsx(d,{children:"showLoading=false"})]}),s.jsx(x,{children:s.jsx(L,{variant:"outline",showLoading:!1})})]})]})]}),s.jsxs(n,{children:[s.jsxs(c,{children:[s.jsx(t,{children:"功能特性"}),s.jsx(d,{children:"LoginButton组件的主要功能和特性"})]}),s.jsx(x,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"核心功能"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:"• 自动检测登录状态"}),s.jsx("li",{children:"• 支持多种按钮样式"}),s.jsx("li",{children:"• 可配置跳转路径"}),s.jsx("li",{children:"• 加载状态管理"}),s.jsx("li",{children:"• 错误处理和提示"}),s.jsx("li",{children:"• 用户状态显示"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"安全特性"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("li",{children:"• 安全日志记录"}),s.jsx("li",{children:"• 错误日志追踪"}),s.jsx("li",{children:"• 用户行为监控"}),s.jsx("li",{children:"• 安全的跳转机制"}),s.jsx("li",{children:"• 防重复点击"}),s.jsx("li",{children:"• 状态验证"})]})]})]})})]})]})}export{z as default};
