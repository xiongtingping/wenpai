import{r as e,j as s,C as a,e as r,f as l,g as c,i as t,L as i,B as m,ae as n,l as d,m as x}from"./index-BuR5xlXm.js";import{I as h}from"./input-DXKrnJBr.js";import{c as o}from"./creemClientService-CRnFWG6U.js";import"./browser-Il7jAgTf.js";function j(){const[j,u]=e.useState(!1),[p,N]=e.useState(null),[g,f]=e.useState(null),[v,b]=e.useState("prod_3nJOuQeVStqkp6JaDcrKHf"),[y,C]=e.useState("test@example.com");return s.jsx("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:s.jsxs(a,{children:[s.jsxs(r,{children:[s.jsxs(l,{className:"flex items-center gap-2",children:["🧪 简单Creem API测试",s.jsx(c,{variant:"secondary",children:"快速验证"})]}),s.jsx("p",{className:"text-muted-foreground",children:"快速测试Creem API是否正常工作"})]}),s.jsxs(t,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(i,{htmlFor:"priceId",children:"价格ID"}),s.jsx(h,{id:"priceId",value:v,onChange:e=>b(e.target.value),placeholder:"输入Creem价格ID",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(i,{htmlFor:"customerEmail",children:"客户邮箱"}),s.jsx(h,{id:"customerEmail",type:"email",value:y,onChange:e=>C(e.target.value),placeholder:"customer@example.com",className:"mt-1"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(m,{onClick:async()=>{u(!0),N(null),f(null);try{const e=await o(v,y);N(e)}catch(e){f(e.message||"未知错误")}finally{u(!1)}},disabled:j,size:"lg",className:"min-w-[200px]",children:j?s.jsxs(s.Fragment,{children:[s.jsx(n,{className:"h-5 w-5 mr-2 animate-spin"}),"测试中..."]}):"测试Creem API"})}),g&&s.jsx(a,{className:"border-red-200 bg-red-50",children:s.jsxs(t,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(d,{className:"h-5 w-5 text-red-600"}),s.jsx("h3",{className:"font-medium text-red-900",children:"测试失败"})]}),s.jsx("p",{className:"text-red-700 text-sm",children:g})]})}),p&&s.jsx(a,{className:"border-green-200 bg-green-50",children:s.jsxs(t,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(x,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"font-medium text-green-900",children:"测试成功"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"成功:"})," ",p.success?"是":"否"]}),p.url&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"支付URL:"})," ",p.url]}),p.checkout&&s.jsxs("details",{className:"mt-4",children:[s.jsx("summary",{className:"cursor-pointer text-green-700 font-medium",children:"查看完整响应数据"}),s.jsx("pre",{className:"mt-2 p-3 bg-white rounded border text-xs overflow-auto",children:JSON.stringify(p.checkout,null,2)})]})]})]})}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"使用说明"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("p",{children:"• 输入有效的Creem价格ID（如：prod_3nJOuQeVStqkp6JaDcrKHf）"}),s.jsx("p",{children:"• 输入客户邮箱（可选，但推荐填写）"}),s.jsx("p",{children:'• 点击"测试Creem API"按钮'}),s.jsx("p",{children:"• 查看测试结果和响应数据"})]})]})]})]})})}export{j as default};
