import{j as s}from"./ui-core-CkDiOLPZ.js";import{r as e,u as a}from"./router-CDHmMMQ-.js";import{u as l,f as r,j as t,n as c,o as i,k as n,B as x,C as d,a as m,b as o,d as j,e as h,p as g}from"./pages-home-cm4XWoxC.js";import{B as p}from"./pages-adapt-BekQTgf9.js";import{aK as N,aJ as f,x as u,U as v,E as b}from"./utils-DOwhHgxs.js";import"./react-vendor-D7XYiaTe.js";import"./components-landing-lYQV1woT.js";import"./components-layout-Dpkc7dU5.js";import"./components-auth-Cmg7TtKX.js";import"./pages-brand-CdVj9KMe.js";import"./api-services-CFC91rmd.js";function y(){const[y,w]=e.useState(null),[k,S]=e.useState(null),[C,I]=e.useState(!1),[D,z]=e.useState(""),[R,U]=e.useState({}),{toast:B}=l(),E=a(),{getReferrer:F,clearReferrer:L}=r();e.useEffect(()=>{$()},[]);const $=()=>{w(t()),S(c()),I(i()),z(n());const s={};for(let e=0;e<localStorage.length;e++){const a=localStorage.key(e);a&&(s[a]=localStorage.getItem(a)||"")}U(s)},J=s=>{navigator.clipboard.writeText(s),B({title:"已复制到剪贴板",description:s})},K=s=>`${window.location.origin}/register?ref=${s}`;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(x,{variant:"ghost",onClick:()=>E("/"),className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[s.jsx(N,{className:"h-4 w-4"}),"返回首页"]}),s.jsxs(d,{className:"shadow-xl",children:[s.jsxs(m,{children:[s.jsxs(o,{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(f,{className:"h-6 w-6 text-green-600"}),"推荐人ID测试页面"]}),s.jsx(j,{children:"测试推荐人ID的识别、存储和处理功能"})]}),s.jsxs(h,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(d,{className:"border-2 border-blue-200",children:[s.jsx(m,{className:"pb-3",children:s.jsx(o,{className:"text-lg",children:"当前状态"})}),s.jsxs(h,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"URL包含推荐人参数:"}),s.jsx(p,{variant:C?"default":"secondary",children:C?"是":"否"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"localStorage推荐人ID:"}),s.jsx("div",{className:"flex items-center gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(p,{variant:"default",className:"text-xs",children:y}),s.jsx(x,{size:"sm",variant:"ghost",onClick:()=>J(y),children:s.jsx(u,{className:"h-3 w-3"})})]}):s.jsx(p,{variant:"secondary",children:"无"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"URL推荐人ID:"}),s.jsx("div",{className:"flex items-center gap-2",children:k?s.jsxs(s.Fragment,{children:[s.jsx(p,{variant:"default",className:"text-xs",children:k}),s.jsx(x,{size:"sm",variant:"ghost",onClick:()=>J(k),children:s.jsx(u,{className:"h-3 w-3"})})]}):s.jsx(p,{variant:"secondary",children:"无"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"临时用户ID:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(p,{variant:"outline",className:"text-xs font-mono",children:D}),s.jsx(x,{size:"sm",variant:"ghost",onClick:()=>J(D),children:s.jsx(u,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs(d,{className:"border-2 border-green-200",children:[s.jsx(m,{className:"pb-3",children:s.jsx(o,{className:"text-lg",children:"操作"})}),s.jsxs(h,{className:"space-y-3",children:[s.jsx(x,{onClick:$,className:"w-full",variant:"outline",children:"刷新数据"}),s.jsx(x,{onClick:()=>{g(),L(),$(),B({title:"推荐人ID已清除",description:"localStorage和状态中的推荐人ID都已清除"})},className:"w-full",variant:"destructive",children:"清除推荐人ID"}),s.jsx(x,{onClick:()=>{E("/register")},className:"w-full",children:"跳转到注册页面"})]})]})]}),s.jsxs(d,{className:"border-2 border-purple-200",children:[s.jsxs(m,{children:[s.jsx(o,{className:"text-lg",children:"测试链接生成"}),s.jsx(j,{children:"生成包含推荐人ID的测试链接"})]}),s.jsx(h,{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["user123","invite456","test789"].map(e=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"text-sm font-medium",children:["推荐人ID: ",e]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(x,{size:"sm",variant:"outline",onClick:()=>{const s=K(e);J(s)},className:"flex-1",children:[s.jsx(u,{className:"h-3 w-3 mr-1"}),"复制链接"]}),s.jsx(x,{size:"sm",variant:"outline",onClick:()=>{const s=K(e);window.open(s,"_blank")},children:s.jsx(b,{className:"h-3 w-3"})})]})]},e))})})]}),s.jsxs(d,{className:"border-2 border-orange-200",children:[s.jsxs(m,{children:[s.jsx(o,{className:"text-lg",children:"localStorage数据"}),s.jsx(j,{children:"查看localStorage中存储的所有数据"})]}),s.jsx(h,{children:s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Object.entries(R).map(([e,a])=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm font-mono text-gray-700",children:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500 max-w-40 truncate",children:a}),s.jsx(x,{size:"sm",variant:"ghost",onClick:()=>J(a),children:s.jsx(u,{className:"h-3 w-3"})})]})]},e))})})]})]})]})]})})}export{y as default};
