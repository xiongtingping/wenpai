import{j as e}from"./ui-core-BoM6Gtru.js";import{r as s}from"./router-CDHmMMQ-.js";import"./react-vendor-D7XYiaTe.js";function t(){const[t,r]=s.useState(!1),[a,l]=s.useState(null),[d,n]=s.useState(null);return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"简单二维码测试"}),e.jsx("p",{className:"text-gray-600",children:"测试后端接口是否正常工作"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:async()=>{r(!0),n(null);try{const e=await fetch("http://localhost:8888/.netlify/functions/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:"prod_3nJOuQeVStqkp6JaDcrKHf"})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const s=await e.json();l(s)}catch(e){n(e.message)}finally{r(!1)}},disabled:t,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:t?"测试中...":"测试二维码接口"})}),d&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[e.jsx("strong",{children:"错误:"})," ",d]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:[e.jsx("strong",{children:"成功!"})," 接口调用成功"]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"返回数据:"}),e.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(a,null,2)})]}),a.qrCodeDataURL&&e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-bold mb-4",children:"生成的二维码:"}),e.jsx("img",{src:a.qrCodeDataURL,alt:"支付二维码",className:"border-2 border-gray-200 rounded-lg mx-auto",style:{width:300,height:300}}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["二维码数据长度: ",a.qrCodeDataURL.length," 字符"]})]})]})]})})}export{t as default};
